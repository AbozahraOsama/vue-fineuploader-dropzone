webpackJsonp([1,0],[,function(e,t,n){var i=n(26)("wks"),r=n(29),o=n(2).Symbol,a="function"==typeof o,s=e.exports=function(e){return i[e]||(i[e]=a&&o[e]||(a?o:r)("Symbol."+e))};s.store=i},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){var i=n(12);e.exports=function(e){if(!i(e))throw TypeError(e+" is not an object!");return e}},function(e,t){var n=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},function(e,t,n){e.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var i=n(8),r=n(14);e.exports=n(5)?function(e,t,n){return i.f(e,t,r(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var i=n(3),r=n(46),o=n(63),a=Object.defineProperty;t.f=n(5)?Object.defineProperty:function(e,t,n){if(i(e),t=o(t,!0),i(n),r)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,n){var i=n(2),r=n(4),o=n(20),a=n(7),s="prototype",u=function(e,t,n){var l,c,d,p=e&u.F,f=e&u.G,h=e&u.S,q=e&u.P,m=e&u.B,g=e&u.W,v=f?r:r[t]||(r[t]={}),_=v[s],y=f?i:h?i[t]:(i[t]||{})[s];f&&(n=t);for(l in n)c=!p&&y&&void 0!==y[l],c&&l in v||(d=c?y[l]:n[l],v[l]=f&&"function"!=typeof y[l]?n[l]:m&&c?o(d,i):g&&y[l]==d?function(e){var t=function(t,n,i){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,i)}return e.apply(this,arguments)};return t[s]=e[s],t}(d):q&&"function"==typeof d?o(Function.call,d):d,q&&((v.virtual||(v.virtual={}))[l]=d,e&u.R&&_&&!_[l]&&a(_,l,d)))};u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t){e.exports={}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var i=n(26)("keys"),r=n(29);e.exports=function(e){return i[e]||(i[e]=r(e))}},function(e,t){var n=Math.ceil,i=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?i:n)(e)}},function(e,t,n){var i=n(9);e.exports=function(e){return Object(i(e))}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(37),o=i(r);t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var i=n(41);e.exports=function(e,t,n){if(i(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var i=n(12),r=n(2).document,o=i(r)&&i(r.createElement);e.exports=function(e){return o?r.createElement(e):{}}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var i=n(19);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==i(e)?e.split(""):Object(e)}},function(e,t,n){var i=n(58),r=n(22);e.exports=Object.keys||function(e){return i(e,r)}},function(e,t,n){var i=n(8).f,r=n(6),o=n(1)("toStringTag");e.exports=function(e,t,n){e&&!r(e=n?e:e.prototype,o)&&i(e,o,{configurable:!0,value:t})}},function(e,t,n){var i=n(2),r="__core-js_shared__",o=i[r]||(i[r]={});e.exports=function(e){return o[e]||(o[e]={})}},function(e,t,n){var i=n(23),r=n(9);e.exports=function(e){return i(r(e))}},function(e,t,n){var i=n(16),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},function(e,t){var n=0,i=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+i).toString(36))}},function(e,t,n){(function(t){/*!
	 * Vue.js v2.1.8
	 * (c) 2014-2016 Evan You
	 * Released under the MIT License.
	 */
"use strict";function n(e){return null==e?"":"object"==typeof e?JSON.stringify(e,null,2):String(e)}function i(e){var t=parseFloat(e,10);return t||0===t?t:e}function r(e,t){for(var n=Object.create(null),i=e.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}function o(e,t){if(e.length){var n=e.indexOf(t);if(n>-1)return e.splice(n,1)}}function a(e,t){return bn.call(e,t)}function s(e){return"string"==typeof e||"number"==typeof e}function u(e){var t=Object.create(null);return function(n){var i=t[n];return i||(t[n]=e(n))}}function l(e,t){function n(n){var i=arguments.length;return i?i>1?e.apply(t,arguments):e.call(t,n):e.call(t)}return n._length=e.length,n}function c(e,t){t=t||0;for(var n=e.length-t,i=new Array(n);n--;)i[n]=e[n+t];return i}function d(e,t){for(var n in t)e[n]=t[n];return e}function p(e){return null!==e&&"object"==typeof e}function f(e){return An.call(e)===Pn}function h(e){for(var t={},n=0;n<e.length;n++)e[n]&&d(t,e[n]);return t}function q(){}function m(e){return e.reduce(function(e,t){return e.concat(t.staticKeys||[])},[]).join(",")}function g(e,t){var n=p(e),i=p(t);return n&&i?JSON.stringify(e)===JSON.stringify(t):!n&&!i&&String(e)===String(t)}function v(e,t){for(var n=0;n<e.length;n++)if(g(e[n],t))return n;return-1}function _(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function y(e,t,n,i){Object.defineProperty(e,t,{value:n,enumerable:!!i,writable:!0,configurable:!0})}function b(e){if(!In.test(e)){var t=e.split(".");return function(e){for(var n=0;n<t.length;n++){if(!e)return;e=e[t[n]]}return e}}}function S(e){return/native code/.test(e.toString())}function w(e){Wn.target&&Xn.push(Wn.target),Wn.target=e}function x(){Wn.target=Xn.pop()}function C(e,t){e.__proto__=t}function E(e,t,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];y(e,o,t[o])}}function A(e,t){if(p(e)){var n;return a(e,"__ob__")&&e.__ob__ instanceof Zn?n=e.__ob__:Qn.shouldConvert&&!Ln()&&(Array.isArray(e)||f(e))&&Object.isExtensible(e)&&!e._isVue&&(n=new Zn(e)),t&&n&&n.vmCount++,n}}function P(e,t,n,i){var r=new Wn,o=Object.getOwnPropertyDescriptor(e,t);if(!o||o.configurable!==!1){var a=o&&o.get,s=o&&o.set,u=A(n);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=a?a.call(e):n;return Wn.target&&(r.depend(),u&&u.dep.depend(),Array.isArray(t)&&k(t)),t},set:function(t){var i=a?a.call(e):n;t===i||t!==t&&i!==i||(s?s.call(e,t):n=t,u=A(t),r.notify())}})}}function F(e,t,n){if(Array.isArray(e))return e.length=Math.max(e.length,t),e.splice(t,1,n),n;if(a(e,t))return void(e[t]=n);var i=e.__ob__;if(!(e._isVue||i&&i.vmCount))return i?(P(i.value,t,n),i.dep.notify(),n):void(e[t]=n)}function T(e,t){var n=e.__ob__;e._isVue||n&&n.vmCount||a(e,t)&&(delete e[t],n&&n.dep.notify())}function k(e){for(var t=void 0,n=0,i=e.length;n<i;n++)t=e[n],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&k(t)}function I(e,t){if(!t)return e;for(var n,i,r,o=Object.keys(t),s=0;s<o.length;s++)n=o[s],i=e[n],r=t[n],a(e,n)?f(i)&&f(r)&&I(i,r):F(e,n,r);return e}function D(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function R(e,t){var n=Object.create(e||null);return t?d(n,t):n}function U(e){var t=e.props;if(t){var n,i,r,o={};if(Array.isArray(t))for(n=t.length;n--;)i=t[n],"string"==typeof i&&(r=wn(i),o[r]={type:null});else if(f(t))for(var a in t)i=t[a],r=wn(a),o[r]=f(i)?i:{type:i};e.props=o}}function B(e){var t=e.directives;if(t)for(var n in t){var i=t[n];"function"==typeof i&&(t[n]={bind:i,update:i})}}function O(e,t,n){function i(i){var r=ei[i]||ti;c[i]=r(e[i],t[i],n,i)}U(t),B(t);var r=t.extends;if(r&&(e="function"==typeof r?O(e,r.options,n):O(e,r,n)),t.mixins)for(var o=0,s=t.mixins.length;o<s;o++){var u=t.mixins[o];u.prototype instanceof $e&&(u=u.options),e=O(e,u,n)}var l,c={};for(l in e)i(l);for(l in t)a(e,l)||i(l);return c}function N(e,t,n,i){if("string"==typeof n){var r=e[t];if(a(r,n))return r[n];var o=wn(n);if(a(r,o))return r[o];var s=xn(o);if(a(r,s))return r[s];var u=r[n]||r[o]||r[s];return u}}function M(e,t,n,i){var r=t[e],o=!a(n,e),s=n[e];if(z(Boolean,r.type)&&(o&&!a(r,"default")?s=!1:z(String,r.type)||""!==s&&s!==En(e)||(s=!0)),void 0===s){s=H(i,r,e);var u=Qn.shouldConvert;Qn.shouldConvert=!0,A(s),Qn.shouldConvert=u}return s}function H(e,t,n){if(a(t,"default")){var i=t.default;return p(i),e&&e.$options.propsData&&void 0===e.$options.propsData[n]&&void 0!==e[n]?e[n]:"function"==typeof i&&t.type!==Function?i.call(e):i}}function L(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t&&t[1]}function z(e,t){if(!Array.isArray(t))return L(t)===L(e);for(var n=0,i=t.length;n<i;n++)if(L(t[n])===L(e))return!0;return!1}function j(){ii.length=0,ri={},oi=ai=!1}function $(){for(ai=!0,ii.sort(function(e,t){return e.id-t.id}),si=0;si<ii.length;si++){var e=ii[si],t=e.id;ri[t]=null,e.run()}zn&&kn.devtools&&zn.emit("flush"),j()}function V(e){var t=e.id;if(null==ri[t]){if(ri[t]=!0,ai){for(var n=ii.length-1;n>=0&&ii[n].id>e.id;)n--;ii.splice(Math.max(n,si)+1,0,e)}else ii.push(e);oi||(oi=!0,jn($))}}function G(e){di.clear(),W(e,di)}function W(e,t){var n,i,r=Array.isArray(e);if((r||p(e))&&Object.isExtensible(e)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(r)for(n=e.length;n--;)W(e[n],t);else for(i=Object.keys(e),n=i.length;n--;)W(e[i[n]],t)}}function X(e){e._watchers=[];var t=e.$options;t.props&&K(e,t.props),t.methods&&Z(e,t.methods),t.data?J(e):A(e._data={},!0),t.computed&&Y(e,t.computed),t.watch&&ee(e,t.watch)}function K(e,t){var n=e.$options.propsData||{},i=e.$options._propKeys=Object.keys(t),r=!e.$parent;Qn.shouldConvert=r;for(var o=function(r){var o=i[r];P(e,o,M(o,t,n,e))},a=0;a<i.length;a++)o(a);Qn.shouldConvert=!0}function J(e){var t=e.$options.data;t=e._data="function"==typeof t?t.call(e):t||{},f(t)||(t={});for(var n=Object.keys(t),i=e.$options.props,r=n.length;r--;)i&&a(i,n[r])||ie(e,n[r]);A(t,!0)}function Y(e,t){for(var n in t){var i=t[n];"function"==typeof i?(pi.get=Q(i,e),pi.set=q):(pi.get=i.get?i.cache!==!1?Q(i.get,e):l(i.get,e):q,pi.set=i.set?l(i.set,e):q),Object.defineProperty(e,n,pi)}}function Q(e,t){var n=new li(t,e,q,{lazy:!0});return function(){return n.dirty&&n.evaluate(),Wn.target&&n.depend(),n.value}}function Z(e,t){for(var n in t)e[n]=null==t[n]?q:l(t[n],e)}function ee(e,t){for(var n in t){var i=t[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)te(e,n,i[r]);else te(e,n,i)}}function te(e,t,n){var i;f(n)&&(i=n,n=n.handler),"string"==typeof n&&(n=e[n]),e.$watch(t,n,i)}function ne(e){var t={};t.get=function(){return this._data},Object.defineProperty(e.prototype,"$data",t),e.prototype.$set=F,e.prototype.$delete=T,e.prototype.$watch=function(e,t,n){var i=this;n=n||{},n.user=!0;var r=new li(i,e,t,n);return n.immediate&&t.call(i,r.value),function(){r.teardown()}}}function ie(e,t){_(t)||Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return e._data[t]},set:function(n){e._data[t]=n}})}function re(e){return new fi(void 0,void 0,void 0,String(e))}function oe(e){var t=new fi(e.tag,e.data,e.children,e.text,e.elm,e.context,e.componentOptions);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isCloned=!0,t}function ae(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=oe(e[n]);return t}function se(e,t,n,i){i+=t;var r=e.__injected||(e.__injected={});if(!r[i]){r[i]=!0;var o=e[t];o?e[t]=function(){o.apply(this,arguments),n.apply(this,arguments)}:e[t]=n}}function ue(e,t,n,i,r){var o,a,s,u,l,c,d;for(o in e)if(a=e[o],s=t[o],a)if(s){if(a!==s)if(Array.isArray(s)){s.length=a.length;for(var p=0;p<s.length;p++)s[p]=a[p];e[o]=s}else s.fn=a,e[o]=s}else d="~"===o.charAt(0),l=d?o.slice(1):o,c="!"===l.charAt(0),l=c?l.slice(1):l,Array.isArray(a)?n(l,a.invoker=le(a),d,c):(a.invoker||(u=a,a=e[o]={},a.fn=u,a.invoker=ce(a)),n(l,a.invoker,d,c));else;for(o in t)e[o]||(d="~"===o.charAt(0),l=d?o.slice(1):o,c="!"===l.charAt(0),l=c?l.slice(1):l,i(l,t[o].invoker,c))}function le(e){return function(t){for(var n=arguments,i=1===arguments.length,r=0;r<e.length;r++)i?e[r](t):e[r].apply(null,n)}}function ce(e){return function(t){var n=1===arguments.length;n?e.fn(t):e.fn.apply(null,arguments)}}function de(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function pe(e){return s(e)?[re(e)]:Array.isArray(e)?fe(e):void 0}function fe(e,t){var n,i,r,o=[];for(n=0;n<e.length;n++)i=e[n],null!=i&&"boolean"!=typeof i&&(r=o[o.length-1],Array.isArray(i)?o.push.apply(o,fe(i,(t||"")+"_"+n)):s(i)?r&&r.text?r.text+=String(i):""!==i&&o.push(re(i)):i.text&&r&&r.text?o[o.length-1]=re(r.text+i.text):(i.tag&&null==i.key&&null!=t&&(i.key="__vlist"+t+"_"+n+"__"),o.push(i)));return o}function he(e){return e&&e.filter(function(e){return e&&e.componentOptions})[0]}function qe(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&ve(e,t)}function me(e,t,n){n?ci.$once(e,t):ci.$on(e,t)}function ge(e,t){ci.$off(e,t)}function ve(e,t,n){ci=e,ue(t,n||{},me,ge,e)}function _e(e){var t=/^hook:/;e.prototype.$on=function(e,n){var i=this;return(i._events[e]||(i._events[e]=[])).push(n),t.test(e)&&(i._hasHookEvent=!0),i},e.prototype.$once=function(e,t){function n(){i.$off(e,n),t.apply(i,arguments)}var i=this;return n.fn=t,i.$on(e,n),i},e.prototype.$off=function(e,t){var n=this;if(!arguments.length)return n._events=Object.create(null),n;var i=n._events[e];if(!i)return n;if(1===arguments.length)return n._events[e]=null,n;for(var r,o=i.length;o--;)if(r=i[o],r===t||r.fn===t){i.splice(o,1);break}return n},e.prototype.$emit=function(e){var t=this,n=t._events[e];if(n){n=n.length>1?c(n):n;for(var i=c(arguments,1),r=0,o=n.length;r<o;r++)n[r].apply(t,i)}return t}}function ye(e){var t=e.$options,n=t.parent;if(n&&!t.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(e)}e.$parent=n,e.$root=n?n.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function be(e){e.prototype._mount=function(e,t){var n=this;return n.$el=e,n.$options.render||(n.$options.render=hi),Se(n,"beforeMount"),n._watcher=new li(n,function(){n._update(n._render(),t)},q),t=!1,null==n.$vnode&&(n._isMounted=!0,Se(n,"mounted")),n},e.prototype._update=function(e,t){var n=this;n._isMounted&&Se(n,"beforeUpdate");var i=n.$el,r=n._vnode,o=qi;qi=n,n._vnode=e,r?n.$el=n.__patch__(r,e):n.$el=n.__patch__(n.$el,e,t,!1,n.$options._parentElm,n.$options._refElm),qi=o,i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el),n._isMounted&&Se(n,"updated")},e.prototype._updateFromParent=function(e,t,n,i){var r=this,o=!(!r.$options._renderChildren&&!i);if(r.$options._parentVnode=n,r.$vnode=n,r._vnode&&(r._vnode.parent=n),r.$options._renderChildren=i,e&&r.$options.props){Qn.shouldConvert=!1;for(var a=r.$options._propKeys||[],s=0;s<a.length;s++){var u=a[s];r[u]=M(u,r.$options.props,e,r)}Qn.shouldConvert=!0,r.$options.propsData=e}if(t){var l=r.$options._parentListeners;r.$options._parentListeners=t,ve(r,t,l)}o&&(r.$slots=He(i,n.context),r.$forceUpdate())},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){Se(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||o(t.$children,e),e._watcher&&e._watcher.teardown();for(var n=e._watchers.length;n--;)e._watchers[n].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,Se(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.__patch__(e._vnode,null)}}}function Se(e,t){var n=e.$options[t];if(n)for(var i=0,r=n.length;i<r;i++)n[i].call(e);e._hasHookEvent&&e.$emit("hook:"+t)}function we(e,t,n,i,r){if(e){var o=n.$options._base;if(p(e)&&(e=o.extend(e)),"function"==typeof e){if(!e.cid)if(e.resolved)e=e.resolved;else if(e=Te(e,o,function(){n.$forceUpdate()}),!e)return;je(e),t=t||{};var a=ke(t,e);if(e.options.functional)return xe(e,a,t,n,i);var s=t.on;t.on=t.nativeOn,e.options.abstract&&(t={}),De(t);var u=e.options.name||r,l=new fi("vue-component-"+e.cid+(u?"-"+u:""),t,void 0,void 0,void 0,n,{Ctor:e,propsData:a,listeners:s,tag:r,children:i});return l}}}function xe(e,t,n,i,r){var o={},a=e.options.props;if(a)for(var s in a)o[s]=M(s,a,t);var u=Object.create(i),l=function(e,t,n,i){return Ue(u,e,t,n,i,!0)},c=e.options.render.call(null,l,{props:o,data:n,parent:i,children:r,slots:function(){return He(r,i)}});return c instanceof fi&&(c.functionalContext=i,n.slot&&((c.data||(c.data={})).slot=n.slot)),c}function Ce(e,t,n,i){var r=e.componentOptions,o={_isComponent:!0,parent:t,propsData:r.propsData,_componentTag:r.tag,_parentVnode:e,_parentListeners:r.listeners,_renderChildren:r.children,_parentElm:n||null,_refElm:i||null},a=e.data.inlineTemplate;return a&&(o.render=a.render,o.staticRenderFns=a.staticRenderFns),new r.Ctor(o)}function Ee(e,t,n,i){if(!e.child||e.child._isDestroyed){var r=e.child=Ce(e,qi,n,i);r.$mount(t?e.elm:void 0,t)}else if(e.data.keepAlive){var o=e;Ae(o,o)}}function Ae(e,t){var n=t.componentOptions,i=t.child=e.child;i._updateFromParent(n.propsData,n.listeners,t,n.children)}function Pe(e){e.child._isMounted||(e.child._isMounted=!0,Se(e.child,"mounted")),e.data.keepAlive&&(e.child._inactive=!1,Se(e.child,"activated"))}function Fe(e){e.child._isDestroyed||(e.data.keepAlive?(e.child._inactive=!0,Se(e.child,"deactivated")):e.child.$destroy())}function Te(e,t,n){if(!e.requested){e.requested=!0;var i=e.pendingCallbacks=[n],r=!0,o=function(n){if(p(n)&&(n=t.extend(n)),e.resolved=n,!r)for(var o=0,a=i.length;o<a;o++)i[o](n)},a=function(e){},s=e(o,a);return s&&"function"==typeof s.then&&!e.resolved&&s.then(o,a),r=!1,e.resolved}e.pendingCallbacks.push(n)}function ke(e,t){var n=t.options.props;if(n){var i={},r=e.attrs,o=e.props,a=e.domProps;if(r||o||a)for(var s in n){var u=En(s);Ie(i,o,s,u,!0)||Ie(i,r,s,u)||Ie(i,a,s,u)}return i}}function Ie(e,t,n,i,r){if(t){if(a(t,n))return e[n]=t[n],r||delete t[n],!0;if(a(t,i))return e[n]=t[i],r||delete t[i],!0}return!1}function De(e){e.hook||(e.hook={});for(var t=0;t<gi.length;t++){var n=gi[t],i=e.hook[n],r=mi[n];e.hook[n]=i?Re(r,i):r}}function Re(e,t){return function(n,i,r,o){e(n,i,r,o),t(n,i,r,o)}}function Ue(e,t,n,i,r,o){return(Array.isArray(n)||s(n))&&(r=i,i=n,n=void 0),o&&(r=_i),Be(e,t,n,i,r)}function Be(e,t,n,i,r){if(n&&n.__ob__)return hi();if(!t)return hi();Array.isArray(i)&&"function"==typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),r===_i?i=pe(i):r===vi&&(i=de(i));var o,a;if("string"==typeof t){var s;a=kn.getTagNamespace(t),o=kn.isReservedTag(t)?new fi(kn.parsePlatformTagName(t),n,i,void 0,void 0,e):(s=N(e.$options,"components",t))?we(s,n,e,i,t):new fi(t,n,i,void 0,void 0,e)}else o=we(t,n,e,i);return o?(a&&Oe(o,a),o):hi()}function Oe(e,t){if(e.ns=t,"foreignObject"!==e.tag&&e.children)for(var n=0,i=e.children.length;n<i;n++){var r=e.children[n];r.tag&&!r.ns&&Oe(r,t)}}function Ne(e){e.$vnode=null,e._vnode=null,e._staticTrees=null;var t=e.$options._parentVnode,n=t&&t.context;e.$slots=He(e.$options._renderChildren,n),e.$scopedSlots={},e._c=function(t,n,i,r){return Ue(e,t,n,i,r,!1)},e.$createElement=function(t,n,i,r){return Ue(e,t,n,i,r,!0)},e.$options.el&&e.$mount(e.$options.el)}function Me(e){function t(e,t,n){if(Array.isArray(e))for(var i=0;i<e.length;i++)e[i]&&"string"!=typeof e[i]&&r(e[i],t+"_"+i,n);else r(e,t,n)}function r(e,t,n){e.isStatic=!0,e.key=t,e.isOnce=n}e.prototype.$nextTick=function(e){return jn(e,this)},e.prototype._render=function(){var e=this,t=e.$options,n=t.render,i=t.staticRenderFns,r=t._parentVnode;if(e._isMounted)for(var o in e.$slots)e.$slots[o]=ae(e.$slots[o]);r&&r.data.scopedSlots&&(e.$scopedSlots=r.data.scopedSlots),i&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=r;var a;try{a=n.call(e._renderProxy,e.$createElement)}catch(t){if(!kn.errorHandler)throw t;kn.errorHandler.call(null,t,e),a=e._vnode}return a instanceof fi||(a=hi()),a.parent=r,a},e.prototype._s=n,e.prototype._v=re,e.prototype._n=i,e.prototype._e=hi,e.prototype._q=g,e.prototype._i=v,e.prototype._m=function(e,n){var i=this._staticTrees[e];return i&&!n?Array.isArray(i)?ae(i):oe(i):(i=this._staticTrees[e]=this.$options.staticRenderFns[e].call(this._renderProxy),t(i,"__static__"+e,!1),i)},e.prototype._o=function(e,n,i){return t(e,"__once__"+n+(i?"_"+i:""),!0),e},e.prototype._f=function(e){return N(this.$options,"filters",e,!0)||Tn},e.prototype._l=function(e,t){var n,i,r,o,a;if(Array.isArray(e)||"string"==typeof e)for(n=new Array(e.length),i=0,r=e.length;i<r;i++)n[i]=t(e[i],i);else if("number"==typeof e)for(n=new Array(e),i=0;i<e;i++)n[i]=t(i+1,i);else if(p(e))for(o=Object.keys(e),n=new Array(o.length),i=0,r=o.length;i<r;i++)a=o[i],n[i]=t(e[a],a,i);return n},e.prototype._t=function(e,t,n,i){var r=this.$scopedSlots[e];if(r)return n=n||{},i&&d(n,i),r(n)||t;var o=this.$slots[e];return o||t},e.prototype._b=function(e,t,n,i){if(n)if(p(n)){Array.isArray(n)&&(n=h(n));for(var r in n)if("class"===r||"style"===r)e[r]=n[r];else{var o=i||kn.mustUseProp(t,r)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={});o[r]=n[r]}}else;return e},e.prototype._k=function(e,t,n){var i=kn.keyCodes[t]||n;return Array.isArray(i)?i.indexOf(e)===-1:i!==e}}function He(e,t){var n={};if(!e)return n;for(var i,r,o=[],a=0,s=e.length;a<s;a++)if(r=e[a],(r.context===t||r.functionalContext===t)&&r.data&&(i=r.data.slot)){var u=n[i]||(n[i]=[]);"template"===r.tag?u.push.apply(u,r.children):u.push(r)}else o.push(r);return o.length&&(1!==o.length||" "!==o[0].text&&!o[0].isComment)&&(n.default=o),n}function Le(e){e.prototype._init=function(e){var t=this;t._uid=yi++,t._isVue=!0,e&&e._isComponent?ze(t,e):t.$options=O(je(t.constructor),e||{},t),t._renderProxy=t,t._self=t,ye(t),qe(t),Se(t,"beforeCreate"),X(t),Se(t,"created"),Ne(t)}}function ze(e,t){var n=e.$options=Object.create(e.constructor.options);n.parent=t.parent,n.propsData=t.propsData,n._parentVnode=t._parentVnode,n._parentListeners=t._parentListeners,n._renderChildren=t._renderChildren,n._componentTag=t._componentTag,n._parentElm=t._parentElm,n._refElm=t._refElm,t.render&&(n.render=t.render,n.staticRenderFns=t.staticRenderFns)}function je(e){var t=e.options;if(e.super){var n=e.super.options,i=e.superOptions,r=e.extendOptions;n!==i&&(e.superOptions=n,r.render=t.render,r.staticRenderFns=t.staticRenderFns,r._scopeId=t._scopeId,t=e.options=O(n,r),t.name&&(t.components[t.name]=e))}return t}function $e(e){this._init(e)}function Ve(e){e.use=function(e){if(!e.installed){var t=c(arguments,1);return t.unshift(this),"function"==typeof e.install?e.install.apply(e,t):e.apply(null,t),e.installed=!0,this}}}function Ge(e){e.mixin=function(e){this.options=O(this.options,e)}}function We(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var n=this,i=n.cid,r=e._Ctor||(e._Ctor={});if(r[i])return r[i];var o=e.name||n.options.name,a=function(e){this._init(e)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=t++,a.options=O(n.options,e),a.super=n,a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,kn._assetTypes.forEach(function(e){a[e]=n[e]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=e,r[i]=a,a}}function Xe(e){kn._assetTypes.forEach(function(t){e[t]=function(e,n){return n?("component"===t&&f(n)&&(n.name=n.name||e,n=this.options._base.extend(n)),"directive"===t&&"function"==typeof n&&(n={bind:n,update:n}),this.options[t+"s"][e]=n,n):this.options[t+"s"][e]}})}function Ke(e,t){return"string"==typeof e?e.split(",").indexOf(t)>-1:e.test(t)}function Je(e){var t={};t.get=function(){return kn},Object.defineProperty(e,"config",t),e.util=ni,e.set=F,e.delete=T,e.nextTick=jn,e.options=Object.create(null),kn._assetTypes.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,d(e.options.components,wi),Ve(e),Ge(e),We(e),Xe(e)}function Ye(e){for(var t=e.data,n=e,i=e;i.child;)i=i.child._vnode,i.data&&(t=Qe(i.data,t));for(;n=n.parent;)n.data&&(t=Qe(t,n.data));return Ze(t)}function Qe(e,t){return{staticClass:et(e.staticClass,t.staticClass),class:e.class?[e.class,t.class]:t.class}}function Ze(e){var t=e.class,n=e.staticClass;return n||t?et(n,tt(t)):""}function et(e,t){return e?t?e+" "+t:e:t||""}function tt(e){var t="";if(!e)return t;if("string"==typeof e)return e;if(Array.isArray(e)){for(var n,i=0,r=e.length;i<r;i++)e[i]&&(n=tt(e[i]))&&(t+=n+" ");return t.slice(0,-1)}if(p(e)){for(var o in e)e[o]&&(t+=o+" ");return t.slice(0,-1)}return t}function nt(e){return Bi(e)?"svg":"math"===e?"math":void 0}function it(e){if(!Rn)return!0;if(Oi(e))return!1;if(e=e.toLowerCase(),null!=Ni[e])return Ni[e];var t=document.createElement(e);return e.indexOf("-")>-1?Ni[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Ni[e]=/HTMLUnknownElement/.test(t.toString())}function rt(e){if("string"==typeof e){if(e=document.querySelector(e),!e)return document.createElement("div")}return e}function ot(e,t){var n=document.createElement(e);return"select"!==e?n:(t.data&&t.data.attrs&&"multiple"in t.data.attrs&&n.setAttribute("multiple","multiple"),n)}function at(e,t){return document.createElementNS(Ri[e],t)}function st(e){return document.createTextNode(e)}function ut(e){return document.createComment(e)}function lt(e,t,n){e.insertBefore(t,n)}function ct(e,t){e.removeChild(t)}function dt(e,t){e.appendChild(t)}function pt(e){return e.parentNode}function ft(e){return e.nextSibling}function ht(e){return e.tagName}function qt(e,t){e.textContent=t}function mt(e,t,n){e.setAttribute(t,n)}function gt(e,t){var n=e.data.ref;if(n){var i=e.context,r=e.child||e.elm,a=i.$refs;t?Array.isArray(a[n])?o(a[n],r):a[n]===r&&(a[n]=void 0):e.data.refInFor?Array.isArray(a[n])&&a[n].indexOf(r)<0?a[n].push(r):a[n]=[r]:a[n]=r}}function vt(e){return null==e}function _t(e){return null!=e}function yt(e,t){return e.key===t.key&&e.tag===t.tag&&e.isComment===t.isComment&&!e.data==!t.data}function bt(e,t,n){var i,r,o={};for(i=t;i<=n;++i)r=e[i].key,_t(r)&&(o[r]=i);return o}function St(e){function t(e){return new fi(A.tagName(e).toLowerCase(),{},[],void 0,e)}function n(e,t){function n(){0===--n.listeners&&i(e)}return n.listeners=t,n}function i(e){var t=A.parentNode(e);t&&A.removeChild(t,e)}function o(e,t,n,i,r){if(e.isRootInsert=!r,!a(e,t,n,i)){var o=e.data,s=e.children,u=e.tag;_t(u)?(e.elm=e.ns?A.createElementNS(e.ns,u):A.createElement(u,e),h(e),c(e,s,t),_t(o)&&p(e,t),l(n,e.elm,i)):e.isComment?(e.elm=A.createComment(e.text),l(n,e.elm,i)):(e.elm=A.createTextNode(e.text),l(n,e.elm,i))}}function a(e,t,n,i){var r=e.data;if(_t(r)){var o=_t(e.child)&&r.keepAlive;if(_t(r=r.hook)&&_t(r=r.init)&&r(e,!1,n,i),_t(e.child))return f(e,t),o&&u(e,t,n,i),!0}}function u(e,t,n,i){for(var r,o=e;o.child;)if(o=o.child._vnode,_t(r=o.data)&&_t(r=r.transition)){for(r=0;r<C.activate.length;++r)C.activate[r](Li,o);t.push(o);break}l(n,e.elm,i)}function l(e,t,n){e&&(n?A.insertBefore(e,t,n):A.appendChild(e,t))}function c(e,t,n){if(Array.isArray(t))for(var i=0;i<t.length;++i)o(t[i],n,e.elm,null,!0);else s(e.text)&&A.appendChild(e.elm,A.createTextNode(e.text))}function d(e){for(;e.child;)e=e.child._vnode;return _t(e.tag)}function p(e,t){for(var n=0;n<C.create.length;++n)C.create[n](Li,e);w=e.data.hook,_t(w)&&(w.create&&w.create(Li,e),w.insert&&t.push(e))}function f(e,t){e.data.pendingInsert&&t.push.apply(t,e.data.pendingInsert),e.elm=e.child.$el,d(e)?(p(e,t),h(e)):(gt(e),t.push(e))}function h(e){var t;_t(t=e.context)&&_t(t=t.$options._scopeId)&&A.setAttribute(e.elm,t,""),_t(t=qi)&&t!==e.context&&_t(t=t.$options._scopeId)&&A.setAttribute(e.elm,t,"")}function q(e,t,n,i,r,a){for(;i<=r;++i)o(n[i],a,e,t)}function m(e){var t,n,i=e.data;if(_t(i))for(_t(t=i.hook)&&_t(t=t.destroy)&&t(e),t=0;t<C.destroy.length;++t)C.destroy[t](e);if(_t(t=e.children))for(n=0;n<e.children.length;++n)m(e.children[n])}function g(e,t,n,r){for(;n<=r;++n){var o=t[n];_t(o)&&(_t(o.tag)?(v(o),m(o)):i(o.elm))}}function v(e,t){if(t||_t(e.data)){var r=C.remove.length+1;for(t?t.listeners+=r:t=n(e.elm,r),_t(w=e.child)&&_t(w=w._vnode)&&_t(w.data)&&v(w,t),w=0;w<C.remove.length;++w)C.remove[w](e,t);_t(w=e.data.hook)&&_t(w=w.remove)?w(e,t):t()}else i(e.elm)}function _(e,t,n,i,r){for(var a,s,u,l,c=0,d=0,p=t.length-1,f=t[0],h=t[p],m=n.length-1,v=n[0],_=n[m],b=!r;c<=p&&d<=m;)vt(f)?f=t[++c]:vt(h)?h=t[--p]:yt(f,v)?(y(f,v,i),f=t[++c],v=n[++d]):yt(h,_)?(y(h,_,i),h=t[--p],_=n[--m]):yt(f,_)?(y(f,_,i),b&&A.insertBefore(e,f.elm,A.nextSibling(h.elm)),f=t[++c],_=n[--m]):yt(h,v)?(y(h,v,i),b&&A.insertBefore(e,h.elm,f.elm),h=t[--p],v=n[++d]):(vt(a)&&(a=bt(t,c,p)),s=_t(v.key)?a[v.key]:null,vt(s)?(o(v,i,e,f.elm),v=n[++d]):(u=t[s],yt(u,v)?(y(u,v,i),t[s]=void 0,b&&A.insertBefore(e,v.elm,f.elm),v=n[++d]):(o(v,i,e,f.elm),v=n[++d])));c>p?(l=vt(n[m+1])?null:n[m+1].elm,q(e,l,n,d,m,i)):d>m&&g(e,t,c,p)}function y(e,t,n,i){if(e!==t){if(t.isStatic&&e.isStatic&&t.key===e.key&&(t.isCloned||t.isOnce))return t.elm=e.elm,void(t.child=e.child);var r,o=t.data,a=_t(o);a&&_t(r=o.hook)&&_t(r=r.prepatch)&&r(e,t);var s=t.elm=e.elm,u=e.children,l=t.children;if(a&&d(t)){for(r=0;r<C.update.length;++r)C.update[r](e,t);_t(r=o.hook)&&_t(r=r.update)&&r(e,t)}vt(t.text)?_t(u)&&_t(l)?u!==l&&_(s,u,l,n,i):_t(l)?(_t(e.text)&&A.setTextContent(s,""),q(s,null,l,0,l.length-1,n)):_t(u)?g(s,u,0,u.length-1):_t(e.text)&&A.setTextContent(s,""):e.text!==t.text&&A.setTextContent(s,t.text),a&&_t(r=o.hook)&&_t(r=r.postpatch)&&r(e,t)}}function b(e,t,n){if(n&&e.parent)e.parent.data.pendingInsert=t;else for(var i=0;i<t.length;++i)t[i].data.hook.insert(t[i])}function S(e,t,n){t.elm=e;var i=t.tag,r=t.data,o=t.children;if(_t(r)&&(_t(w=r.hook)&&_t(w=w.init)&&w(t,!0),_t(w=t.child)))return f(t,n),!0;if(_t(i)){if(_t(o))if(e.hasChildNodes()){for(var a=!0,s=e.firstChild,u=0;u<o.length;u++){if(!s||!S(s,o[u],n)){a=!1;break}s=s.nextSibling}if(!a||s)return!1}else c(t,o,n);if(_t(r))for(var l in r)if(!P(l)){p(t,n);break}}else e.data!==t.text&&(e.data=t.text);return!0}var w,x,C={},E=e.modules,A=e.nodeOps;for(w=0;w<zi.length;++w)for(C[zi[w]]=[],x=0;x<E.length;++x)void 0!==E[x][zi[w]]&&C[zi[w]].push(E[x][zi[w]]);var P=r("attrs,style,class,staticClass,staticStyle,key");return function(e,n,i,r,a,s){if(!n)return void(e&&m(e));var u,l,c=!1,p=[];if(e){var f=_t(e.nodeType);if(!f&&yt(e,n))y(e,n,p,r);else{if(f){if(1===e.nodeType&&e.hasAttribute("server-rendered")&&(e.removeAttribute("server-rendered"),i=!0),i&&S(e,n,p))return b(n,p,!0),e;e=t(e)}if(u=e.elm,l=A.parentNode(u),o(n,p,l,A.nextSibling(u)),n.parent){for(var h=n.parent;h;)h.elm=n.elm,h=h.parent;if(d(n))for(var q=0;q<C.create.length;++q)C.create[q](Li,n.parent)}null!==l?g(l,[e],0,0):_t(e.tag)&&m(e)}}else c=!0,o(n,p,a,s);return b(n,p,c),n.elm}}function wt(e,t){(e.data.directives||t.data.directives)&&xt(e,t)}function xt(e,t){var n,i,r,o=e===Li,a=t===Li,s=Ct(e.data.directives,e.context),u=Ct(t.data.directives,t.context),l=[],c=[];for(n in u)i=s[n],r=u[n],i?(r.oldValue=i.value,At(r,"update",t,e),r.def&&r.def.componentUpdated&&c.push(r)):(At(r,"bind",t,e),r.def&&r.def.inserted&&l.push(r));if(l.length){var d=function(){for(var n=0;n<l.length;n++)At(l[n],"inserted",t,e)};o?se(t.data.hook||(t.data.hook={}),"insert",d,"dir-insert"):d()}if(c.length&&se(t.data.hook||(t.data.hook={}),"postpatch",function(){for(var n=0;n<c.length;n++)At(c[n],"componentUpdated",t,e)},"dir-postpatch"),!o)for(n in s)u[n]||At(s[n],"unbind",e,e,a)}function Ct(e,t){var n=Object.create(null);if(!e)return n;var i,r;for(i=0;i<e.length;i++)r=e[i],r.modifiers||(r.modifiers=$i),n[Et(r)]=r,r.def=N(t.$options,"directives",r.name,!0);return n}function Et(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function At(e,t,n,i,r){var o=e.def&&e.def[t];o&&o(n.elm,e,n,i,r)}function Pt(e,t){if(e.data.attrs||t.data.attrs){var n,i,r,o=t.elm,a=e.data.attrs||{},s=t.data.attrs||{};s.__ob__&&(s=t.data.attrs=d({},s));for(n in s)i=s[n],r=a[n],r!==i&&Ft(o,n,i);On&&s.value!==a.value&&Ft(o,"value",s.value);for(n in a)null==s[n]&&(ki(n)?o.removeAttributeNS(Ti,Ii(n)):Pi(n)||o.removeAttribute(n))}}function Ft(e,t,n){Fi(t)?Di(n)?e.removeAttribute(t):e.setAttribute(t,t):Pi(t)?e.setAttribute(t,Di(n)||"false"===n?"false":"true"):ki(t)?Di(n)?e.removeAttributeNS(Ti,Ii(t)):e.setAttributeNS(Ti,t,n):Di(n)?e.removeAttribute(t):e.setAttribute(t,n)}function Tt(e,t){var n=t.elm,i=t.data,r=e.data;if(i.staticClass||i.class||r&&(r.staticClass||r.class)){var o=Ye(t),a=n._transitionClasses;a&&(o=et(o,tt(a))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}function kt(e,t,n,i){if(n){var r=t;t=function(n){It(e,t,i),1===arguments.length?r(n):r.apply(null,arguments)}}xi.addEventListener(e,t,i)}function It(e,t,n){xi.removeEventListener(e,t,n)}function Dt(e,t){if(e.data.on||t.data.on){var n=t.data.on||{},i=e.data.on||{};xi=t.elm,ue(n,i,kt,It,t.context)}}function Rt(e,t){if(e.data.domProps||t.data.domProps){var n,i,r=t.elm,o=e.data.domProps||{},a=t.data.domProps||{};a.__ob__&&(a=t.data.domProps=d({},a));for(n in o)null==a[n]&&(r[n]="");for(n in a)if(i=a[n],("textContent"!==n&&"innerHTML"!==n||(t.children&&(t.children.length=0),i!==o[n]))&&("checked"!==n||Bt(r,i)))if("value"===n){r._value=i;var s=null==i?"":String(i);Ut(r,t,s)&&(r.value=s)}else r[n]=i}}function Ut(e,t,n){return!(e.composing||"option"!==t.tag&&!Bt(e,n)&&!Ot(t,n))}function Bt(e,t){return document.activeElement!==e&&e.value!==t}function Ot(e,t){var n=e.elm.value,r=e.elm._vModifiers;return r&&r.number||"number"===e.elm.type?i(n)!==i(t):r&&r.trim?n.trim()!==t.trim():n!==t}function Nt(e){var t=Mt(e.style);return e.staticStyle?d(e.staticStyle,t):t}function Mt(e){return Array.isArray(e)?h(e):"string"==typeof e?Ji(e):e}function Ht(e,t){var n,i={};if(t)for(var r=e;r.child;)r=r.child._vnode,r.data&&(n=Nt(r.data))&&d(i,n);(n=Nt(e.data))&&d(i,n);for(var o=e;o=o.parent;)o.data&&(n=Nt(o.data))&&d(i,n);return i}function Lt(e,t){var n=t.data,i=e.data;if(n.staticStyle||n.style||i.staticStyle||i.style){var r,o,a=t.elm,s=e.data.staticStyle,u=e.data.style||{},l=s||u,c=Mt(t.data.style)||{};t.data.style=c.__ob__?d({},c):c;var p=Ht(t,!0);for(o in l)null==p[o]&&Zi(a,o,"");for(o in p)r=p[o],r!==l[o]&&Zi(a,o,null==r?"":r)}}function zt(e,t){if(t&&t.trim())if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+e.getAttribute("class")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function jt(e,t){if(t&&t.trim())if(e.classList)t.indexOf(" ")>-1?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t);else{for(var n=" "+e.getAttribute("class")+" ",i=" "+t+" ";n.indexOf(i)>=0;)n=n.replace(i," ");e.setAttribute("class",n.trim())}}function $t(e){cr(function(){cr(e)})}function Vt(e,t){(e._transitionClasses||(e._transitionClasses=[])).push(t),zt(e,t)}function Gt(e,t){e._transitionClasses&&o(e._transitionClasses,t),jt(e,t)}function Wt(e,t,n){var i=Xt(e,t),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===rr?sr:lr,u=0,l=function(){e.removeEventListener(s,c),n()},c=function(t){t.target===e&&++u>=a&&l()};setTimeout(function(){u<a&&l()},o+1),e.addEventListener(s,c)}function Xt(e,t){var n,i=window.getComputedStyle(e),r=i[ar+"Delay"].split(", "),o=i[ar+"Duration"].split(", "),a=Kt(r,o),s=i[ur+"Delay"].split(", "),u=i[ur+"Duration"].split(", "),l=Kt(s,u),c=0,d=0;t===rr?a>0&&(n=rr,c=a,d=o.length):t===or?l>0&&(n=or,c=l,d=u.length):(c=Math.max(a,l),n=c>0?a>l?rr:or:null,d=n?n===rr?o.length:u.length:0);var p=n===rr&&dr.test(i[ar+"Property"]);return{type:n,timeout:c,propCount:d,hasTransform:p}}function Kt(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(null,t.map(function(t,n){return Jt(t)+Jt(e[n])}))}function Jt(e){return 1e3*Number(e.slice(0,-1))}function Yt(e,t){var n=e.elm;n._leaveCb&&(n._leaveCb.cancelled=!0,n._leaveCb());var i=Zt(e.data.transition);if(i&&!n._enterCb&&1===n.nodeType){for(var r=i.css,o=i.type,a=i.enterClass,s=i.enterToClass,u=i.enterActiveClass,l=i.appearClass,c=i.appearToClass,d=i.appearActiveClass,p=i.beforeEnter,f=i.enter,h=i.afterEnter,q=i.enterCancelled,m=i.beforeAppear,g=i.appear,v=i.afterAppear,_=i.appearCancelled,y=qi,b=qi.$vnode;b&&b.parent;)b=b.parent,y=b.context;
var S=!y._isMounted||!e.isRootInsert;if(!S||g||""===g){var w=S?l:a,x=S?d:u,C=S?c:s,E=S?m||p:p,A=S&&"function"==typeof g?g:f,P=S?v||h:h,F=S?_||q:q,T=r!==!1&&!On,k=A&&(A._length||A.length)>1,I=n._enterCb=en(function(){T&&(Gt(n,C),Gt(n,x)),I.cancelled?(T&&Gt(n,w),F&&F(n)):P&&P(n),n._enterCb=null});e.data.show||se(e.data.hook||(e.data.hook={}),"insert",function(){var t=n.parentNode,i=t&&t._pending&&t._pending[e.key];i&&i.context===e.context&&i.tag===e.tag&&i.elm._leaveCb&&i.elm._leaveCb(),A&&A(n,I)},"transition-insert"),E&&E(n),T&&(Vt(n,w),Vt(n,x),$t(function(){Vt(n,C),Gt(n,w),I.cancelled||k||Wt(n,o,I)})),e.data.show&&(t&&t(),A&&A(n,I)),T||k||I()}}}function Qt(e,t){function n(){g.cancelled||(e.data.show||((i.parentNode._pending||(i.parentNode._pending={}))[e.key]=e),c&&c(i),q&&(Vt(i,s),Vt(i,l),$t(function(){Vt(i,u),Gt(i,s),g.cancelled||m||Wt(i,a,g)})),d&&d(i,g),q||m||g())}var i=e.elm;i._enterCb&&(i._enterCb.cancelled=!0,i._enterCb());var r=Zt(e.data.transition);if(!r)return t();if(!i._leaveCb&&1===i.nodeType){var o=r.css,a=r.type,s=r.leaveClass,u=r.leaveToClass,l=r.leaveActiveClass,c=r.beforeLeave,d=r.leave,p=r.afterLeave,f=r.leaveCancelled,h=r.delayLeave,q=o!==!1&&!On,m=d&&(d._length||d.length)>1,g=i._leaveCb=en(function(){i.parentNode&&i.parentNode._pending&&(i.parentNode._pending[e.key]=null),q&&(Gt(i,u),Gt(i,l)),g.cancelled?(q&&Gt(i,s),f&&f(i)):(t(),p&&p(i)),i._leaveCb=null});h?h(n):n()}}function Zt(e){if(e){if("object"==typeof e){var t={};return e.css!==!1&&d(t,pr(e.name||"v")),d(t,e),t}return"string"==typeof e?pr(e):void 0}}function en(e){var t=!1;return function(){t||(t=!0,e())}}function tn(e,t){t.data.show||Yt(t)}function nn(e,t,n){var i=t.value,r=e.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,u=e.options.length;s<u;s++)if(a=e.options[s],r)o=v(i,on(a))>-1,a.selected!==o&&(a.selected=o);else if(g(on(a),i))return void(e.selectedIndex!==s&&(e.selectedIndex=s));r||(e.selectedIndex=-1)}}function rn(e,t){for(var n=0,i=t.length;n<i;n++)if(g(on(t[n]),e))return!1;return!0}function on(e){return"_value"in e?e._value:e.value}function an(e){e.target.composing=!0}function sn(e){e.target.composing=!1,un(e.target,"input")}function un(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}function ln(e){return!e.child||e.data&&e.data.transition?e:ln(e.child._vnode)}function cn(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?cn(he(t.children)):e}function dn(e){var t={},n=e.$options;for(var i in n.propsData)t[i]=e[i];var r=n._parentListeners;for(var o in r)t[wn(o)]=r[o].fn;return t}function pn(e,t){return/\d-keep-alive$/.test(t.tag)?e("keep-alive"):null}function fn(e){for(;e=e.parent;)if(e.data.transition)return!0}function hn(e,t){return t.key===e.key&&t.tag===e.tag}function qn(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function mn(e){e.data.newPos=e.elm.getBoundingClientRect()}function gn(e){var t=e.data.pos,n=e.data.newPos,i=t.left-n.left,r=t.top-n.top;if(i||r){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}var vn,_n,yn=r("slot,component",!0),bn=Object.prototype.hasOwnProperty,Sn=/-(\w)/g,wn=u(function(e){return e.replace(Sn,function(e,t){return t?t.toUpperCase():""})}),xn=u(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),Cn=/([^-])([A-Z])/g,En=u(function(e){return e.replace(Cn,"$1-$2").replace(Cn,"$1-$2").toLowerCase()}),An=Object.prototype.toString,Pn="[object Object]",Fn=function(){return!1},Tn=function(e){return e},kn={optionMergeStrategies:Object.create(null),silent:!1,devtools:!1,errorHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Fn,isUnknownElement:Fn,getTagNamespace:q,parsePlatformTagName:Tn,mustUseProp:Fn,_assetTypes:["component","directive","filter"],_lifecycleHooks:["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],_maxUpdateCount:100},In=/[^\w.$]/,Dn="__proto__"in{},Rn="undefined"!=typeof window,Un=Rn&&window.navigator.userAgent.toLowerCase(),Bn=Un&&/msie|trident/.test(Un),On=Un&&Un.indexOf("msie 9.0")>0,Nn=Un&&Un.indexOf("edge/")>0,Mn=Un&&Un.indexOf("android")>0,Hn=Un&&/iphone|ipad|ipod|ios/.test(Un),Ln=function(){return void 0===vn&&(vn=!Rn&&"undefined"!=typeof t&&"server"===t.process.env.VUE_ENV),vn},zn=Rn&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,jn=function(){function e(){i=!1;var e=n.slice(0);n.length=0;for(var t=0;t<e.length;t++)e[t]()}var t,n=[],i=!1;if("undefined"!=typeof Promise&&S(Promise)){var r=Promise.resolve(),o=function(e){console.error(e)};t=function(){r.then(e).catch(o),Hn&&setTimeout(q)}}else if("undefined"==typeof MutationObserver||!S(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())t=function(){setTimeout(e,0)};else{var a=1,s=new MutationObserver(e),u=document.createTextNode(String(a));s.observe(u,{characterData:!0}),t=function(){a=(a+1)%2,u.data=String(a)}}return function(e,r){var o;if(n.push(function(){e&&e.call(r),o&&o(r)}),i||(i=!0,t()),!e&&"undefined"!=typeof Promise)return new Promise(function(e){o=e})}}();_n="undefined"!=typeof Set&&S(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return this.set[e]===!0},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var $n,Vn=q,Gn=0,Wn=function(){this.id=Gn++,this.subs=[]};Wn.prototype.addSub=function(e){this.subs.push(e)},Wn.prototype.removeSub=function(e){o(this.subs,e)},Wn.prototype.depend=function(){Wn.target&&Wn.target.addDep(this)},Wn.prototype.notify=function(){for(var e=this.subs.slice(),t=0,n=e.length;t<n;t++)e[t].update()},Wn.target=null;var Xn=[],Kn=Array.prototype,Jn=Object.create(Kn);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(e){var t=Kn[e];y(Jn,e,function(){for(var n=arguments,i=arguments.length,r=new Array(i);i--;)r[i]=n[i];var o,a=t.apply(this,r),s=this.__ob__;switch(e){case"push":o=r;break;case"unshift":o=r;break;case"splice":o=r.slice(2)}return o&&s.observeArray(o),s.dep.notify(),a})});var Yn=Object.getOwnPropertyNames(Jn),Qn={shouldConvert:!0,isSettingProps:!1},Zn=function(e){if(this.value=e,this.dep=new Wn,this.vmCount=0,y(e,"__ob__",this),Array.isArray(e)){var t=Dn?C:E;t(e,Jn,Yn),this.observeArray(e)}else this.walk(e)};Zn.prototype.walk=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)P(e,t[n],e[t[n]])},Zn.prototype.observeArray=function(e){for(var t=0,n=e.length;t<n;t++)A(e[t])};var ei=kn.optionMergeStrategies;ei.data=function(e,t,n){return n?e||t?function(){var i="function"==typeof t?t.call(n):t,r="function"==typeof e?e.call(n):void 0;return i?I(i,r):r}:void 0:t?"function"!=typeof t?e:e?function(){return I(t.call(this),e.call(this))}:t:e},kn._lifecycleHooks.forEach(function(e){ei[e]=D}),kn._assetTypes.forEach(function(e){ei[e+"s"]=R}),ei.watch=function(e,t){if(!t)return e;if(!e)return t;var n={};d(n,e);for(var i in t){var r=n[i],o=t[i];r&&!Array.isArray(r)&&(r=[r]),n[i]=r?r.concat(o):[o]}return n},ei.props=ei.methods=ei.computed=function(e,t){if(!t)return e;if(!e)return t;var n=Object.create(null);return d(n,e),d(n,t),n};var ti=function(e,t){return void 0===t?e:t},ni=Object.freeze({defineReactive:P,_toString:n,toNumber:i,makeMap:r,isBuiltInTag:yn,remove:o,hasOwn:a,isPrimitive:s,cached:u,camelize:wn,capitalize:xn,hyphenate:En,bind:l,toArray:c,extend:d,isObject:p,isPlainObject:f,toObject:h,noop:q,no:Fn,identity:Tn,genStaticKeys:m,looseEqual:g,looseIndexOf:v,isReserved:_,def:y,parsePath:b,hasProto:Dn,inBrowser:Rn,UA:Un,isIE:Bn,isIE9:On,isEdge:Nn,isAndroid:Mn,isIOS:Hn,isServerRendering:Ln,devtools:zn,nextTick:jn,get _Set(){return _n},mergeOptions:O,resolveAsset:N,get warn(){return Vn},get formatComponentName(){return $n},validateProp:M}),ii=[],ri={},oi=!1,ai=!1,si=0,ui=0,li=function(e,t,n,i){this.vm=e,e._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ui,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new _n,this.newDepIds=new _n,this.expression="","function"==typeof t?this.getter=t:(this.getter=b(t),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};li.prototype.get=function(){w(this);var e=this.getter.call(this.vm,this.vm);return this.deep&&G(e),x(),this.cleanupDeps(),e},li.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},li.prototype.cleanupDeps=function(){for(var e=this,t=this.deps.length;t--;){var n=e.deps[t];e.newDepIds.has(n.id)||n.removeSub(e)}var i=this.depIds;this.depIds=this.newDepIds,this.newDepIds=i,this.newDepIds.clear(),i=this.deps,this.deps=this.newDeps,this.newDeps=i,this.newDeps.length=0},li.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():V(this)},li.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||p(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(e){if(!kn.errorHandler)throw e;kn.errorHandler.call(null,e,this.vm)}else this.cb.call(this.vm,e,t)}}},li.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},li.prototype.depend=function(){for(var e=this,t=this.deps.length;t--;)e.deps[t].depend()},li.prototype.teardown=function(){var e=this;if(this.active){this.vm._isBeingDestroyed||o(this.vm._watchers,this);for(var t=this.deps.length;t--;)e.deps[t].removeSub(e);this.active=!1}};var ci,di=new _n,pi={enumerable:!0,configurable:!0,get:q,set:q},fi=function(e,t,n,i,r,o,a){this.tag=e,this.data=t,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.key=t&&t.key,this.componentOptions=a,this.child=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1},hi=function(){var e=new fi;return e.text="",e.isComment=!0,e},qi=null,mi={init:Ee,prepatch:Ae,insert:Pe,destroy:Fe},gi=Object.keys(mi),vi=1,_i=2,yi=0;Le($e),ne($e),_e($e),be($e),Me($e);var bi=[String,RegExp],Si={name:"keep-alive",abstract:!0,props:{include:bi,exclude:bi},created:function(){this.cache=Object.create(null)},render:function(){var e=he(this.$slots.default);if(e&&e.componentOptions){var t=e.componentOptions,n=t.Ctor.options.name||t.tag;if(n&&(this.include&&!Ke(this.include,n)||this.exclude&&Ke(this.exclude,n)))return e;var i=null==e.key?t.Ctor.cid+(t.tag?"::"+t.tag:""):e.key;this.cache[i]?e.child=this.cache[i].child:this.cache[i]=e,e.data.keepAlive=!0}return e},destroyed:function(){var e=this;for(var t in this.cache){var n=e.cache[t];Se(n.child,"deactivated"),n.child.$destroy()}}},wi={KeepAlive:Si};Je($e),Object.defineProperty($e.prototype,"$isServer",{get:Ln}),$e.version="2.1.8";var xi,Ci,Ei=r("input,textarea,option,select"),Ai=function(e,t){return"value"===t&&Ei(e)||"selected"===t&&"option"===e||"checked"===t&&"input"===e||"muted"===t&&"video"===e},Pi=r("contenteditable,draggable,spellcheck"),Fi=r("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Ti="http://www.w3.org/1999/xlink",ki=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},Ii=function(e){return ki(e)?e.slice(6,e.length):""},Di=function(e){return null==e||e===!1},Ri={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Ui=r("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template"),Bi=r("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Oi=function(e){return Ui(e)||Bi(e)},Ni=Object.create(null),Mi=Object.freeze({createElement:ot,createElementNS:at,createTextNode:st,createComment:ut,insertBefore:lt,removeChild:ct,appendChild:dt,parentNode:pt,nextSibling:ft,tagName:ht,setTextContent:qt,setAttribute:mt}),Hi={create:function(e,t){gt(t)},update:function(e,t){e.data.ref!==t.data.ref&&(gt(e,!0),gt(t))},destroy:function(e){gt(e,!0)}},Li=new fi("",{},[]),zi=["create","activate","update","remove","destroy"],ji={create:wt,update:wt,destroy:function(e){wt(e,Li)}},$i=Object.create(null),Vi=[Hi,ji],Gi={create:Pt,update:Pt},Wi={create:Tt,update:Tt},Xi={create:Dt,update:Dt},Ki={create:Rt,update:Rt},Ji=u(function(e){var t={},n=/;(?![^(]*\))/g,i=/:(.+)/;return e.split(n).forEach(function(e){if(e){var n=e.split(i);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}),Yi=/^--/,Qi=/\s*!important$/,Zi=function(e,t,n){Yi.test(t)?e.style.setProperty(t,n):Qi.test(n)?e.style.setProperty(t,n.replace(Qi,""),"important"):e.style[tr(t)]=n},er=["Webkit","Moz","ms"],tr=u(function(e){if(Ci=Ci||document.createElement("div"),e=wn(e),"filter"!==e&&e in Ci.style)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<er.length;n++){var i=er[n]+t;if(i in Ci.style)return i}}),nr={create:Lt,update:Lt},ir=Rn&&!On,rr="transition",or="animation",ar="transition",sr="transitionend",ur="animation",lr="animationend";ir&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ar="WebkitTransition",sr="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ur="WebkitAnimation",lr="webkitAnimationEnd"));var cr=Rn&&window.requestAnimationFrame||setTimeout,dr=/\b(transform|all)(,|$)/,pr=u(function(e){return{enterClass:e+"-enter",leaveClass:e+"-leave",appearClass:e+"-enter",enterToClass:e+"-enter-to",leaveToClass:e+"-leave-to",appearToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveActiveClass:e+"-leave-active",appearActiveClass:e+"-enter-active"}}),fr=Rn?{create:tn,activate:tn,remove:function(e,t){e.data.show?t():Qt(e,t)}}:{},hr=[Gi,Wi,Xi,Ki,nr,fr],qr=hr.concat(Vi),mr=St({nodeOps:Mi,modules:qr});On&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&un(e,"input")});var gr={inserted:function(e,t,n){if("select"===n.tag){var i=function(){nn(e,t,n.context)};i(),(Bn||Nn)&&setTimeout(i,0)}else"textarea"!==n.tag&&"text"!==e.type||(e._vModifiers=t.modifiers,t.modifiers.lazy||(Mn||(e.addEventListener("compositionstart",an),e.addEventListener("compositionend",sn)),On&&(e.vmodel=!0)))},componentUpdated:function(e,t,n){if("select"===n.tag){nn(e,t,n.context);var i=e.multiple?t.value.some(function(t){return rn(t,e.options)}):t.value!==t.oldValue&&rn(t.value,e.options);i&&un(e,"change")}}},vr={bind:function(e,t,n){var i=t.value;n=ln(n);var r=n.data&&n.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;i&&r&&!On?(n.data.show=!0,Yt(n,function(){e.style.display=o})):e.style.display=i?o:"none"},update:function(e,t,n){var i=t.value,r=t.oldValue;if(i!==r){n=ln(n);var o=n.data&&n.data.transition;o&&!On?(n.data.show=!0,i?Yt(n,function(){e.style.display=e.__vOriginalDisplay}):Qt(n,function(){e.style.display="none"})):e.style.display=i?e.__vOriginalDisplay:"none"}},unbind:function(e,t,n,i,r){r||(e.style.display=e.__vOriginalDisplay)}},_r={model:gr,show:vr},yr={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String},br={name:"transition",props:yr,abstract:!0,render:function(e){var t=this,n=this.$slots.default;if(n&&(n=n.filter(function(e){return e.tag}),n.length)){var i=this.mode,r=n[0];if(fn(this.$vnode))return r;var o=cn(r);if(!o)return r;if(this._leaving)return pn(e,r);var a=o.key=null==o.key||o.isStatic?"__v"+(o.tag+this._uid)+"__":o.key,s=(o.data||(o.data={})).transition=dn(this),u=this._vnode,l=cn(u);if(o.data.directives&&o.data.directives.some(function(e){return"show"===e.name})&&(o.data.show=!0),l&&l.data&&!hn(o,l)){var c=l&&(l.data.transition=d({},s));if("out-in"===i)return this._leaving=!0,se(c,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()},a),pn(e,r);if("in-out"===i){var p,f=function(){p()};se(s,"afterEnter",f,a),se(s,"enterCancelled",f,a),se(c,"delayLeave",function(e){p=e},a)}}return r}}},Sr=d({tag:String,moveClass:String},yr);delete Sr.mode;var wr={props:Sr,render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=dn(this),s=0;s<r.length;s++){var u=r[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(i){for(var l=[],c=[],d=0;d<i.length;d++){var p=i[d];p.data.transition=a,p.data.pos=p.elm.getBoundingClientRect(),n[p.key]?l.push(p):c.push(p)}this.kept=e(t,null,l),this.removed=c}return e(t,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";if(e.length&&this.hasMove(e[0].elm,t)){e.forEach(qn),e.forEach(mn),e.forEach(gn);document.body.offsetHeight;e.forEach(function(e){if(e.data.moved){var n=e.elm,i=n.style;Vt(n,t),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(sr,n._moveCb=function e(i){i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(sr,e),n._moveCb=null,Gt(n,t))})}})}},methods:{hasMove:function(e,t){if(!ir)return!1;if(null!=this._hasMove)return this._hasMove;Vt(e,t);var n=Xt(e);return Gt(e,t),this._hasMove=n.hasTransform}}},xr={Transition:br,TransitionGroup:wr};$e.config.isUnknownElement=it,$e.config.isReservedTag=Oi,$e.config.getTagNamespace=nt,$e.config.mustUseProp=Ai,d($e.options.directives,_r),d($e.options.components,xr),$e.prototype.__patch__=Rn?mr:q,$e.prototype.$mount=function(e,t){return e=e&&Rn?rt(e):void 0,this._mount(e,t)},setTimeout(function(){kn.devtools&&zn&&zn.emit("init",$e)},0),e.exports=$e}).call(t,function(){return this}())},function(e,t,n){/**
	 * vuex v2.1.1
	 * (c) 2016 Evan You
	 * @license MIT
	 */
!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e){S&&(e._devtoolHook=S,S.emit("vuex:init",e),S.on("vuex:travel-to-state",function(t){e.replaceState(t)}),e.subscribe(function(e,t){S.emit("vuex:mutation",e,t)}))}function t(e){function t(){var e=this.$options;e.store?this.$store=e.store:e.parent&&e.parent.$store&&(this.$store=e.parent.$store)}var n=Number(e.version.split(".")[0]);if(n>=2){var i=e.config._lifecycleHooks.indexOf("init")>-1;e.mixin(i?{init:t}:{beforeCreate:t})}else{var r=e.prototype._init;e.prototype._init=function(e){void 0===e&&(e={}),e.init=e.init?[t].concat(e.init):t,r.call(this,e)}}}function n(e){return Array.isArray(e)?e.map(function(e){return{key:e,val:e}}):Object.keys(e).map(function(t){return{key:t,val:e[t]}})}function i(e){return function(t,n){return"string"!=typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function r(e,t){console.error("[vuex] module namespace not found in "+e+"(): "+t)}function o(e,t){Object.keys(e).forEach(function(n){return t(e[n],n)})}function a(e){return null!==e&&"object"==typeof e}function s(e){return e&&"function"==typeof e.then}function u(e,t){if(!e)throw new Error("[vuex] "+t)}function l(e,t){if(e.update(t),t.modules)for(var n in t.modules){if(!e.getChild(n))return void console.warn("[vuex] trying to add a new module '"+n+"' on hot reloading, manual reload is needed");l(e.getChild(n),t.modules[n])}}function c(e){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var t=e.state;p(e,t,[],e._modules.root,!0),d(e,t)}function d(e,t){var n=e._vm;e.getters={};var i=e._wrappedGetters,r={};o(i,function(t,n){r[n]=function(){return t(e)},Object.defineProperty(e.getters,n,{get:function(){return e._vm[n]},enumerable:!0})});var a=T.config.silent;T.config.silent=!0,e._vm=new T({data:{state:t},computed:r}),T.config.silent=a,e.strict&&v(e),n&&(e._withCommit(function(){n.state=null}),T.nextTick(function(){return n.$destroy()}))}function p(e,t,n,i,r){var o=!n.length,a=e._modules.getNamespace(n);if(a&&(e._modulesNamespaceMap[a]=i),!o&&!r){var s=_(t,n.slice(0,-1)),u=n[n.length-1];e._withCommit(function(){T.set(s,u,i.state)})}var l=i.context=f(e,a);i.forEachMutation(function(t,i){var r=a+i;q(e,r,t,n)}),i.forEachAction(function(t,i){var r=a+i;m(e,r,t,l,n)}),i.forEachGetter(function(t,i){var r=a+i;g(e,r,t,l,n)}),i.forEachChild(function(i,o){p(e,t,n.concat(o),i,r)})}function f(e,t){var n=""===t,i={dispatch:n?e.dispatch:function(n,i,r){var o=y(n,i,r),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=t+u,e._actions[u])?e.dispatch(u,a):void console.error("[vuex] unknown local action type: "+o.type+", global type: "+u)},commit:n?e.commit:function(n,i,r){var o=y(n,i,r),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=t+u,e._mutations[u])?void e.commit(u,a,s):void console.error("[vuex] unknown local mutation type: "+o.type+", global type: "+u)}};return Object.defineProperty(i,"getters",{get:n?function(){return e.getters}:function(){return h(e,t)}}),i}function h(e,t){var n={},i=t.length;return Object.keys(e.getters).forEach(function(r){if(r.slice(0,i)===t){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return e.getters[r]},enumerable:!0})}}),n}function q(e,t,n,i){var r=e._mutations[t]||(e._mutations[t]=[]);r.push(function(t){n(_(e.state,i),t)})}function m(e,t,n,i,r){var o=e._actions[t]||(e._actions[t]=[]);o.push(function(t,o){var a=n({dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:_(e.state,r),rootGetters:e.getters,rootState:e.state},t,o);return s(a)||(a=Promise.resolve(a)),e._devtoolHook?a.catch(function(t){throw e._devtoolHook.emit("vuex:error",t),t}):a})}function g(e,t,n,i,r){return e._wrappedGetters[t]?void console.error("[vuex] duplicate getter key: "+t):void(e._wrappedGetters[t]=function(e){return n(_(e.state,r),i.getters,e.state,e.getters)})}function v(e){e._vm.$watch("state",function(){u(e._committing,"Do not mutate vuex store state outside mutation handlers.")},{deep:!0,sync:!0})}function _(e,t){return t.length?t.reduce(function(e,t){return e[t]},e):e}function y(e,t,n){return a(e)&&e.type&&(n=t,t=e,e=e.type),{type:e,payload:t,options:n}}function b(e){return T?void console.error("[vuex] already installed. Vue.use(Vuex) should be called only once."):(T=e,void t(T))}var S="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,w=i(function(e,t){var i={};return n(t).forEach(function(t){var n=t.key,o=t.val;i[n]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var i=this.$store._modulesNamespaceMap[e];if(!i)return void r("mapState",e);t=i.state,n=i.context.getters}return"function"==typeof o?o.call(this,t,n):t[o]}}),i}),x=i(function(e,t){var i={};return n(t).forEach(function(t){var n=t.key,r=t.val;r=e+r,i[n]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.$store.commit.apply(this.$store,[r].concat(e))}}),i}),C=i(function(e,t){var i={};return n(t).forEach(function(t){var n=t.key,r=t.val;r=e+r,i[n]=function(){return r in this.$store.getters||console.error("[vuex] unknown getter: "+r),this.$store.getters[r]}}),i}),E=i(function(e,t){var i={};return n(t).forEach(function(t){var n=t.key,r=t.val;r=e+r,i[n]=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return this.$store.dispatch.apply(this.$store,[r].concat(e))}}),i}),A=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e},P={state:{},namespaced:{}};P.state.get=function(){return this._rawModule.state||{}},P.namespaced.get=function(){return!!this._rawModule.namespaced},A.prototype.addChild=function(e,t){this._children[e]=t},A.prototype.removeChild=function(e){delete this._children[e]},A.prototype.getChild=function(e){return this._children[e]},A.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},A.prototype.forEachChild=function(e){o(this._children,e)},A.prototype.forEachGetter=function(e){this._rawModule.getters&&o(this._rawModule.getters,e)},A.prototype.forEachAction=function(e){this._rawModule.actions&&o(this._rawModule.actions,e)},A.prototype.forEachMutation=function(e){this._rawModule.mutations&&o(this._rawModule.mutations,e)},Object.defineProperties(A.prototype,P);var F=function(e){var t=this;this.root=new A(e,!1),e.modules&&o(e.modules,function(e,n){t.register([n],e,!1)})};F.prototype.get=function(e){return e.reduce(function(e,t){return e.getChild(t)},this.root)},F.prototype.getNamespace=function(e){var t=this.root;return e.reduce(function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")},"")},F.prototype.update=function(e){l(this.root,e)},F.prototype.register=function(e,t,n){var i=this;void 0===n&&(n=!0);var r=this.get(e.slice(0,-1)),a=new A(t,n);r.addChild(e[e.length-1],a),t.modules&&o(t.modules,function(t,r){i.register(e.concat(r),t,n)})},F.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];t.getChild(n).runtime&&t.removeChild(n)};var T,k=function(t){var n=this;void 0===t&&(t={}),u(T,"must call Vue.use(Vuex) before creating a store instance."),u("undefined"!=typeof Promise,"vuex requires a Promise polyfill in this browser.");var i=t.state;void 0===i&&(i={});var r=t.plugins;void 0===r&&(r=[]);var o=t.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new F(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new T;var a=this,s=this,l=s.dispatch,c=s.commit;this.dispatch=function(e,t){return l.call(a,e,t)},this.commit=function(e,t,n){return c.call(a,e,t,n)},this.strict=o,p(this,i,[],this._modules.root),d(this,i),r.concat(e).forEach(function(e){return e(n)})},I={state:{}};I.state.get=function(){return this._vm.$data.state},I.state.set=function(e){u(!1,"Use store.replaceState() to explicit replace store state.")},k.prototype.commit=function(e,t,n){var i=this,r=y(e,t,n),o=r.type,a=r.payload,s=r.options,u={type:o,payload:a},l=this._mutations[o];return l?(this._withCommit(function(){l.forEach(function(e){e(a)})}),this._subscribers.forEach(function(e){return e(u,i.state)}),void(s&&s.silent&&console.warn("[vuex] mutation type: "+o+". Silent option has been removed. Use the filter functionality in the vue-devtools"))):void console.error("[vuex] unknown mutation type: "+o)},k.prototype.dispatch=function(e,t){var n=y(e,t),i=n.type,r=n.payload,o=this._actions[i];return o?o.length>1?Promise.all(o.map(function(e){return e(r)})):o[0](r):void console.error("[vuex] unknown action type: "+i)},k.prototype.subscribe=function(e){var t=this._subscribers;return t.indexOf(e)<0&&t.push(e),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}},k.prototype.watch=function(e,t,n){var i=this;return u("function"==typeof e,"store.watch only accepts a function."),this._watcherVM.$watch(function(){return e(i.state,i.getters)},t,n)},k.prototype.replaceState=function(e){var t=this;this._withCommit(function(){t._vm.state=e})},k.prototype.registerModule=function(e,t){"string"==typeof e&&(e=[e]),u(Array.isArray(e),"module path must be a string or an Array."),this._modules.register(e,t),p(this,this.state,e,this._modules.get(e)),d(this,this.state)},k.prototype.unregisterModule=function(e){var t=this;"string"==typeof e&&(e=[e]),u(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit(function(){var n=_(t.state,e.slice(0,-1));T.delete(n,e[e.length-1])}),c(this)},k.prototype.hotUpdate=function(e){this._modules.update(e),c(this)},k.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(k.prototype,I),"undefined"!=typeof window&&window.Vue&&b(window.Vue);var D={Store:k,install:b,version:"2.1.1",mapState:w,mapMutations:x,mapGetters:C,mapActions:E};return D})},,,,,function(e,t,n){e.exports={default:n(39),__esModule:!0}},function(e,t,n){e.exports={default:n(40),__esModule:!0}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var r=n(36),o=i(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,o.default)(e)}},function(e,t,n){n(67),n(65),e.exports=n(4).Array.from},function(e,t,n){n(66),e.exports=n(4).Object.assign},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var i=n(27),r=n(28),o=n(62);e.exports=function(e){return function(t,n,a){var s,u=i(t),l=r(u.length),c=o(a,l);if(e&&n!=n){for(;l>c;)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((e||c in u)&&u[c]===n)return e||c||0;return!e&&-1}}},function(e,t,n){var i=n(19),r=n(1)("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),r))?n:o?i(t):"Object"==(s=i(t))&&"function"==typeof t.callee?"Arguments":s}},function(e,t,n){"use strict";var i=n(8),r=n(14);e.exports=function(e,t,n){t in e?i.f(e,t,r(0,n)):e[t]=n}},function(e,t,n){e.exports=n(2).document&&document.documentElement},function(e,t,n){e.exports=!n(5)&&!n(11)(function(){return 7!=Object.defineProperty(n(21)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var i=n(13),r=n(1)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[r]===e)}},function(e,t,n){var i=n(3);e.exports=function(e,t,n,r){try{return r?t(i(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&i(o.call(e)),t}}},function(e,t,n){"use strict";var i=n(54),r=n(14),o=n(25),a={};n(7)(a,n(1)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=i(a,{next:r(1,n)}),o(e,t+" Iterator")}},function(e,t,n){"use strict";var i=n(52),r=n(10),o=n(60),a=n(7),s=n(6),u=n(13),l=n(49),c=n(25),d=n(57),p=n(1)("iterator"),f=!([].keys&&"next"in[].keys()),h="@@iterator",q="keys",m="values",g=function(){return this};e.exports=function(e,t,n,v,_,y,b){l(n,t,v);var S,w,x,C=function(e){if(!f&&e in F)return F[e];switch(e){case q:return function(){return new n(this,e)};case m:return function(){return new n(this,e)}}return function(){return new n(this,e)}},E=t+" Iterator",A=_==m,P=!1,F=e.prototype,T=F[p]||F[h]||_&&F[_],k=T||C(_),I=_?A?C("entries"):k:void 0,D="Array"==t?F.entries||T:T;if(D&&(x=d(D.call(new e)),x!==Object.prototype&&(c(x,E,!0),i||s(x,p)||a(x,p,g))),A&&T&&T.name!==m&&(P=!0,k=function(){return T.call(this)}),i&&!b||!f&&!P&&F[p]||a(F,p,k),u[t]=k,u[E]=g,_)if(S={values:A?k:C(m),keys:y?k:C(q),entries:I},b)for(w in S)w in F||o(F,w,S[w]);else r(r.P+r.F*(f||P),t,S);return S}},function(e,t,n){var i=n(1)("iterator"),r=!1;try{var o=[7][i]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!r)return!1;var n=!1;try{var o=[7],a=o[i]();a.next=function(){return{done:n=!0}},o[i]=function(){return a},e(o)}catch(e){}return n}},function(e,t){e.exports=!0},function(e,t,n){"use strict";var i=n(24),r=n(56),o=n(59),a=n(17),s=n(23),u=Object.assign;e.exports=!u||n(11)(function(){var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach(function(e){t[e]=e}),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=i})?function(e,t){for(var n=a(e),u=arguments.length,l=1,c=r.f,d=o.f;u>l;)for(var p,f=s(arguments[l++]),h=c?i(f).concat(c(f)):i(f),q=h.length,m=0;q>m;)d.call(f,p=h[m++])&&(n[p]=f[p]);return n}:u},function(e,t,n){var i=n(3),r=n(55),o=n(22),a=n(15)("IE_PROTO"),s=function(){},u="prototype",l=function(){var e,t=n(21)("iframe"),i=o.length,r="<",a=">";for(t.style.display="none",n(45).appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(r+"script"+a+"document.F=Object"+r+"/script"+a),e.close(),l=e.F;i--;)delete l[u][o[i]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(s[u]=i(e),n=new s,s[u]=null,n[a]=e):n=l(),void 0===t?n:r(n,t)}},function(e,t,n){var i=n(8),r=n(3),o=n(24);e.exports=n(5)?Object.defineProperties:function(e,t){r(e);for(var n,a=o(t),s=a.length,u=0;s>u;)i.f(e,n=a[u++],t[n]);return e}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var i=n(6),r=n(17),o=n(15)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),i(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,n){var i=n(6),r=n(27),o=n(42)(!1),a=n(15)("IE_PROTO");e.exports=function(e,t){var n,s=r(e),u=0,l=[];for(n in s)n!=a&&i(s,n)&&l.push(n);for(;t.length>u;)i(s,n=t[u++])&&(~o(l,n)||l.push(n));return l}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){e.exports=n(7)},function(e,t,n){var i=n(16),r=n(9);e.exports=function(e){return function(t,n){var o,a,s=String(r(t)),u=i(n),l=s.length;return u<0||u>=l?e?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?e?s.charAt(u):o:e?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},function(e,t,n){var i=n(16),r=Math.max,o=Math.min;e.exports=function(e,t){return e=i(e),e<0?r(e+t,0):o(e,t)}},function(e,t,n){var i=n(12);e.exports=function(e,t){if(!i(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!i(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!i(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var i=n(43),r=n(1)("iterator"),o=n(13);e.exports=n(4).getIteratorMethod=function(e){if(void 0!=e)return e[r]||e["@@iterator"]||o[i(e)]}},function(e,t,n){"use strict";var i=n(20),r=n(10),o=n(17),a=n(48),s=n(47),u=n(28),l=n(44),c=n(64);r(r.S+r.F*!n(51)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,r,d,p=o(e),f="function"==typeof this?this:Array,h=arguments.length,q=h>1?arguments[1]:void 0,m=void 0!==q,g=0,v=c(p);if(m&&(q=i(q,h>2?arguments[2]:void 0,2)),void 0==v||f==Array&&s(v))for(t=u(p.length),n=new f(t);t>g;g++)l(n,g,m?q(p[g],g):p[g]);else for(d=v.call(p),n=new f;!(r=d.next()).done;g++)l(n,g,m?a(d,q,[r.value,g],!0):r.value);return n.length=g,n}})},function(e,t,n){var i=n(10);i(i.S+i.F,"Object",{assign:n(53)})},function(e,t,n){"use strict";var i=n(61)(!0);n(50)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=i(t,n),this._i+=e.length,{value:e,done:!1})})},,,function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;!function(global){var qq=function(e){"use strict";return{hide:function(){return e.style.display="none",this},attach:function(t,n){return e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n),function(){qq(e).detach(t,n)}},detach:function(t,n){return e.removeEventListener?e.removeEventListener(t,n,!1):e.attachEvent&&e.detachEvent("on"+t,n),this},contains:function(t){return!!t&&(e===t||(e.contains?e.contains(t):!!(8&t.compareDocumentPosition(e))))},insertBefore:function(t){return t.parentNode.insertBefore(e,t),this},remove:function(){return e.parentNode.removeChild(e),this},css:function(t){if(null==e.style)throw new qq.Error("Can't apply style to node as it is not on the HTMLElement prototype chain!");return null!=t.opacity&&"string"!=typeof e.style.opacity&&"undefined"!=typeof e.filters&&(t.filter="alpha(opacity="+Math.round(100*t.opacity)+")"),qq.extend(e.style,t),this},hasClass:function(t,n){var i=new RegExp("(^| )"+t+"( |$)");return i.test(e.className)||!(!n||!i.test(e.parentNode.className))},addClass:function(t){return qq(e).hasClass(t)||(e.className+=" "+t),this},removeClass:function(t){var n=new RegExp("(^| )"+t+"( |$)");return e.className=e.className.replace(n," ").replace(/^\s+|\s+$/g,""),this},getByClass:function(t,n){var i,r=[];return n&&e.querySelector?e.querySelector("."+t):e.querySelectorAll?e.querySelectorAll("."+t):(i=e.getElementsByTagName("*"),qq.each(i,function(e,n){qq(n).hasClass(t)&&r.push(n)}),n?r[0]:r)},getFirstByClass:function(t){return qq(e).getByClass(t,!0)},children:function(){for(var t=[],n=e.firstChild;n;)1===n.nodeType&&t.push(n),n=n.nextSibling;return t},setText:function(t){return e.innerText=t,e.textContent=t,this},clearText:function(){return qq(e).setText("")},hasAttribute:function(t){var n;return e.hasAttribute?!!e.hasAttribute(t)&&null==/^false$/i.exec(e.getAttribute(t)):(n=e[t],void 0!==n&&null==/^false$/i.exec(n))}}};!function(){"use strict";qq.canvasToBlob=function(e,t,n){return qq.dataUriToBlob(e.toDataURL(t,n))},qq.dataUriToBlob=function(e){var t,n,i,r,o=function(e,t){var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=n&&new n;return i?(i.append(e),i.getBlob(t)):new Blob([e],{type:t})};return n=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),r=e.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),i=new Uint8Array(t),qq.each(n,function(e,t){i[e]=t.charCodeAt(0)}),o(t,r)},qq.log=function(e,t){window.console&&(t&&"info"!==t?window.console[t]?window.console[t](e):window.console.log("<"+t+"> "+e):window.console.log(e))},qq.isObject=function(e){return e&&!e.nodeType&&"[object Object]"===Object.prototype.toString.call(e)},qq.isFunction=function(e){return"function"==typeof e},qq.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)||e&&window.ArrayBuffer&&e.buffer&&e.buffer.constructor===ArrayBuffer},qq.isItemList=function(e){return"[object DataTransferItemList]"===Object.prototype.toString.call(e)},qq.isNodeList=function(e){return"[object NodeList]"===Object.prototype.toString.call(e)||e.item&&e.namedItem},qq.isString=function(e){return"[object String]"===Object.prototype.toString.call(e)},qq.trimStr=function(e){return String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},qq.format=function(e){var t=Array.prototype.slice.call(arguments,1),n=e,i=n.indexOf("{}");return qq.each(t,function(e,t){var r=n.substring(0,i),o=n.substring(i+2);if(n=r+t+o,i=n.indexOf("{}",i+t.length),i<0)return!1}),n},qq.isFile=function(e){return window.File&&"[object File]"===Object.prototype.toString.call(e)},qq.isFileList=function(e){return window.FileList&&"[object FileList]"===Object.prototype.toString.call(e)},qq.isFileOrInput=function(e){return qq.isFile(e)||qq.isInput(e)},qq.isInput=function(e,t){var n=function(e){var n=e.toLowerCase();return t?"file"!==n:"file"===n};return!!(window.HTMLInputElement&&"[object HTMLInputElement]"===Object.prototype.toString.call(e)&&e.type&&n(e.type))||!!(e.tagName&&"input"===e.tagName.toLowerCase()&&e.type&&n(e.type))},qq.isBlob=function(e){if(window.Blob&&"[object Blob]"===Object.prototype.toString.call(e))return!0},qq.isXhrUploadSupported=function(){var e=document.createElement("input");return e.type="file",void 0!==e.multiple&&"undefined"!=typeof File&&"undefined"!=typeof FormData&&"undefined"!=typeof qq.createXhrInstance().upload},qq.createXhrInstance=function(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return qq.log("Neither XHR or ActiveX are supported!","error"),null}},qq.isFolderDropSupported=function(e){return e.items&&e.items.length>0&&e.items[0].webkitGetAsEntry},qq.isFileChunkingSupported=function(){return!qq.androidStock()&&qq.isXhrUploadSupported()&&(void 0!==File.prototype.slice||void 0!==File.prototype.webkitSlice||void 0!==File.prototype.mozSlice)},qq.sliceBlob=function(e,t,n){var i=e.slice||e.mozSlice||e.webkitSlice;return i.call(e,t,n)},qq.arrayBufferToHex=function(e){var t="",n=new Uint8Array(e);return qq.each(n,function(e,n){var i=n.toString(16);i.length<2&&(i="0"+i),t+=i}),t},qq.readBlobToHex=function(e,t,n){var i=qq.sliceBlob(e,t,t+n),r=new FileReader,o=new qq.Promise;return r.onload=function(){o.success(qq.arrayBufferToHex(r.result))},r.onerror=o.failure,r.readAsArrayBuffer(i),o},qq.extend=function(e,t,n){return qq.each(t,function(t,i){n&&qq.isObject(i)?(void 0===e[t]&&(e[t]={}),qq.extend(e[t],i,!0)):e[t]=i}),e},qq.override=function(e,t){var n={},i=t(n);return qq.each(i,function(t,i){void 0!==e[t]&&(n[t]=e[t]),e[t]=i}),e},qq.indexOf=function(e,t,n){if(e.indexOf)return e.indexOf(t,n);n=n||0;var i=e.length;for(n<0&&(n+=i);n<i;n+=1)if(e.hasOwnProperty(n)&&e[n]===t)return n;return-1},qq.getUniqueId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0,n="x"==e?t:3&t|8;return n.toString(16)})},qq.ie=function(){return navigator.userAgent.indexOf("MSIE")!==-1||navigator.userAgent.indexOf("Trident")!==-1},qq.ie7=function(){return navigator.userAgent.indexOf("MSIE 7")!==-1},qq.ie8=function(){return navigator.userAgent.indexOf("MSIE 8")!==-1},qq.ie10=function(){return navigator.userAgent.indexOf("MSIE 10")!==-1},qq.ie11=function(){return qq.ie()&&navigator.userAgent.indexOf("rv:11")!==-1},qq.edge=function(){return navigator.userAgent.indexOf("Edge")>=0},qq.safari=function(){return void 0!==navigator.vendor&&navigator.vendor.indexOf("Apple")!==-1},qq.chrome=function(){return void 0!==navigator.vendor&&navigator.vendor.indexOf("Google")!==-1},qq.opera=function(){return void 0!==navigator.vendor&&navigator.vendor.indexOf("Opera")!==-1},qq.firefox=function(){return!qq.edge()&&!qq.ie11()&&navigator.userAgent.indexOf("Mozilla")!==-1&&void 0!==navigator.vendor&&""===navigator.vendor},qq.windows=function(){return"Win32"===navigator.platform},qq.android=function(){return navigator.userAgent.toLowerCase().indexOf("android")!==-1},qq.androidStock=function(){return qq.android()&&navigator.userAgent.toLowerCase().indexOf("chrome")<0},qq.ios6=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 6_")!==-1},qq.ios7=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 7_")!==-1},qq.ios8=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_")!==-1},qq.ios800=function(){return qq.ios()&&navigator.userAgent.indexOf(" OS 8_0 ")!==-1},qq.ios=function(){return navigator.userAgent.indexOf("iPad")!==-1||navigator.userAgent.indexOf("iPod")!==-1||navigator.userAgent.indexOf("iPhone")!==-1},qq.iosChrome=function(){return qq.ios()&&navigator.userAgent.indexOf("CriOS")!==-1},qq.iosSafari=function(){return qq.ios()&&!qq.iosChrome()&&navigator.userAgent.indexOf("Safari")!==-1},qq.iosSafariWebView=function(){return qq.ios()&&!qq.iosChrome()&&!qq.iosSafari()},qq.preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qq.toElement=function(){var e=document.createElement("div");return function(t){e.innerHTML=t;var n=e.firstChild;return e.removeChild(n),n}}(),qq.each=function(e,t){var n,i;if(e)if(window.Storage&&e.constructor===window.Storage)for(n=0;n<e.length&&(i=t(e.key(n),e.getItem(e.key(n))),i!==!1);n++);else if(qq.isArray(e)||qq.isItemList(e)||qq.isNodeList(e))for(n=0;n<e.length&&(i=t(n,e[n]),i!==!1);n++);else if(qq.isString(e))for(n=0;n<e.length&&(i=t(n,e.charAt(n)),i!==!1);n++);else for(n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&(i=t(n,e[n]),i===!1))break},qq.bind=function(e,t){if(qq.isFunction(e)){var n=Array.prototype.slice.call(arguments,2);return function(){var i=qq.extend([],n);return arguments.length&&(i=i.concat(Array.prototype.slice.call(arguments))),e.apply(t,i)}}throw new Error("first parameter must be a function!")},qq.obj2url=function(e,t,n){var i=[],r="&",o=function(e,n){var r=t?/\[\]$/.test(t)?t:t+"["+n+"]":n;"undefined"!==r&&"undefined"!==n&&i.push("object"==typeof e?qq.obj2url(e,r,!0):"[object Function]"===Object.prototype.toString.call(e)?encodeURIComponent(r)+"="+encodeURIComponent(e()):encodeURIComponent(r)+"="+encodeURIComponent(e))};return!n&&t?(r=/\?/.test(t)?/\?$/.test(t)?"":"&":"?",i.push(t),i.push(qq.obj2url(e))):"[object Array]"===Object.prototype.toString.call(e)&&"undefined"!=typeof e?qq.each(e,function(e,t){o(t,e)}):"undefined"!=typeof e&&null!==e&&"object"==typeof e?qq.each(e,function(e,t){o(t,e)}):i.push(encodeURIComponent(t)+"="+encodeURIComponent(e)),t?i.join(r):i.join(r).replace(/^&/,"").replace(/%20/g,"+")},qq.obj2FormData=function(e,t,n){return t||(t=new FormData),qq.each(e,function(e,i){e=n?n+"["+e+"]":e,qq.isObject(i)?qq.obj2FormData(i,t,e):qq.isFunction(i)?t.append(e,i()):t.append(e,i)}),t},qq.obj2Inputs=function(e,t){var n;return t||(t=document.createElement("form")),qq.obj2FormData(e,{append:function(e,i){n=document.createElement("input"),n.setAttribute("name",e),n.setAttribute("value",i),t.appendChild(n)}}),t},qq.parseJson=function(json){return window.JSON&&qq.isFunction(JSON.parse)?JSON.parse(json):eval("("+json+")")},qq.getExtension=function(e){var t=e.lastIndexOf(".")+1;if(t>0)return e.substr(t,e.length-t)},qq.getFilename=function(e){return qq.isInput(e)?e.value.replace(/.*(\/|\\)/,""):qq.isFile(e)&&null!==e.fileName&&void 0!==e.fileName?e.fileName:e.name},qq.DisposeSupport=function(){var e=[];return{dispose:function(){var t;do t=e.shift(),t&&t();while(t)},attach:function(){var e=arguments;this.addDisposer(qq(e[0]).attach.apply(this,Array.prototype.slice.call(arguments,1)))},addDisposer:function(t){e.push(t)}}}}(),function(){"use strict";__WEBPACK_AMD_DEFINE_RESULT__=function(){return qq}.call(exports,__webpack_require__,exports,module),!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__))}(),function(){"use strict";qq.Error=function(e){this.message="[Fine Uploader "+qq.version+"] "+e},qq.Error.prototype=new Error}(),qq.version="5.11.10",qq.supportedFeatures=function(){"use strict";function e(){var e,t=!0;try{e=document.createElement("input"),e.type="file",qq(e).hide(),e.disabled&&(t=!1)}catch(e){t=!1}return t}function t(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[2][1-9]|Chrome\/[3-9][0-9]/)}function n(){return(qq.chrome()||qq.opera())&&void 0!==navigator.userAgent.match(/Chrome\/[1][4-9]|Chrome\/[2-9][0-9]/)}function i(){if(window.XMLHttpRequest){var e=qq.createXhrInstance();return void 0!==e.withCredentials}return!1}function r(){return void 0!==window.XDomainRequest}function o(){return!!i()||r()}function a(){return void 0!==document.createElement("input").webkitdirectory}function s(){try{return!!window.localStorage&&qq.isFunction(window.localStorage.setItem)}catch(e){return!1}}function u(){var e=document.createElement("span");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&!qq.android()&&!qq.ios()}var l,c,d,p,f,h,q,m,g,v,_,y,b,S,w;return l=e(),p=l&&qq.isXhrUploadSupported(),c=p&&!qq.androidStock(),d=p&&u(),f=d&&t(),h=p&&qq.isFileChunkingSupported(),q=p&&h&&s(),m=p&&n(),g=l&&(void 0!==window.postMessage||p),_=i(),v=r(),y=o(),b=a(),S=p&&void 0!==window.FileReader,w=function(){return!!p&&(!qq.androidStock()&&!qq.iosChrome())}(),{ajaxUploading:p,blobUploading:c,canDetermineSize:p,chunking:h,deleteFileCors:y,deleteFileCorsXdr:v,deleteFileCorsXhr:_,dialogElement:!!window.HTMLDialogElement,fileDrop:d,folderDrop:f,folderSelection:b,imagePreviews:S,imageValidation:S,itemSizeValidation:p,pause:h,progressBar:w,resume:q,scaling:S&&c,tiffPreviews:qq.safari(),unlimitedScaledImageSize:!qq.ios(),uploading:l,uploadCors:g,uploadCustomHeaders:p,uploadNonMultipart:p,uploadViaPaste:m}}(),qq.isGenericPromise=function(e){"use strict";return!!(e&&e.then&&qq.isFunction(e.then))},qq.Promise=function(){"use strict";var e,t,n=[],i=[],r=[],o=0;qq.extend(this,{then:function(r,a){return 0===o?(r&&n.push(r),a&&i.push(a)):o===-1?a&&a.apply(null,t):r&&r.apply(null,e),this},done:function(n){return 0===o?r.push(n):n.apply(null,void 0===t?e:t),this},success:function(){return o=1,e=arguments,n.length&&qq.each(n,function(t,n){n.apply(null,e)}),r.length&&qq.each(r,function(t,n){n.apply(null,e)}),this},failure:function(){return o=-1,t=arguments,i.length&&qq.each(i,function(e,n){n.apply(null,t)}),r.length&&qq.each(r,function(e,n){n.apply(null,t)}),this}})},qq.BlobProxy=function(e,t){"use strict";qq.extend(this,{referenceBlob:e,create:function(){return t(e)}})},qq.UploadButton=function(e){"use strict";function t(){var e=document.createElement("input");return e.setAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME,i),e.setAttribute("title",a.title),r.setMultiple(a.multiple,e),a.folders&&qq.supportedFeatures.folderSelection&&e.setAttribute("webkitdirectory",""),a.acceptFiles&&e.setAttribute("accept",a.acceptFiles),e.setAttribute("type","file"),e.setAttribute("name",a.name),qq(e).css({position:"absolute",right:0,top:0,fontFamily:"Arial",fontSize:qq.ie()&&!qq.ie8()?"3500px":"118px",margin:0,padding:0,cursor:"pointer",opacity:0}),!qq.ie7()&&qq(e).css({height:"100%"}),a.element.appendChild(e),o.attach(e,"change",function(){a.onChange(e)}),o.attach(e,"mouseover",function(){qq(a.element).addClass(a.hoverClass)}),o.attach(e,"mouseout",function(){qq(a.element).removeClass(a.hoverClass)}),o.attach(e,"focus",function(){qq(a.element).addClass(a.focusClass)}),o.attach(e,"blur",function(){qq(a.element).removeClass(a.focusClass)}),e}var n,i,r=this,o=new qq.DisposeSupport,a={acceptFiles:null,element:null,focusClass:"qq-upload-button-focus",folders:!1,hoverClass:"qq-upload-button-hover",ios8BrowserCrashWorkaround:!1,multiple:!1,name:"qqfile",onChange:function(e){},title:null};qq.extend(a,e),i=qq.getUniqueId(),qq(a.element).css({position:"relative",overflow:"hidden",direction:"ltr"}),qq.extend(this,{getInput:function(){return n},getButtonId:function(){return i},setMultiple:function(e,t){var n=t||this.getInput();a.ios8BrowserCrashWorkaround&&qq.ios8()&&(qq.iosChrome()||qq.iosSafariWebView())?n.setAttribute("multiple",""):e?n.setAttribute("multiple",""):n.removeAttribute("multiple")},setAcceptFiles:function(e){e!==a.acceptFiles&&n.setAttribute("accept",e)},reset:function(){n.parentNode&&qq(n).remove(),qq(a.element).removeClass(a.focusClass),n=null,n=t()}}),n=t()},qq.UploadButton.BUTTON_ID_ATTR_NAME="qq-button-id",qq.UploadData=function(e){"use strict";function t(e){if(qq.isArray(e)){var t=[];return qq.each(e,function(e,n){
t.push(r[n])}),t}return r[e]}function n(e){if(qq.isArray(e)){var t=[];return qq.each(e,function(e,n){t.push(r[o[n]])}),t}return r[o[e]]}function i(e){var t=[],n=[].concat(e);return qq.each(n,function(e,n){var i=a[n];void 0!==i&&qq.each(i,function(e,n){t.push(r[n])})}),t}var r=[],o={},a={},s={},u={};qq.extend(this,{addFile:function(t){var n=t.status||qq.status.SUBMITTING,i=r.push({name:t.name,originalName:t.name,uuid:t.uuid,size:null==t.size?-1:t.size,status:n})-1;return t.batchId&&(r[i].batchId=t.batchId,void 0===u[t.batchId]&&(u[t.batchId]=[]),u[t.batchId].push(i)),t.proxyGroupId&&(r[i].proxyGroupId=t.proxyGroupId,void 0===s[t.proxyGroupId]&&(s[t.proxyGroupId]=[]),s[t.proxyGroupId].push(i)),r[i].id=i,o[t.uuid]=i,void 0===a[n]&&(a[n]=[]),a[n].push(i),e.onStatusChange(i,null,n),i},retrieve:function(e){return qq.isObject(e)&&r.length?void 0!==e.id?t(e.id):void 0!==e.uuid?n(e.uuid):e.status?i(e.status):void 0:qq.extend([],r,!0)},reset:function(){r=[],o={},a={},u={}},setStatus:function(t,n){var i=r[t].status,o=qq.indexOf(a[i],t);a[i].splice(o,1),r[t].status=n,void 0===a[n]&&(a[n]=[]),a[n].push(t),e.onStatusChange(t,i,n)},uuidChanged:function(e,t){var n=r[e].uuid;r[e].uuid=t,o[t]=e,delete o[n]},updateName:function(e,t){r[e].name=t},updateSize:function(e,t){r[e].size=t},setParentId:function(e,t){r[e].parentId=t},getIdsInProxyGroup:function(e){var t=r[e].proxyGroupId;return t?s[t]:[]},getIdsInBatch:function(e){var t=r[e].batchId;return u[t]}})},qq.status={SUBMITTING:"submitting",SUBMITTED:"submitted",REJECTED:"rejected",QUEUED:"queued",CANCELED:"canceled",PAUSED:"paused",UPLOADING:"uploading",UPLOAD_RETRYING:"retrying upload",UPLOAD_SUCCESSFUL:"upload successful",UPLOAD_FAILED:"upload failed",DELETE_FAILED:"delete failed",DELETING:"deleting",DELETED:"deleted"},function(){"use strict";qq.basePublicApi={addBlobs:function(e,t,n){this.addFiles(e,t,n)},addInitialFiles:function(e){var t=this;qq.each(e,function(e,n){t._addCannedFile(n)})},addFiles:function(e,t,n){this._maybeHandleIos8SafariWorkaround();var i=0===this._storedIds.length?qq.getUniqueId():this._currentBatchId,r=qq.bind(function(e){this._handleNewFile({blob:e,name:this._options.blobs.defaultName},i,d)},this),o=qq.bind(function(e){this._handleNewFile(e,i,d)},this),a=qq.bind(function(e){var t=qq.canvasToBlob(e);this._handleNewFile({blob:t,name:this._options.blobs.defaultName+".png"},i,d)},this),s=qq.bind(function(e){var t=e.quality&&e.quality/100,n=qq.canvasToBlob(e.canvas,e.type,t);this._handleNewFile({blob:n,name:e.name},i,d)},this),u=qq.bind(function(e){if(qq.isInput(e)&&qq.supportedFeatures.ajaxUploading){var t=Array.prototype.slice.call(e.files),n=this;qq.each(t,function(e,t){n._handleNewFile(t,i,d)})}else this._handleNewFile(e,i,d)},this),l=function(){qq.isFileList(e)&&(e=Array.prototype.slice.call(e)),e=[].concat(e)},c=this,d=[];this._currentBatchId=i,e&&(l(),qq.each(e,function(e,t){qq.isFileOrInput(t)?u(t):qq.isBlob(t)?r(t):qq.isObject(t)?t.blob&&t.name?o(t):t.canvas&&t.name&&s(t):t.tagName&&"canvas"===t.tagName.toLowerCase()?a(t):c.log(t+" is not a valid file container!  Ignoring!","warn")}),this.log("Received "+d.length+" files."),this._prepareItemsForUpload(d,t,n))},cancel:function(e){this._handler.cancel(e)},cancelAll:function(){var e=[],t=this;qq.extend(e,this._storedIds),qq.each(e,function(e,n){t.cancel(n)}),this._handler.cancelAll()},clearStoredFiles:function(){this._storedIds=[]},continueUpload:function(e){var t=this._uploadData.retrieve({id:e});return!(!qq.supportedFeatures.pause||!this._options.chunking.enabled)&&(t.status===qq.status.PAUSED?(this.log(qq.format("Paused file ID {} ({}) will be continued.  Not paused.",e,this.getName(e))),this._uploadFile(e),!0):(this.log(qq.format("Ignoring continue for file ID {} ({}).  Not paused.",e,this.getName(e)),"error"),!1))},deleteFile:function(e){return this._onSubmitDelete(e)},doesExist:function(e){return this._handler.isValid(e)},drawThumbnail:function(e,t,n,i,r){var o,a,s=new qq.Promise;return this._imageGenerator?(o=this._thumbnailUrls[e],a={customResizeFunction:r,maxSize:n>0?n:null,scale:n>0},!i&&qq.supportedFeatures.imagePreviews&&(o=this.getFile(e)),null==o?s.failure({container:t,error:"File or URL not found."}):this._imageGenerator.generate(o,t,a).then(function(e){s.success(e)},function(e,t){s.failure({container:e,error:t||"Problem generating thumbnail"})})):s.failure({container:t,error:"Missing image generator module"}),s},getButton:function(e){return this._getButton(this._buttonIdsForFileIds[e])},getEndpoint:function(e){return this._endpointStore.get(e)},getFile:function(e){return this._handler.getFile(e)||null},getInProgress:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED]}).length},getName:function(e){return this._uploadData.retrieve({id:e}).name},getParentId:function(e){var t=this.getUploads({id:e}),n=null;return t&&void 0!==t.parentId&&(n=t.parentId),n},getResumableFilesData:function(){return this._handler.getResumableFilesData()},getSize:function(e){return this._uploadData.retrieve({id:e}).size},getNetUploads:function(){return this._netUploaded},getRemainingAllowedItems:function(){var e=this._currentItemLimit;return e>0?e-this._netUploadedOrQueued:null},getUploads:function(e){return this._uploadData.retrieve(e)},getUuid:function(e){return this._uploadData.retrieve({id:e}).uuid},log:function(e,t){!this._options.debug||t&&"info"!==t?t&&"info"!==t&&qq.log("[Fine Uploader "+qq.version+"] "+e,t):qq.log("[Fine Uploader "+qq.version+"] "+e)},pauseUpload:function(e){var t=this._uploadData.retrieve({id:e});if(!qq.supportedFeatures.pause||!this._options.chunking.enabled)return!1;if(qq.indexOf([qq.status.UPLOADING,qq.status.UPLOAD_RETRYING],t.status)>=0){if(this._handler.pause(e))return this._uploadData.setStatus(e,qq.status.PAUSED),!0;this.log(qq.format("Unable to pause file ID {} ({}).",e,this.getName(e)),"error")}else this.log(qq.format("Ignoring pause for file ID {} ({}).  Not in progress.",e,this.getName(e)),"error");return!1},reset:function(){this.log("Resetting uploader..."),this._handler.reset(),this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],qq.each(this._buttons,function(e,t){t.reset()}),this._paramsStore.reset(),this._endpointStore.reset(),this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData.reset(),this._buttonIdsForFileIds=[],this._pasteHandler&&this._pasteHandler.reset(),this._options.session.refreshOnReset&&this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._totalProgress&&this._totalProgress.reset()},retry:function(e){return this._manualRetry(e)},scaleImage:function(e,t){var n=this;return qq.Scaler.prototype.scaleImage(e,t,{log:qq.bind(n.log,n),getFile:qq.bind(n.getFile,n),uploadData:n._uploadData})},setCustomHeaders:function(e,t){this._customHeadersStore.set(e,t)},setDeleteFileCustomHeaders:function(e,t){this._deleteFileCustomHeadersStore.set(e,t)},setDeleteFileEndpoint:function(e,t){this._deleteFileEndpointStore.set(e,t)},setDeleteFileParams:function(e,t){this._deleteFileParamsStore.set(e,t)},setEndpoint:function(e,t){this._endpointStore.set(e,t)},setForm:function(e){this._updateFormSupportAndParams(e)},setItemLimit:function(e){this._currentItemLimit=e},setName:function(e,t){this._uploadData.updateName(e,t)},setParams:function(e,t){this._paramsStore.set(e,t)},setUuid:function(e,t){return this._uploadData.uuidChanged(e,t)},uploadStoredFiles:function(){0===this._storedIds.length?this._itemError("noFilesError"):this._uploadStoredFiles()}},qq.basePrivateApi={_addCannedFile:function(e){var t=this._uploadData.addFile({uuid:e.uuid,name:e.name,size:e.size,status:qq.status.UPLOAD_SUCCESSFUL});return e.deleteFileEndpoint&&this.setDeleteFileEndpoint(e.deleteFileEndpoint,t),e.deleteFileParams&&this.setDeleteFileParams(e.deleteFileParams,t),e.thumbnailUrl&&(this._thumbnailUrls[t]=e.thumbnailUrl),this._netUploaded++,this._netUploadedOrQueued++,t},_annotateWithButtonId:function(e,t){qq.isFile(e)&&(e.qqButtonId=this._getButtonId(t))},_batchError:function(e){this._options.callbacks.onError(null,null,e,void 0)},_createDeleteHandler:function(){var e=this;return new qq.DeleteFileAjaxRequester({method:this._options.deleteFile.method.toUpperCase(),maxConnections:this._options.maxConnections,uuidParamName:this._options.request.uuidName,customHeaders:this._deleteFileCustomHeadersStore,paramsStore:this._deleteFileParamsStore,endpointStore:this._deleteFileEndpointStore,cors:this._options.cors,log:qq.bind(e.log,e),onDelete:function(t){e._onDelete(t),e._options.callbacks.onDelete(t)},onDeleteComplete:function(t,n,i){e._onDeleteComplete(t,n,i),e._options.callbacks.onDeleteComplete(t,n,i)}})},_createPasteHandler:function(){var e=this;return new qq.PasteSupport({targetElement:this._options.paste.targetElement,callbacks:{log:qq.bind(e.log,e),pasteReceived:function(t){e._handleCheckedCallback({name:"onPasteReceived",callback:qq.bind(e._options.callbacks.onPasteReceived,e,t),onSuccess:qq.bind(e._handlePasteSuccess,e,t),identifier:"pasted image"})}}})},_createStore:function(e,t){var n={},i=e,r={},o=t,a=function(e){return qq.isObject(e)?qq.extend({},e):e},s=function(){return qq.isFunction(o)?o():o},u=function(e,t){o&&qq.isObject(t)&&qq.extend(t,s()),r[e]&&qq.extend(t,r[e])};return{set:function(e,t){null==t?(n={},i=a(e)):n[t]=a(e)},get:function(e){var t;return t=null!=e&&n[e]?n[e]:a(i),u(e,t),a(t)},addReadOnly:function(e,t){qq.isObject(n)&&(null===e?qq.isFunction(t)?o=t:(o=o||{},qq.extend(o,t)):(r[e]=r[e]||{},qq.extend(r[e],t)))},remove:function(e){return delete n[e]},reset:function(){n={},r={},i=e}}},_createUploadDataTracker:function(){var e=this;return new qq.UploadData({getName:function(t){return e.getName(t)},getUuid:function(t){return e.getUuid(t)},getSize:function(t){return e.getSize(t)},onStatusChange:function(t,n,i){e._onUploadStatusChange(t,n,i),e._options.callbacks.onStatusChange(t,n,i),e._maybeAllComplete(t,i),e._totalProgress&&setTimeout(function(){e._totalProgress.onStatusChange(t,n,i)},0)}})},_createUploadButton:function(e){function t(){return!!qq.supportedFeatures.ajaxUploading&&(!(i._options.workarounds.iosEmptyVideos&&qq.ios()&&!qq.ios6()&&i._isAllowedExtension(o,".mov"))&&(void 0===e.multiple?i._options.multiple:e.multiple))}var n,i=this,r=e.accept||this._options.validation.acceptFiles,o=e.allowedExtensions||this._options.validation.allowedExtensions;return n=new qq.UploadButton({acceptFiles:r,element:e.element,focusClass:this._options.classes.buttonFocus,folders:e.folders,hoverClass:this._options.classes.buttonHover,ios8BrowserCrashWorkaround:this._options.workarounds.ios8BrowserCrash,multiple:t(),name:this._options.request.inputName,onChange:function(e){i._onInputChange(e)},title:null==e.title?this._options.text.fileInputTitle:e.title}),this._disposeSupport.addDisposer(function(){n.dispose()}),i._buttons.push(n),n},_createUploadHandler:function(e,t){var n=this,i={},r={debug:this._options.debug,maxConnections:this._options.maxConnections,cors:this._options.cors,paramsStore:this._paramsStore,endpointStore:this._endpointStore,chunking:this._options.chunking,resume:this._options.resume,blobs:this._options.blobs,log:qq.bind(n.log,n),preventRetryParam:this._options.retry.preventRetryResponseProperty,onProgress:function(e,t,r,o){r<0||o<0||(i[e]?i[e].loaded===r&&i[e].total===o||(n._onProgress(e,t,r,o),n._options.callbacks.onProgress(e,t,r,o)):(n._onProgress(e,t,r,o),n._options.callbacks.onProgress(e,t,r,o)),i[e]={loaded:r,total:o})},onComplete:function(e,t,r,o){delete i[e];var a,s=n.getUploads({id:e}).status;s!==qq.status.UPLOAD_SUCCESSFUL&&s!==qq.status.UPLOAD_FAILED&&(a=n._onComplete(e,t,r,o),a instanceof qq.Promise?a.done(function(){n._options.callbacks.onComplete(e,t,r,o)}):n._options.callbacks.onComplete(e,t,r,o))},onCancel:function(e,t,i){var r=new qq.Promise;return n._handleCheckedCallback({name:"onCancel",callback:qq.bind(n._options.callbacks.onCancel,n,e,t),onFailure:r.failure,onSuccess:function(){i.then(function(){n._onCancel(e,t)}),r.success()},identifier:e}),r},onUploadPrep:qq.bind(this._onUploadPrep,this),onUpload:function(e,t){n._onUpload(e,t),n._options.callbacks.onUpload(e,t)},onUploadChunk:function(e,t,i){n._onUploadChunk(e,i),n._options.callbacks.onUploadChunk(e,t,i)},onUploadChunkSuccess:function(e,t,i,r){n._options.callbacks.onUploadChunkSuccess.apply(n,arguments)},onResume:function(e,t,i){return n._options.callbacks.onResume(e,t,i)},onAutoRetry:function(e,t,i,r){return n._onAutoRetry.apply(n,arguments)},onUuidChanged:function(e,t){n.log("Server requested UUID change from '"+n.getUuid(e)+"' to '"+t+"'"),n.setUuid(e,t)},getName:qq.bind(n.getName,n),getUuid:qq.bind(n.getUuid,n),getSize:qq.bind(n.getSize,n),setSize:qq.bind(n._setSize,n),getDataByUuid:function(e){return n.getUploads({uuid:e})},isQueued:function(e){var t=n.getUploads({id:e}).status;return t===qq.status.QUEUED||t===qq.status.SUBMITTED||t===qq.status.UPLOAD_RETRYING||t===qq.status.PAUSED},getIdsInProxyGroup:n._uploadData.getIdsInProxyGroup,getIdsInBatch:n._uploadData.getIdsInBatch};return qq.each(this._options.request,function(e,t){r[e]=t}),r.customHeaders=this._customHeadersStore,e&&qq.each(e,function(e,t){r[e]=t}),new qq.UploadHandlerController(r,t)},_fileOrBlobRejected:function(e){this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.REJECTED)},_formatSize:function(e){var t=-1;do e/=1e3,t++;while(e>999);return Math.max(e,.1).toFixed(1)+this._options.text.sizeSymbols[t]},_generateExtraButtonSpecs:function(){var e=this;this._extraButtonSpecs={},qq.each(this._options.extraButtons,function(t,n){var i=n.multiple,r=qq.extend({},e._options.validation,!0),o=qq.extend({},n);void 0===i&&(i=e._options.multiple),o.validation&&qq.extend(r,n.validation,!0),qq.extend(o,{multiple:i,validation:r},!0),e._initExtraButton(o)})},_getButton:function(e){var t=this._extraButtonSpecs[e];return t?t.element:e===this._defaultButtonId?this._options.button:void 0},_getButtonId:function(e){var t,n,i=e;if(i instanceof qq.BlobProxy&&(i=i.referenceBlob),i&&!qq.isBlob(i)){if(qq.isFile(i))return i.qqButtonId;if("input"===i.tagName.toLowerCase()&&"file"===i.type.toLowerCase())return i.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME);if(t=i.getElementsByTagName("input"),qq.each(t,function(e,t){if("file"===t.getAttribute("type"))return n=t,!1}),n)return n.getAttribute(qq.UploadButton.BUTTON_ID_ATTR_NAME)}},_getNotFinished:function(){return this._uploadData.retrieve({status:[qq.status.UPLOADING,qq.status.UPLOAD_RETRYING,qq.status.QUEUED,qq.status.SUBMITTING,qq.status.SUBMITTED,qq.status.PAUSED]}).length},_getValidationBase:function(e){var t=this._extraButtonSpecs[e];return t?t.validation:this._options.validation},_getValidationDescriptor:function(e){return e.file instanceof qq.BlobProxy?{name:qq.getFilename(e.file.referenceBlob),size:e.file.referenceBlob.size}:{name:this.getUploads({id:e.id}).name,size:this.getUploads({id:e.id}).size}},_getValidationDescriptors:function(e){var t=this,n=[];return qq.each(e,function(e,i){n.push(t._getValidationDescriptor(i))}),n},_handleCameraAccess:function(){if(this._options.camera.ios&&qq.ios()){var e="image/*;capture=camera",t=this._options.camera.button,n=t?this._getButtonId(t):this._defaultButtonId,i=this._options;n&&n!==this._defaultButtonId&&(i=this._extraButtonSpecs[n]),i.multiple=!1,null===i.validation.acceptFiles?i.validation.acceptFiles=e:i.validation.acceptFiles+=","+e,qq.each(this._buttons,function(e,t){if(t.getButtonId()===n)return t.setMultiple(i.multiple),t.setAcceptFiles(i.acceptFiles),!1})}},_handleCheckedCallback:function(e){var t=this,n=e.callback();return qq.isGenericPromise(n)?(this.log(e.name+" - waiting for "+e.name+" promise to be fulfilled for "+e.identifier),n.then(function(n){t.log(e.name+" promise success for "+e.identifier),e.onSuccess(n)},function(){e.onFailure?(t.log(e.name+" promise failure for "+e.identifier),e.onFailure()):t.log(e.name+" promise failure for "+e.identifier)})):(n!==!1?e.onSuccess(n):e.onFailure?(this.log(e.name+" - return value was 'false' for "+e.identifier+".  Invoking failure callback."),e.onFailure()):this.log(e.name+" - return value was 'false' for "+e.identifier+".  Will not proceed."),n)},_handleNewFile:function(e,t,n){var i=this,r=qq.getUniqueId(),o=-1,a=qq.getFilename(e),s=e.blob||e,u=this._customNewFileHandler?this._customNewFileHandler:qq.bind(i._handleNewFileGeneric,i);!qq.isInput(s)&&s.size>=0&&(o=s.size),u(s,a,r,o,n,t,this._options.request.uuidName,{uploadData:i._uploadData,paramsStore:i._paramsStore,addFileToHandler:function(e,t){i._handler.add(e,t),i._netUploadedOrQueued++,i._trackButton(e)}})},_handleNewFileGeneric:function(e,t,n,i,r,o){var a=this._uploadData.addFile({uuid:n,name:t,size:i,batchId:o});this._handler.add(a,e),this._trackButton(a),this._netUploadedOrQueued++,r.push({id:a,file:e})},_handlePasteSuccess:function(e,t){var n=e.type.split("/")[1],i=t;null==i&&(i=this._options.paste.defaultName),i+="."+n,this.addFiles({name:i,blob:e})},_initExtraButton:function(e){var t=this._createUploadButton({accept:e.validation.acceptFiles,allowedExtensions:e.validation.allowedExtensions,element:e.element,folders:e.folders,multiple:e.multiple,title:e.fileInputTitle});this._extraButtonSpecs[t.getButtonId()]=e},_initFormSupportAndParams:function(){this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm?(this._paramsStore=this._createStore(this._options.request.params,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&(this._options.request.endpoint=this._formSupport.newEndpoint)):this._paramsStore=this._createStore(this._options.request.params)},_isDeletePossible:function(){return!(!qq.DeleteFileAjaxRequester||!this._options.deleteFile.enabled)&&(!this._options.cors.expected||(!!qq.supportedFeatures.deleteFileCorsXhr||!(!qq.supportedFeatures.deleteFileCorsXdr||!this._options.cors.allowXdr)))},_isAllowedExtension:function(e,t){var n=!1;return!e.length||(qq.each(e,function(e,i){if(qq.isString(i)){var r=new RegExp("\\."+i+"$","i");if(null!=t.match(r))return n=!0,!1}}),n)},_itemError:function(e,t,n){function i(e,t){a=a.replace(e,t)}var r,o,a=this._options.messages[e],s=[],u=[].concat(t),l=u[0],c=this._getButtonId(n),d=this._getValidationBase(c);return qq.each(d.allowedExtensions,function(e,t){qq.isString(t)&&s.push(t)}),r=s.join(", ").toLowerCase(),i("{file}",this._options.formatFileName(l)),i("{extensions}",r),i("{sizeLimit}",this._formatSize(d.sizeLimit)),i("{minSizeLimit}",this._formatSize(d.minSizeLimit)),o=a.match(/(\{\w+\})/g),null!==o&&qq.each(o,function(e,t){i(t,u[e])}),this._options.callbacks.onError(null,l,a,void 0),a},_manualRetry:function(e,t){if(this._onBeforeManualRetry(e))return this._netUploadedOrQueued++,this._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),t?t(e):this._handler.retry(e),!0},_maybeAllComplete:function(e,t){var n=this,i=this._getNotFinished();t===qq.status.UPLOAD_SUCCESSFUL?this._succeededSinceLastAllComplete.push(e):t===qq.status.UPLOAD_FAILED&&this._failedSinceLastAllComplete.push(e),0===i&&(this._succeededSinceLastAllComplete.length||this._failedSinceLastAllComplete.length)&&setTimeout(function(){n._onAllComplete(n._succeededSinceLastAllComplete,n._failedSinceLastAllComplete)},0)},_maybeHandleIos8SafariWorkaround:function(){var e=this;if(this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari())throw setTimeout(function(){window.alert(e._options.messages.unsupportedBrowserIos8Safari)},0),new qq.Error(this._options.messages.unsupportedBrowserIos8Safari)},_maybeParseAndSendUploadError:function(e,t,n,i){if(!n.success)if(i&&200!==i.status&&!n.error)this._options.callbacks.onError(e,t,"XHR returned response code "+i.status,i);else{var r=n.error?n.error:this._options.text.defaultResponseError;this._options.callbacks.onError(e,t,r,i)}},_maybeProcessNextItemAfterOnValidateCallback:function(e,t,n,i,r){var o=this;if(t.length>n)if(e||!this._options.validation.stopOnFirstInvalidFile)setTimeout(function(){var e=o._getValidationDescriptor(t[n]),a=o._getButtonId(t[n].file),s=o._getButton(a);o._handleCheckedCallback({name:"onValidate",callback:qq.bind(o._options.callbacks.onValidate,o,e,s),onSuccess:qq.bind(o._onValidateCallbackSuccess,o,t,n,i,r),onFailure:qq.bind(o._onValidateCallbackFailure,o,t,n,i,r),identifier:"Item '"+e.name+"', size: "+e.size})},0);else if(!e)for(;n<t.length;n++)o._fileOrBlobRejected(t[n].id)},_onAllComplete:function(e,t){this._totalProgress&&this._totalProgress.onAllComplete(e,t,this._preventRetries),this._options.callbacks.onAllComplete(qq.extend([],e),qq.extend([],t)),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[]},_onAutoRetry:function(e,t,n,i,r){var o=this;if(o._preventRetries[e]=n[o._options.retry.preventRetryResponseProperty],o._shouldAutoRetry(e,t,n)){var a=1e3*o._options.retry.autoAttemptDelay;return o._maybeParseAndSendUploadError.apply(o,arguments),o._options.callbacks.onAutoRetry(e,t,o._autoRetries[e]),o._onBeforeAutoRetry(e,t),o._uploadData.setStatus(e,qq.status.UPLOAD_RETRYING),o._retryTimeouts[e]=setTimeout(function(){o.log("Starting retry for "+t+"..."),r?r(e):o._handler.retry(e)},a),!0}},_onBeforeAutoRetry:function(e,t){this.log("Waiting "+this._options.retry.autoAttemptDelay+" seconds before retrying "+t+"...")},_onBeforeManualRetry:function(e){var t,n=this._currentItemLimit;return this._preventRetries[e]?(this.log("Retries are forbidden for id "+e,"warn"),!1):this._handler.isValid(e)?(t=this.getName(e),this._options.callbacks.onManualRetry(e,t)!==!1&&(n>0&&this._netUploadedOrQueued+1>n?(this._itemError("retryFailTooManyItems"),!1):(this.log("Retrying upload for '"+t+"' (id: "+e+")..."),!0))):(this.log("'"+e+"' is not a valid file ID","error"),!1)},_onCancel:function(e,t){this._netUploadedOrQueued--,clearTimeout(this._retryTimeouts[e]);var n=qq.indexOf(this._storedIds,e);!this._options.autoUpload&&n>=0&&this._storedIds.splice(n,1),this._uploadData.setStatus(e,qq.status.CANCELED)},_onComplete:function(e,t,n,i){return n.success?(n.thumbnailUrl&&(this._thumbnailUrls[e]=n.thumbnailUrl),this._netUploaded++,this._uploadData.setStatus(e,qq.status.UPLOAD_SUCCESSFUL)):(this._netUploadedOrQueued--,this._uploadData.setStatus(e,qq.status.UPLOAD_FAILED),n[this._options.retry.preventRetryResponseProperty]===!0&&(this._preventRetries[e]=!0)),this._maybeParseAndSendUploadError(e,t,n,i),!!n.success},_onDelete:function(e){this._uploadData.setStatus(e,qq.status.DELETING)},_onDeleteComplete:function(e,t,n){var i=this.getName(e);n?(this._uploadData.setStatus(e,qq.status.DELETE_FAILED),this.log("Delete request for '"+i+"' has failed.","error"),void 0===t.withCredentials?this._options.callbacks.onError(e,i,"Delete request failed",t):this._options.callbacks.onError(e,i,"Delete request failed with response code "+t.status,t)):(this._netUploadedOrQueued--,this._netUploaded--,this._handler.expunge(e),this._uploadData.setStatus(e,qq.status.DELETED),this.log("Delete request for '"+i+"' has succeeded."))},_onInputChange:function(e){var t;if(qq.supportedFeatures.ajaxUploading){for(t=0;t<e.files.length;t++)this._annotateWithButtonId(e.files[t],e);this.addFiles(e.files)}else e.value.length>0&&this.addFiles(e);qq.each(this._buttons,function(e,t){t.reset()})},_onProgress:function(e,t,n,i){this._totalProgress&&this._totalProgress.onIndividualProgress(e,n,i)},_onSubmit:function(e,t){},_onSubmitCallbackSuccess:function(e,t){this._onSubmit.apply(this,arguments),this._uploadData.setStatus(e,qq.status.SUBMITTED),this._onSubmitted.apply(this,arguments),this._options.autoUpload?(this._options.callbacks.onSubmitted.apply(this,arguments),this._uploadFile(e)):(this._storeForLater(e),this._options.callbacks.onSubmitted.apply(this,arguments))},_onSubmitDelete:function(e,t,n){var i,r=this.getUuid(e);return t&&(i=qq.bind(t,this,e,r,n)),this._isDeletePossible()?(this._handleCheckedCallback({name:"onSubmitDelete",callback:qq.bind(this._options.callbacks.onSubmitDelete,this,e),onSuccess:i||qq.bind(this._deleteHandler.sendDelete,this,e,r,n),identifier:e}),!0):(this.log("Delete request ignored for ID "+e+", delete feature is disabled or request not possible due to CORS on a user agent that does not support pre-flighting.","warn"),!1)},_onSubmitted:function(e){},_onTotalProgress:function(e,t){this._options.callbacks.onTotalProgress(e,t)},_onUploadPrep:function(e){},_onUpload:function(e,t){this._uploadData.setStatus(e,qq.status.UPLOADING)},_onUploadChunk:function(e,t){},_onUploadStatusChange:function(e,t,n){n===qq.status.PAUSED&&clearTimeout(this._retryTimeouts[e])},_onValidateBatchCallbackFailure:function(e){var t=this;qq.each(e,function(e,n){t._fileOrBlobRejected(n.id)})},_onValidateBatchCallbackSuccess:function(e,t,n,i,r){var o,a=this._currentItemLimit,s=this._netUploadedOrQueued;0===a||s<=a?t.length>0?this._handleCheckedCallback({name:"onValidate",callback:qq.bind(this._options.callbacks.onValidate,this,e[0],r),onSuccess:qq.bind(this._onValidateCallbackSuccess,this,t,0,n,i),onFailure:qq.bind(this._onValidateCallbackFailure,this,t,0,n,i),identifier:"Item '"+t[0].file.name+"', size: "+t[0].file.size}):this._itemError("noFilesError"):(this._onValidateBatchCallbackFailure(t),o=this._options.messages.tooManyItemsError.replace(/\{netItems\}/g,s).replace(/\{itemLimit\}/g,a),this._batchError(o))},_onValidateCallbackFailure:function(e,t,n,i){var r=t+1;this._fileOrBlobRejected(e[t].id,e[t].file.name),this._maybeProcessNextItemAfterOnValidateCallback(!1,e,r,n,i)},_onValidateCallbackSuccess:function(e,t,n,i){var r=this,o=t+1,a=this._getValidationDescriptor(e[t]);this._validateFileOrBlobData(e[t],a).then(function(){r._upload(e[t].id,n,i),r._maybeProcessNextItemAfterOnValidateCallback(!0,e,o,n,i)},function(){r._maybeProcessNextItemAfterOnValidateCallback(!1,e,o,n,i)})},_prepareItemsForUpload:function(e,t,n){if(0===e.length)return void this._itemError("noFilesError");var i=this._getValidationDescriptors(e),r=this._getButtonId(e[0].file),o=this._getButton(r);this._handleCheckedCallback({name:"onValidateBatch",callback:qq.bind(this._options.callbacks.onValidateBatch,this,i,o),onSuccess:qq.bind(this._onValidateBatchCallbackSuccess,this,i,e,t,n,o),onFailure:qq.bind(this._onValidateBatchCallbackFailure,this,e),identifier:"batch validation"})},_preventLeaveInProgress:function(){var e=this;this._disposeSupport.attach(window,"beforeunload",function(t){if(e.getInProgress())return t=t||window.event,t.returnValue=e._options.messages.onLeave,e._options.messages.onLeave})},_refreshSessionData:function(){var e=this,t=this._options.session;qq.Session&&null!=this._options.session.endpoint&&(this._session||(qq.extend(t,{cors:this._options.cors}),t.log=qq.bind(this.log,this),t.addFileRecord=qq.bind(this._addCannedFile,this),this._session=new qq.Session(t)),setTimeout(function(){e._session.refresh().then(function(t,n){e._sessionRequestComplete(),e._options.callbacks.onSessionRequestComplete(t,!0,n)},function(t,n){e._options.callbacks.onSessionRequestComplete(t,!1,n)})},0))},_sessionRequestComplete:function(){},_setSize:function(e,t){this._uploadData.updateSize(e,t),this._totalProgress&&this._totalProgress.onNewSize(e)},_shouldAutoRetry:function(e,t,n){var i=this._uploadData.retrieve({id:e});return!!(!this._preventRetries[e]&&this._options.retry.enableAuto&&i.status!==qq.status.PAUSED&&(void 0===this._autoRetries[e]&&(this._autoRetries[e]=0),this._autoRetries[e]<this._options.retry.maxAutoAttempts))&&(this._autoRetries[e]+=1,!0)},_storeForLater:function(e){this._storedIds.push(e)},_trackButton:function(e){var t;t=qq.supportedFeatures.ajaxUploading?this._handler.getFile(e).qqButtonId:this._getButtonId(this._handler.getInput(e)),t&&(this._buttonIdsForFileIds[e]=t)},_updateFormSupportAndParams:function(e){this._options.form.element=e,this._formSupport=qq.FormSupport&&new qq.FormSupport(this._options.form,qq.bind(this.uploadStoredFiles,this),qq.bind(this.log,this)),this._formSupport&&this._formSupport.attachedToForm&&(this._paramsStore.addReadOnly(null,this._formSupport.getFormInputsAsObject),this._options.autoUpload=this._formSupport.newAutoUpload,this._formSupport.newEndpoint&&this.setEndpoint(this._formSupport.newEndpoint))},_upload:function(e,t,n){var i=this.getName(e);t&&this.setParams(t,e),n&&this.setEndpoint(n,e),this._handleCheckedCallback({name:"onSubmit",callback:qq.bind(this._options.callbacks.onSubmit,this,e,i),onSuccess:qq.bind(this._onSubmitCallbackSuccess,this,e,i),onFailure:qq.bind(this._fileOrBlobRejected,this,e,i),identifier:e})},_uploadFile:function(e){this._handler.upload(e)||this._uploadData.setStatus(e,qq.status.QUEUED)},_uploadStoredFiles:function(){for(var e,t,n=this;this._storedIds.length;)e=this._storedIds.shift(),this._uploadFile(e);t=this.getUploads({status:qq.status.SUBMITTING}).length,t&&(qq.log("Still waiting for "+t+" files to clear submit queue. Will re-parse stored IDs array shortly."),setTimeout(function(){n._uploadStoredFiles()},1e3))},_validateFileOrBlobData:function(e,t){var n=this,i=function(){return e.file instanceof qq.BlobProxy?e.file.referenceBlob:e.file}(),r=t.name,o=t.size,a=this._getButtonId(e.file),s=this._getValidationBase(a),u=new qq.Promise;return u.then(function(){},function(){n._fileOrBlobRejected(e.id,r)}),qq.isFileOrInput(i)&&!this._isAllowedExtension(s.allowedExtensions,r)?(this._itemError("typeError",r,i),u.failure()):0===o?(this._itemError("emptyError",r,i),u.failure()):o>0&&s.sizeLimit&&o>s.sizeLimit?(this._itemError("sizeError",r,i),u.failure()):o>0&&o<s.minSizeLimit?(this._itemError("minSizeError",r,i),u.failure()):(qq.ImageValidation&&qq.supportedFeatures.imagePreviews&&qq.isFile(i)?new qq.ImageValidation(i,qq.bind(n.log,n)).validate(s.image).then(u.success,function(e){n._itemError(e+"ImageError",r,i),u.failure()}):u.success(),u)},_wrapCallbacks:function(){var e,t,n;e=this,t=function(t,n,i){var r;try{return n.apply(e,i)}catch(n){r=n.message||n.toString(),e.log("Caught exception in '"+t+"' callback - "+r,"error")}};for(n in this._options.callbacks)!function(){var i,r;i=n,r=e._options.callbacks[i],e._options.callbacks[i]=function(){return t(i,r,arguments)}}()}}}(),function(){"use strict";qq.FineUploaderBasic=function(e){var t=this;this._options={debug:!1,button:null,multiple:!0,maxConnections:3,disableCancelForFormUploads:!1,autoUpload:!0,request:{customHeaders:{},endpoint:"/server/upload",filenameParam:"qqfilename",forceMultipart:!0,inputName:"qqfile",method:"POST",params:{},paramsInBody:!0,totalFileSizeName:"qqtotalfilesize",uuidName:"qquuid"},validation:{allowedExtensions:[],sizeLimit:0,minSizeLimit:0,itemLimit:0,stopOnFirstInvalidFile:!0,acceptFiles:null,image:{maxHeight:0,maxWidth:0,minHeight:0,minWidth:0}},callbacks:{onSubmit:function(e,t){},onSubmitted:function(e,t){},onComplete:function(e,t,n,i){},onAllComplete:function(e,t){},onCancel:function(e,t){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,i){},onResume:function(e,t,n){},onProgress:function(e,t,n,i){},onTotalProgress:function(e,t){},onError:function(e,t,n,i){},onAutoRetry:function(e,t,n){},onManualRetry:function(e,t){},onValidateBatch:function(e){},onValidate:function(e){},onSubmitDelete:function(e){},onDelete:function(e){},onDeleteComplete:function(e,t,n){},onPasteReceived:function(e){},onStatusChange:function(e,t,n){},onSessionRequestComplete:function(e,t,n){}},messages:{typeError:"{file} has an invalid extension. Valid extension(s): {extensions}.",sizeError:"{file} is too large, maximum file size is {sizeLimit}.",minSizeError:"{file} is too small, minimum file size is {minSizeLimit}.",emptyError:"{file} is empty, please select files again without it.",noFilesError:"No files to upload.",tooManyItemsError:"Too many items ({netItems}) would be uploaded.  Item limit is {itemLimit}.",maxHeightImageError:"Image is too tall.",maxWidthImageError:"Image is too wide.",
minHeightImageError:"Image is not tall enough.",minWidthImageError:"Image is not wide enough.",retryFailTooManyItems:"Retry failed - you have reached your file limit.",onLeave:"The files are being uploaded, if you leave now the upload will be canceled.",unsupportedBrowserIos8Safari:"Unrecoverable error - this browser does not permit file uploading of any kind due to serious bugs in iOS8 Safari.  Please use iOS8 Chrome until Apple fixes these issues."},retry:{enableAuto:!1,maxAutoAttempts:3,autoAttemptDelay:5,preventRetryResponseProperty:"preventRetry"},classes:{buttonHover:"qq-upload-button-hover",buttonFocus:"qq-upload-button-focus"},chunking:{enabled:!1,concurrent:{enabled:!1},mandatory:!1,paramNames:{partIndex:"qqpartindex",partByteOffset:"qqpartbyteoffset",chunkSize:"qqchunksize",totalFileSize:"qqtotalfilesize",totalParts:"qqtotalparts"},partSize:2e6,success:{endpoint:null}},resume:{enabled:!1,recordsExpireIn:7,paramNames:{resuming:"qqresume"}},formatFileName:function(e){return e},text:{defaultResponseError:"Upload failure reason unknown",fileInputTitle:"file input",sizeSymbols:["kB","MB","GB","TB","PB","EB"]},deleteFile:{enabled:!1,method:"DELETE",endpoint:"/server/upload",customHeaders:{},params:{}},cors:{expected:!1,sendCredentials:!1,allowXdr:!1},blobs:{defaultName:"misc_data"},paste:{targetElement:null,defaultName:"pasted_image"},camera:{ios:!1,button:null},extraButtons:[],session:{endpoint:null,params:{},customHeaders:{},refreshOnReset:!0},form:{element:"qq-form",autoUpload:!1,interceptSubmit:!0},scaling:{customResizer:null,sendOriginal:!0,orient:!0,defaultType:null,defaultQuality:80,failureText:"Failed to scale",includeExif:!1,sizes:[]},workarounds:{iosEmptyVideos:!0,ios8SafariUploads:!0,ios8BrowserCrash:!1}},qq.extend(this._options,e,!0),this._buttons=[],this._extraButtonSpecs={},this._buttonIdsForFileIds=[],this._wrapCallbacks(),this._disposeSupport=new qq.DisposeSupport,this._storedIds=[],this._autoRetries=[],this._retryTimeouts=[],this._preventRetries=[],this._thumbnailUrls=[],this._netUploadedOrQueued=0,this._netUploaded=0,this._uploadData=this._createUploadDataTracker(),this._initFormSupportAndParams(),this._customHeadersStore=this._createStore(this._options.request.customHeaders),this._deleteFileCustomHeadersStore=this._createStore(this._options.deleteFile.customHeaders),this._deleteFileParamsStore=this._createStore(this._options.deleteFile.params),this._endpointStore=this._createStore(this._options.request.endpoint),this._deleteFileEndpointStore=this._createStore(this._options.deleteFile.endpoint),this._handler=this._createUploadHandler(),this._deleteHandler=qq.DeleteFileAjaxRequester&&this._createDeleteHandler(),this._options.button&&(this._defaultButtonId=this._createUploadButton({element:this._options.button,title:this._options.text.fileInputTitle}).getButtonId()),this._generateExtraButtonSpecs(),this._handleCameraAccess(),this._options.paste.targetElement&&(qq.PasteSupport?this._pasteHandler=this._createPasteHandler():this.log("Paste support module not found","error")),this._preventLeaveInProgress(),this._imageGenerator=qq.ImageGenerator&&new qq.ImageGenerator(qq.bind(this.log,this)),this._refreshSessionData(),this._succeededSinceLastAllComplete=[],this._failedSinceLastAllComplete=[],this._scaler=qq.Scaler&&new qq.Scaler(this._options.scaling,qq.bind(this.log,this))||{},this._scaler.enabled&&(this._customNewFileHandler=qq.bind(this._scaler.handleNewFile,this._scaler)),qq.TotalProgress&&qq.supportedFeatures.progressBar&&(this._totalProgress=new qq.TotalProgress(qq.bind(this._onTotalProgress,this),function(e){var n=t._uploadData.retrieve({id:e});return n&&n.size||0})),this._currentItemLimit=this._options.validation.itemLimit},qq.FineUploaderBasic.prototype=qq.basePublicApi,qq.extend(qq.FineUploaderBasic.prototype,qq.basePrivateApi)}(),qq.AjaxRequester=function(e){"use strict";function t(){return qq.indexOf(["GET","POST","HEAD"],S.method)>=0}function n(e){var t=!1;return qq.each(t,function(e,n){if(qq.indexOf(["Accept","Accept-Language","Content-Language","Content-Type"],n)<0)return t=!0,!1}),t}function i(e){return S.cors.expected&&void 0===e.withCredentials}function r(){var e;return(window.XMLHttpRequest||window.ActiveXObject)&&(e=qq.createXhrInstance(),void 0===e.withCredentials&&(e=new XDomainRequest,e.onload=function(){},e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){})),e}function o(e,t){var n=b[e].xhr;return n||(n=t?t:S.cors.expected?r():qq.createXhrInstance(),b[e].xhr=n),n}function a(e){var t,n=qq.indexOf(y,e),i=S.maxConnections;delete b[e],y.splice(n,1),y.length>=i&&n<i&&(t=y[i-1],l(t))}function s(e,t){var n=o(e),r=S.method,s=t===!0;a(e),s?v(r+" request for "+e+" has failed","error"):i(n)||m(n.status)||(s=!0,v(r+" request for "+e+" has failed - response code "+n.status,"error")),S.onComplete(e,n,s)}function u(e){var t,n=b[e].additionalParams,i=S.mandatedParams;return S.paramsStore.get&&(t=S.paramsStore.get(e)),n&&qq.each(n,function(e,n){t=t||{},t[e]=n}),i&&qq.each(i,function(e,n){t=t||{},t[e]=n}),t}function l(e,t){var n,r=o(e,t),a=S.method,s=u(e),l=b[e].payload;return S.onSend(e),n=c(e,s,b[e].additionalQueryParams),i(r)?(r.onload=f(e),r.onerror=h(e)):r.onreadystatechange=d(e),p(e),r.open(a,n,!0),S.cors.expected&&S.cors.sendCredentials&&!i(r)&&(r.withCredentials=!0),q(e),v("Sending "+a+" request for "+e),l?r.send(l):_||!s?r.send():s&&S.contentType&&S.contentType.toLowerCase().indexOf("application/x-www-form-urlencoded")>=0?r.send(qq.obj2url(s,"")):s&&S.contentType&&S.contentType.toLowerCase().indexOf("application/json")>=0?r.send(JSON.stringify(s)):r.send(s),r}function c(e,t,n){var i=S.endpointStore.get(e),r=b[e].addToPath;return void 0!=r&&(i+="/"+r),_&&t&&(i=qq.obj2url(t,i)),n&&(i=qq.obj2url(n,i)),i}function d(e){return function(){4===o(e).readyState&&s(e)}}function p(e){var t=S.onProgress;t&&(o(e).upload.onprogress=function(n){n.lengthComputable&&t(e,n.loaded,n.total)})}function f(e){return function(){s(e)}}function h(e){return function(){s(e,!0)}}function q(e){var r=o(e),a=S.customHeaders,s=b[e].additionalHeaders||{},u=S.method,l={};i(r)||(S.acceptHeader&&r.setRequestHeader("Accept",S.acceptHeader),S.allowXRequestedWithAndCacheControl&&(S.cors.expected&&t()&&!n(a)||(r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.setRequestHeader("Cache-Control","no-cache"))),!S.contentType||"POST"!==u&&"PUT"!==u||r.setRequestHeader("Content-Type",S.contentType),qq.extend(l,qq.isFunction(a)?a(e):a),qq.extend(l,s),qq.each(l,function(e,t){r.setRequestHeader(e,t)}))}function m(e){return qq.indexOf(S.successfulResponseCodes[S.method],e)>=0}function g(e,t,n,i,r,o,a){b[e]={addToPath:n,additionalParams:i,additionalQueryParams:r,additionalHeaders:o,payload:a};var s=y.push(e);if(s<=S.maxConnections)return l(e,t)}var v,_,y=[],b={},S={acceptHeader:null,validMethods:["PATCH","POST","PUT"],method:"POST",contentType:"application/x-www-form-urlencoded",maxConnections:3,customHeaders:{},endpointStore:{},paramsStore:{},mandatedParams:{},allowXRequestedWithAndCacheControl:!0,successfulResponseCodes:{DELETE:[200,202,204],PATCH:[200,201,202,203,204],POST:[200,201,202,203,204],PUT:[200,201,202,203,204],GET:[200]},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onSend:function(e){},onComplete:function(e,t,n){},onProgress:null};if(qq.extend(S,e),v=S.log,qq.indexOf(S.validMethods,S.method)<0)throw new Error("'"+S.method+"' is not a supported method for this type of request!");_="GET"===S.method||"DELETE"===S.method,qq.extend(this,{initTransport:function(e){var t,n,i,r,o,a;return{withPath:function(e){return t=e,this},withParams:function(e){return n=e,this},withQueryParams:function(e){return a=e,this},withHeaders:function(e){return i=e,this},withPayload:function(e){return r=e,this},withCacheBuster:function(){return o=!0,this},send:function(s){return o&&qq.indexOf(["GET","DELETE"],S.method)>=0&&(n.qqtimestamp=(new Date).getTime()),g(e,s,t,n,a,i,r)}}},canceled:function(e){a(e)}})},qq.UploadHandler=function(e){"use strict";var t=e.proxy,n={},i=t.onCancel,r=t.getName;qq.extend(this,{add:function(e,t){n[e]=t,n[e].temp={}},cancel:function(e){var t=this,o=new qq.Promise,a=i(e,r(e),o);a.then(function(){t.isValid(e)&&(n[e].canceled=!0,t.expunge(e)),o.success()})},expunge:function(e){delete n[e]},getThirdPartyFileId:function(e){return n[e].key},isValid:function(e){return void 0!==n[e]},reset:function(){n={}},_getFileState:function(e){return n[e]},_setThirdPartyFileId:function(e,t){n[e].key=t},_wasCanceled:function(e){return!!n[e].canceled}})},qq.UploadHandlerController=function(e,t){"use strict";var n,i,r,o=this,a=!1,s=!1,u={paramsStore:{},maxConnections:3,chunking:{enabled:!1,multiple:{enabled:!1}},log:function(e,t){},onProgress:function(e,t,n,i){},onComplete:function(e,t,n,i){},onCancel:function(e,t){},onUploadPrep:function(e){},onUpload:function(e,t){},onUploadChunk:function(e,t,n){},onUploadChunkSuccess:function(e,t,n,i){},onAutoRetry:function(e,t,n,i){},onResume:function(e,t,n){},onUuidChanged:function(e,t){},getName:function(e){},setSize:function(e,t){},isQueued:function(e){},getIdsInProxyGroup:function(e){},getIdsInBatch:function(e){}},l={done:function(e,t,n,i){var o=r._getChunkData(e,t);r._getFileState(e).attemptingResume=!1,delete r._getFileState(e).temp.chunkProgress[t],r._getFileState(e).loaded+=o.size,u.onUploadChunkSuccess(e,r._getChunkDataForCallback(o),n,i)},finalize:function(e){var t=u.getSize(e),n=u.getName(e);i("All chunks have been uploaded for "+e+" - finalizing...."),r.finalizeChunks(e).then(function(o,a){i("Finalize successful for "+e);var s=p.normalizeResponse(o,!0);u.onProgress(e,n,t,t),r._maybeDeletePersistedChunkData(e),p.cleanup(e,s,a)},function(t,r){var o=p.normalizeResponse(t,!1);i("Problem finalizing chunks for file ID "+e+" - "+o.error,"error"),o.reset&&l.reset(e),u.onAutoRetry(e,n,o,r)||p.cleanup(e,o,r)})},handleFailure:function(e,t,n,o){var a=u.getName(t);i("Chunked upload request failed for "+t+", chunk "+e),r.clearCachedChunk(t,e);var d,f=p.normalizeResponse(n,!1);f.reset?l.reset(t):(d=qq.indexOf(r._getFileState(t).chunking.inProgress,e),d>=0&&(r._getFileState(t).chunking.inProgress.splice(d,1),r._getFileState(t).chunking.remaining.unshift(e))),r._getFileState(t).temp.ignoreFailure||(s&&(r._getFileState(t).temp.ignoreFailure=!0,i(qq.format("Going to attempt to abort these chunks: {}. These are currently in-progress: {}.",JSON.stringify(Object.keys(r._getXhrs(t))),JSON.stringify(r._getFileState(t).chunking.inProgress))),qq.each(r._getXhrs(t),function(e,n){i(qq.format("Attempting to abort file {}.{}. XHR readyState {}. ",t,e,n.readyState)),n.abort(),n._cancelled=!0}),r.moveInProgressToRemaining(t),c.free(t,!0)),u.onAutoRetry(t,a,f,o)||p.cleanup(t,f,o))},hasMoreParts:function(e){return!!r._getFileState(e).chunking.remaining.length},nextPart:function(e){var t=r._getFileState(e).chunking.remaining.shift();return t>=r._getTotalChunks(e)&&(t=null),t},reset:function(e){i("Server or callback has ordered chunking effort to be restarted on next attempt for item ID "+e,"error"),r._maybeDeletePersistedChunkData(e),r.reevaluateChunking(e),r._getFileState(e).loaded=0},sendNext:function(e){var t=u.getSize(e),n=u.getName(e),o=l.nextPart(e),a=r._getChunkData(e,o),d=r._getFileState(e).attemptingResume,f=r._getFileState(e).chunking.inProgress||[];null==r._getFileState(e).loaded&&(r._getFileState(e).loaded=0),d&&u.onResume(e,n,a)===!1&&(l.reset(e),o=l.nextPart(e),a=r._getChunkData(e,o),d=!1),null==o&&0===f.length?l.finalize(e):(i(qq.format("Sending chunked upload request for item {}.{}, bytes {}-{} of {}.",e,o,a.start+1,a.end,t)),u.onUploadChunk(e,n,r._getChunkDataForCallback(a)),f.push(o),r._getFileState(e).chunking.inProgress=f,s&&c.open(e,o),s&&c.available()&&r._getFileState(e).chunking.remaining.length&&l.sendNext(e),0===a.blob.size?(i(qq.format("Chunk {} for file {} will not be uploaded, zero sized chunk.",o,e),"error"),l.handleFailure(o,e,"File is no longer available",null)):r.uploadChunk(e,o,d).then(function(t,n){i("Chunked upload request succeeded for "+e+", chunk "+o),r.clearCachedChunk(e,o);var a=r._getFileState(e).chunking.inProgress||[],s=p.normalizeResponse(t,!0),u=qq.indexOf(a,o);i(qq.format("Chunk {} for file {} uploaded successfully.",o,e)),l.done(e,o,s,n),u>=0&&a.splice(u,1),r._maybePersistChunkedState(e),l.hasMoreParts(e)||0!==a.length?l.hasMoreParts(e)?l.sendNext(e):i(qq.format("File ID {} has no more chunks to send and these chunk indexes are still marked as in-progress: {}",e,JSON.stringify(a))):l.finalize(e)},function(t,n){l.handleFailure(o,e,t,n)}).done(function(){r.clearXhr(e,o)}))}},c={_open:[],_openChunks:{},_waiting:[],available:function(){var e=u.maxConnections,t=0,n=0;return qq.each(c._openChunks,function(e,i){t++,n+=i.length}),e-(c._open.length-t+n)},free:function(e,t){var n,o=!t,a=qq.indexOf(c._waiting,e),s=qq.indexOf(c._open,e);delete c._openChunks[e],p.getProxyOrBlob(e)instanceof qq.BlobProxy&&(i("Generated blob upload has ended for "+e+", disposing generated blob."),delete r._getFileState(e).file),a>=0?c._waiting.splice(a,1):o&&s>=0&&(c._open.splice(s,1),n=c._waiting.shift(),n>=0&&(c._open.push(n),p.start(n)))},getWaitingOrConnected:function(){var e=[];return qq.each(c._openChunks,function(t,n){n&&n.length&&e.push(parseInt(t))}),qq.each(c._open,function(t,n){c._openChunks[n]||e.push(parseInt(n))}),e=e.concat(c._waiting)},isUsingConnection:function(e){return qq.indexOf(c._open,e)>=0},open:function(e,t){return null==t&&c._waiting.push(e),!!c.available()&&(null==t?(c._waiting.pop(),c._open.push(e)):!function(){var n=c._openChunks[e]||[];n.push(t),c._openChunks[e]=n}(),!0)},reset:function(){c._waiting=[],c._open=[]}},d={send:function(e,t){r._getFileState(e).loaded=0,i("Sending simple upload request for "+e),r.uploadFile(e).then(function(n,r){i("Simple upload request succeeded for "+e);var o=p.normalizeResponse(n,!0),a=u.getSize(e);u.onProgress(e,t,a,a),p.maybeNewUuid(e,o),p.cleanup(e,o,r)},function(n,r){i("Simple upload request failed for "+e);var o=p.normalizeResponse(n,!1);u.onAutoRetry(e,t,o,r)||p.cleanup(e,o,r)})}},p={cancel:function(e){i("Cancelling "+e),u.paramsStore.remove(e),c.free(e)},cleanup:function(e,t,n){var i=u.getName(e);u.onComplete(e,i,t,n),r._getFileState(e)&&r._clearXhrs&&r._clearXhrs(e),c.free(e)},getProxyOrBlob:function(e){return r.getProxy&&r.getProxy(e)||r.getFile&&r.getFile(e)},initHandler:function(){var e=t?qq[t]:qq.traditional,n=qq.supportedFeatures.ajaxUploading?"Xhr":"Form";r=new e[n+"UploadHandler"](u,{getDataByUuid:u.getDataByUuid,getName:u.getName,getSize:u.getSize,getUuid:u.getUuid,log:i,onCancel:u.onCancel,onProgress:u.onProgress,onUuidChanged:u.onUuidChanged}),r._removeExpiredChunkingRecords&&r._removeExpiredChunkingRecords()},isDeferredEligibleForUpload:function(e){return u.isQueued(e)},maybeDefer:function(e,t){return t&&!r.getFile(e)&&t instanceof qq.BlobProxy?(u.onUploadPrep(e),i("Attempting to generate a blob on-demand for "+e),t.create().then(function(t){i("Generated an on-demand blob for "+e),r.updateBlob(e,t),u.setSize(e,t.size),r.reevaluateChunking(e),p.maybeSendDeferredFiles(e)},function(t){var r={};t&&(r.error=t),i(qq.format("Failed to generate blob for ID {}.  Error message: {}.",e,t),"error"),u.onComplete(e,u.getName(e),qq.extend(r,n),null),p.maybeSendDeferredFiles(e),c.free(e)}),!1):p.maybeSendDeferredFiles(e)},maybeSendDeferredFiles:function(e){var t=u.getIdsInProxyGroup(e),n=!1;return t&&t.length?(i("Maybe ready to upload proxy group file "+e),qq.each(t,function(t,i){if(p.isDeferredEligibleForUpload(i)&&r.getFile(i))n=i===e,p.now(i);else if(p.isDeferredEligibleForUpload(i))return!1})):(n=!0,p.now(e)),n},maybeNewUuid:function(e,t){void 0!==t.newUuid&&u.onUuidChanged(e,t.newUuid)},normalizeResponse:function(e,t){var n=e;return qq.isObject(e)||(n={},qq.isString(e)&&!t&&(n.error=e)),n.success=t,n},now:function(e){var t=u.getName(e);if(!o.isValid(e))throw new qq.Error(e+" is not a valid file ID to upload!");u.onUpload(e,t),a&&r._shouldChunkThisFile(e)?l.sendNext(e):d.send(e,t)},start:function(e){var t=p.getProxyOrBlob(e);return t?p.maybeDefer(e,t):(p.now(e),!0)}};qq.extend(this,{add:function(e,t){r.add.apply(this,arguments)},upload:function(e){return!!c.open(e)&&p.start(e)},retry:function(e){return s&&(r._getFileState(e).temp.ignoreFailure=!1),c.isUsingConnection(e)?p.start(e):o.upload(e)},cancel:function(e){var t=r.cancel(e);qq.isGenericPromise(t)?t.then(function(){p.cancel(e)}):t!==!1&&p.cancel(e)},cancelAll:function(){var e,t=c.getWaitingOrConnected();if(t.length)for(e=t.length-1;e>=0;e--)o.cancel(t[e]);c.reset()},getFile:function(e){return r.getProxy&&r.getProxy(e)?r.getProxy(e).referenceBlob:r.getFile&&r.getFile(e)},isProxied:function(e){return!(!r.getProxy||!r.getProxy(e))},getInput:function(e){if(r.getInput)return r.getInput(e)},reset:function(){i("Resetting upload handler"),o.cancelAll(),c.reset(),r.reset()},expunge:function(e){if(o.isValid(e))return r.expunge(e)},isValid:function(e){return r.isValid(e)},getResumableFilesData:function(){return r.getResumableFilesData?r.getResumableFilesData():[]},getThirdPartyFileId:function(e){if(o.isValid(e))return r.getThirdPartyFileId(e)},pause:function(e){return!!(o.isResumable(e)&&r.pause&&o.isValid(e)&&r.pause(e))&&(c.free(e),r.moveInProgressToRemaining(e),!0)},isResumable:function(e){return!!r.isResumable&&r.isResumable(e)}}),qq.extend(u,e),i=u.log,a=u.chunking.enabled&&qq.supportedFeatures.chunking,s=a&&u.chunking.concurrent.enabled,n=function(){var e={};return e[u.preventRetryParam]=!0,e}(),p.initHandler()},qq.WindowReceiveMessage=function(e){"use strict";var t={log:function(e,t){}},n={};qq.extend(t,e),qq.extend(this,{receiveMessage:function(e,t){var i=function(e){t(e.data)};window.postMessage?n[e]=qq(window).attach("message",i):log("iframe message passing not supported in this browser!","error")},stopReceivingMessages:function(e){if(window.postMessage){var t=n[e];t&&t()}}})},qq.FormUploadHandler=function(e){"use strict";function t(e){delete c[e],p&&(clearTimeout(d[e]),delete d[e],m.stopReceivingMessages(e));var t=document.getElementById(a._getIframeName(e));t&&(t.setAttribute("src","javascript:false;"),qq(t).remove())}function n(e){return e.split("_")[0]}function i(e){var t=qq.toElement("<iframe src='javascript:false;' name='"+e+"' />");return t.setAttribute("id",e),t.style.display="none",document.body.appendChild(t),t}function r(e,t){var i=e.id,r=n(i),o=h(r);l[o]=t,c[r]=qq(e).attach("load",function(){a.getInput(r)&&(q("Received iframe load event for CORS upload request (iframe name "+i+")"),d[i]=setTimeout(function(){var e="No valid message received from loaded iframe for iframe name "+i;q(e,"error"),t({error:e})},1e3))}),m.receiveMessage(i,function(e){q("Received the following window message: '"+e+"'");var t,r=(n(i),a._parseJsonResponse(e)),o=r.uuid;o&&l[o]?(q("Handling response for iframe name "+i),clearTimeout(d[i]),delete d[i],a._detachLoadEvent(i),t=l[o],delete l[o],m.stopReceivingMessages(i),t(r)):o||q("'"+e+"' does not contain a UUID - ignoring.")})}var o=e.options,a=this,s=e.proxy,u=qq.getUniqueId(),l={},c={},d={},p=o.isCors,f=o.inputName,h=s.getUuid,q=s.log,m=new qq.WindowReceiveMessage({log:q});qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(e){return{add:function(t,n){e.add(t,{input:n}),n.setAttribute("name",f),n.parentNode&&qq(n).remove()},expunge:function(n){t(n),e.expunge(n)},isValid:function(t){return e.isValid(t)&&void 0!==a._getFileState(t).input}}}),qq.extend(this,{getInput:function(e){return a._getFileState(e).input},_attachLoadEvent:function(e,t){var n;p?r(e,t):c[e.id]=qq(e).attach("load",function(){if(q("Received response for "+e.id),e.parentNode){try{if(e.contentDocument&&e.contentDocument.body&&"false"==e.contentDocument.body.innerHTML)return}catch(e){q("Error when attempting to access iframe during handling of upload response ("+e.message+")","error"),n={success:!1}}t(n)}})},_createIframe:function(e){var t=a._getIframeName(e);return i(t)},_detachLoadEvent:function(e){void 0!==c[e]&&(c[e](),delete c[e])},_getIframeName:function(e){return e+"_"+u},_initFormForUpload:function(e){var t=e.method,n=e.endpoint,i=e.params,r=e.paramsInBody,o=e.targetName,a=qq.toElement("<form method='"+t+"' enctype='multipart/form-data'></form>"),s=n;return r?qq.obj2Inputs(i,a):s=qq.obj2url(i,n),a.setAttribute("action",s),a.setAttribute("target",o),a.style.display="none",document.body.appendChild(a),a},_parseJsonResponse:function(e){var t={};try{t=qq.parseJson(e)}catch(e){q("Error when attempting to parse iframe upload response ("+e.message+")","error")}return t}})},qq.XhrUploadHandler=function(e){"use strict";function t(e){qq.each(n._getXhrs(e),function(t,i){var r=n._getAjaxRequester(e,t);i.onreadystatechange=null,i.upload.onprogress=null,i.abort(),r&&r.canceled&&r.canceled(e)})}var n=this,i=e.options.namespace,r=e.proxy,o=e.options.chunking,a=e.options.resume,s=o&&e.options.chunking.enabled&&qq.supportedFeatures.chunking,u=a&&e.options.resume.enabled&&s&&qq.supportedFeatures.resume,l=r.getName,c=r.getSize,d=r.getUuid,p=r.getEndpoint,f=r.getDataByUuid,h=r.onUuidChanged,q=r.onProgress,m=r.log;qq.extend(this,new qq.UploadHandler(e)),qq.override(this,function(e){return{add:function(t,i){if(qq.isFile(i)||qq.isBlob(i))e.add(t,{file:i});else{if(!(i instanceof qq.BlobProxy))throw new Error("Passed obj is not a File, Blob, or proxy");e.add(t,{proxy:i})}n._initTempState(t),u&&n._maybePrepareForResume(t)},expunge:function(i){t(i),n._maybeDeletePersistedChunkData(i),n._clearXhrs(i),e.expunge(i)}}}),qq.extend(this,{clearCachedChunk:function(e,t){delete n._getFileState(e).temp.cachedChunks[t]},clearXhr:function(e,t){var i=n._getFileState(e).temp;i.xhrs&&delete i.xhrs[t],i.ajaxRequesters&&delete i.ajaxRequesters[t]},finalizeChunks:function(e,t){var i=n._getTotalChunks(e)-1,r=n._getXhr(e,i);return t?(new qq.Promise).success(t(r),r):(new qq.Promise).success({},r)},getFile:function(e){return n.isValid(e)&&n._getFileState(e).file},getProxy:function(e){return n.isValid(e)&&n._getFileState(e).proxy},getResumableFilesData:function(){var e=[];return n._iterateResumeRecords(function(t,i){n.moveInProgressToRemaining(null,i.chunking.inProgress,i.chunking.remaining);var r={name:i.name,remaining:i.chunking.remaining,size:i.size,uuid:i.uuid};i.key&&(r.key=i.key),e.push(r)}),e},isResumable:function(e){return!!o&&n.isValid(e)&&!n._getFileState(e).notResumable},moveInProgressToRemaining:function(e,t,i){var r=t||n._getFileState(e).chunking.inProgress,o=i||n._getFileState(e).chunking.remaining;r&&(m(qq.format("Moving these chunks from in-progress {}, to remaining.",JSON.stringify(r))),r.reverse(),qq.each(r,function(e,t){o.unshift(t)}),r.length=0)},pause:function(e){if(n.isValid(e))return m(qq.format("Aborting XHR upload for {} '{}' due to pause instruction.",e,l(e))),n._getFileState(e).paused=!0,t(e),!0},reevaluateChunking:function(e){if(o&&n.isValid(e)){var t,i,r=n._getFileState(e);if(delete r.chunking,r.chunking={},t=n._getTotalChunks(e),t>1||o.mandatory){for(r.chunking.enabled=!0,r.chunking.parts=t,r.chunking.remaining=[],i=0;i<t;i++)r.chunking.remaining.push(i);n._initTempState(e)}else r.chunking.enabled=!1}},updateBlob:function(e,t){n.isValid(e)&&(n._getFileState(e).file=t)},_clearXhrs:function(e){var t=n._getFileState(e).temp;qq.each(t.ajaxRequesters,function(e){delete t.ajaxRequesters[e]}),qq.each(t.xhrs,function(e){delete t.xhrs[e]})},_createXhr:function(e,t){return n._registerXhr(e,t,qq.createXhrInstance())},_getAjaxRequester:function(e,t){var i=null==t?-1:t;return n._getFileState(e).temp.ajaxRequesters[i]},_getChunkData:function(e,t){var i=o.partSize,r=c(e),a=n.getFile(e),s=i*t,u=s+i>=r?r:s+i,l=n._getTotalChunks(e),d=this._getFileState(e).temp.cachedChunks,p=d[t]||qq.sliceBlob(a,s,u);return d[t]=p,{part:t,start:s,end:u,count:l,blob:p,size:u-s}},_getChunkDataForCallback:function(e){return{partIndex:e.part,startByte:e.start+1,endByte:e.end,totalParts:e.count}},_getLocalStorageId:function(e){var t="5.0",n=l(e),r=c(e),a=o.partSize,s=p(e);return qq.format("qq{}resume{}-{}-{}-{}-{}",i,t,n,r,a,s)},_getMimeType:function(e){return n.getFile(e).type},_getPersistableData:function(e){return n._getFileState(e).chunking},_getTotalChunks:function(e){if(o){var t=c(e),n=o.partSize;return Math.ceil(t/n)}},_getXhr:function(e,t){var i=null==t?-1:t;return n._getFileState(e).temp.xhrs[i]},_getXhrs:function(e){return n._getFileState(e).temp.xhrs},_iterateResumeRecords:function(e){u&&qq.each(localStorage,function(t,n){if(0===t.indexOf(qq.format("qq{}resume",i))){var r=JSON.parse(n);e(t,r)}})},_initTempState:function(e){n._getFileState(e).temp={ajaxRequesters:{},chunkProgress:{},xhrs:{},cachedChunks:{}}},_markNotResumable:function(e){n._getFileState(e).notResumable=!0},_maybeDeletePersistedChunkData:function(e){var t;return!!(u&&n.isResumable(e)&&(t=n._getLocalStorageId(e),t&&localStorage.getItem(t)))&&(localStorage.removeItem(t),!0)},_maybePrepareForResume:function(e){var t,i,r=n._getFileState(e);u&&void 0===r.key&&(t=n._getLocalStorageId(e),i=localStorage.getItem(t),i&&(i=JSON.parse(i),f(i.uuid)?n._markNotResumable(e):(m(qq.format("Identified file with ID {} and name of {} as resumable.",e,l(e))),h(e,i.uuid),r.key=i.key,r.chunking=i.chunking,r.loaded=i.loaded,r.attemptingResume=!0,n.moveInProgressToRemaining(e))))},_maybePersistChunkedState:function(e){var t,i,r=n._getFileState(e);if(u&&n.isResumable(e)){t=n._getLocalStorageId(e),i={name:l(e),size:c(e),uuid:d(e),key:r.key,chunking:r.chunking,loaded:r.loaded,lastUpdated:Date.now()};try{localStorage.setItem(t,JSON.stringify(i))}catch(t){m(qq.format("Unable to save resume data for '{}' due to error: '{}'.",e,t.toString()),"warn")}}},_registerProgressHandler:function(e,t,i){var r=n._getXhr(e,t),o=l(e),a={simple:function(t,n){var i=c(e);t===n?q(e,o,i,i):q(e,o,t>=i?i-1:t,i)},chunked:function(r,a){var s=n._getFileState(e).temp.chunkProgress,u=n._getFileState(e).loaded,l=r,d=a,p=c(e),f=l-(d-i),h=u;s[t]=f,qq.each(s,function(e,t){h+=t}),q(e,o,h,p)}};r.upload.onprogress=function(e){if(e.lengthComputable){var t=null==i?"simple":"chunked";a[t](e.loaded,e.total)}}},_registerXhr:function(e,t,i,r){var o=null==t?-1:t,a=n._getFileState(e).temp;return a.xhrs=a.xhrs||{},a.ajaxRequesters=a.ajaxRequesters||{},a.xhrs[o]=i,r&&(a.ajaxRequesters[o]=r),i},_removeExpiredChunkingRecords:function(){var e=a.recordsExpireIn;n._iterateResumeRecords(function(t,n){var i=new Date(n.lastUpdated);i.setDate(i.getDate()+e),i.getTime()<=Date.now()&&(m("Removing expired resume record with key "+t),localStorage.removeItem(t))})},_shouldChunkThisFile:function(e){var t=n._getFileState(e);return t.chunking||n.reevaluateChunking(e),t.chunking.enabled}})},qq.DeleteFileAjaxRequester=function(e){"use strict";function t(){return"POST"===i.method.toUpperCase()?{_method:"DELETE"}:{}}var n,i={method:"DELETE",uuidParamName:"qquuid",endpointStore:{},maxConnections:3,customHeaders:function(e){return{}},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){},onDelete:function(e){},onDeleteComplete:function(e,t,n){}};qq.extend(i,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["POST","DELETE"],method:i.method,endpointStore:i.endpointStore,paramsStore:i.paramsStore,mandatedParams:t(),maxConnections:i.maxConnections,customHeaders:function(e){return i.customHeaders.get(e)},log:i.log,onSend:i.onDelete,onComplete:i.onDeleteComplete,cors:i.cors})),qq.extend(this,{sendDelete:function(e,t,r){var o=r||{};i.log("Submitting delete file request for "+e),"DELETE"===i.method?n.initTransport(e).withPath(t).withParams(o).send():(o[i.uuidParamName]=t,n.initTransport(e).withParams(o).send())}})},function(){function e(e){var t,n=e.naturalWidth,i=e.naturalHeight,r=document.createElement("canvas");return n*i>1048576&&(r.width=r.height=1,t=r.getContext("2d"),t.drawImage(e,-n+1,0),0===t.getImageData(0,0,1,1).data[3])}function t(e,t,n){var i,r,o,a,s=document.createElement("canvas"),u=0,l=n,c=n;for(s.width=1,s.height=n,i=s.getContext("2d"),i.drawImage(e,0,0),r=i.getImageData(0,0,1,n).data;c>u;)o=r[4*(c-1)+3],0===o?l=c:u=c,c=l+u>>1;return a=c/n,0===a?1:a}function n(e,t,n,i){var o=document.createElement("canvas"),a=n.mime||"image/jpeg",s=new qq.Promise;return r(e,t,o,n,i).then(function(){s.success(o.toDataURL(a,n.quality||.8))}),s}function i(e){var t=5241e3;if(!qq.ios())throw new qq.Error("Downsampled dimensions can only be reliably calculated for iOS!");if(e.origHeight*e.origWidth>t)return{newHeight:Math.round(Math.sqrt(t*(e.origHeight/e.origWidth))),newWidth:Math.round(Math.sqrt(t*(e.origWidth/e.origHeight)))}}function r(n,r,s,u,l){var c,d=n.naturalWidth,p=n.naturalHeight,f=u.width,h=u.height,q=s.getContext("2d"),m=new qq.Promise;return q.save(),u.resize?o({blob:r,canvas:s,image:n,imageHeight:p,imageWidth:d,orientation:u.orientation,resize:u.resize,targetHeight:h,targetWidth:f}):(qq.supportedFeatures.unlimitedScaledImageSize||(c=i({origWidth:f,origHeight:h}),c&&(qq.log(qq.format("Had to reduce dimensions due to device limitations from {}w / {}h to {}w / {}h",f,h,c.newWidth,c.newHeight),"warn"),f=c.newWidth,h=c.newHeight)),a(s,f,h,u.orientation),qq.ios()?!function(){e(n)&&(d/=2,p/=2);var i,r,o,a=1024,s=document.createElement("canvas"),u=l?t(n,d,p):1,c=Math.ceil(a*f/d),m=Math.ceil(a*h/p/u),g=0,v=0;for(s.width=s.height=a,i=s.getContext("2d");g<p;){for(r=0,o=0;r<d;)i.clearRect(0,0,a,a),i.drawImage(n,-r,-g),q.drawImage(s,0,0,a,a,o,v,c,m),r+=a,o+=c;g+=a,v+=m}q.restore(),s=i=null}():q.drawImage(n,0,0,f,h),s.qqImageRendered&&s.qqImageRendered(),m.success(),m)}function o(e){var t=e.blob,n=e.image,i=e.imageHeight,r=e.imageWidth,o=e.orientation,s=new qq.Promise,u=e.resize,l=document.createElement("canvas"),c=l.getContext("2d"),d=e.canvas,p=e.targetHeight,f=e.targetWidth;return a(l,r,i,o),d.height=p,d.width=f,c.drawImage(n,0,0),u({blob:t,height:p,image:n,sourceCanvas:l,targetCanvas:d,width:f}).then(function(){d.qqImageRendered&&d.qqImageRendered(),s.success()},s.failure),s}function a(e,t,n,i){switch(i){case 5:case 6:case 7:case 8:e.width=n,e.height=t;break;default:e.width=t,e.height=n}var r=e.getContext("2d");switch(i){case 2:r.translate(t,0),r.scale(-1,1);break;case 3:r.translate(t,n),r.rotate(Math.PI);break;case 4:r.translate(0,n),r.scale(1,-1);break;case 5:r.rotate(.5*Math.PI),r.scale(1,-1);break;case 6:r.rotate(.5*Math.PI),r.translate(0,-n);break;case 7:r.rotate(.5*Math.PI),r.translate(t,-n),r.scale(-1,1);break;case 8:r.rotate(-.5*Math.PI),r.translate(-t,0)}}function s(e,t){var n=this;window.Blob&&e instanceof Blob&&!function(){var t=new Image,i=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;if(!i)throw Error("No createObjectURL function found to create blob url");t.src=i.createObjectURL(e),n.blob=e,e=t}(),e.naturalWidth||e.naturalHeight||(e.onload=function(){var e=n.imageLoadListeners;e&&(n.imageLoadListeners=null,setTimeout(function(){for(var t=0,n=e.length;t<n;t++)e[t]()},0))},e.onerror=t,this.imageLoadListeners=[]),this.srcImage=e}s.prototype.render=function(e,t){t=t||{};var i,o=this,a=this.srcImage.naturalWidth,s=this.srcImage.naturalHeight,u=t.width,l=t.height,c=t.maxWidth,d=t.maxHeight,p=!this.blob||"image/jpeg"===this.blob.type,f=e.tagName.toLowerCase();return this.imageLoadListeners?void this.imageLoadListeners.push(function(){o.render(e,t)}):(u&&!l?l=s*u/a<<0:l&&!u?u=a*l/s<<0:(u=a,l=s),c&&u>c&&(u=c,l=s*u/a<<0),d&&l>d&&(l=d,u=a*l/s<<0),i={width:u,height:l},qq.each(t,function(e,t){i[e]=t}),"img"===f?!function(){var t=e.src;n(o.srcImage,o.blob,i,p).then(function(n){e.src=n,t===e.src&&e.onload()})}():"canvas"===f&&r(this.srcImage,this.blob,e,i,p),void("function"==typeof this.onrender&&this.onrender(e)))},qq.MegaPixImage=s}(),qq.ImageGenerator=function(e){"use strict";function t(e){return"img"===e.tagName.toLowerCase()}function n(e){return"canvas"===e.tagName.toLowerCase()}function i(){return void 0!==(new Image).crossOrigin}function r(){var e=document.createElement("canvas");return e.getContext&&e.getContext("2d")}function o(e){var t=e.split("/"),n=t[t.length-1].split("?")[0],i=qq.getExtension(n);
switch(i=i&&i.toLowerCase()){case"jpeg":case"jpg":return"image/jpeg";case"png":return"image/png";case"bmp":return"image/bmp";case"gif":return"image/gif";case"tiff":case"tif":return"image/tiff"}}function a(e){var t,n,i,r=document.createElement("a");return r.href=e,t=r.protocol,i=r.port,n=r.hostname,t.toLowerCase()!==window.location.protocol.toLowerCase()||(n.toLowerCase()!==window.location.hostname.toLowerCase()||i!==window.location.port&&!qq.ie())}function s(t,n){t.onload=function(){t.onload=null,t.onerror=null,n.success(t)},t.onerror=function(){t.onload=null,t.onerror=null,e("Problem drawing thumbnail!","error"),n.failure(t,"Problem drawing thumbnail!")}}function u(e,t){e.qqImageRendered=function(){t.success(e)}}function l(i,r){var o=t(i)||n(i);return t(i)?s(i,r):n(i)?u(i,r):(r.failure(i),e(qq.format("Element container of type {} is not supported!",i.tagName),"error")),o}function c(t,n,i){var r=new qq.Promise,o=new qq.Identify(t,e),a=i.maxSize,s=null==i.orient||i.orient,u=function(){n.onerror=null,n.onload=null,e("Could not render preview, file may be too large!","error"),r.failure(n,"Browser cannot render image!")};return o.isPreviewable().then(function(o){var c={parse:function(){return(new qq.Promise).success()}},d=s?new qq.Exif(t,e):c,p=new qq.MegaPixImage(t,u);l(n,r)&&d.parse().then(function(e){var t=e&&e.Orientation;p.render(n,{maxWidth:a,maxHeight:a,orientation:t,mime:o,resize:i.customResizeFunction})},function(t){e(qq.format("EXIF data could not be parsed ({}).  Assuming orientation = 1.",t)),p.render(n,{maxWidth:a,maxHeight:a,mime:o,resize:i.customResizeFunction})})},function(){e("Not previewable"),r.failure(n,"Not previewable")}),r}function d(e,t,n,i,r){var s=new Image,u=new qq.Promise;l(s,u),a(e)&&(s.crossOrigin="anonymous"),s.src=e,u.then(function(){l(t,n);var a=new qq.MegaPixImage(s);a.render(t,{maxWidth:i,maxHeight:i,mime:o(e),resize:r})},n.failure)}function p(e,t,n,i){l(t,n),qq(t).css({maxWidth:i+"px",maxHeight:i+"px"}),t.src=e}function f(e,o,s){var u=new qq.Promise,c=s.scale,f=c?s.maxSize:null;return c&&t(o)?r()?a(e)&&!i()?p(e,o,u,f):d(e,o,u,f):p(e,o,u,f):n(o)?d(e,o,u,f):l(o,u)&&(o.src=e),u}qq.extend(this,{generate:function(t,n,i){return qq.isString(t)?(e("Attempting to update thumbnail based on server response."),f(t,n,i||{})):(e("Attempting to draw client-side image preview."),c(t,n,i||{}))}}),this._testing={},this._testing.isImg=t,this._testing.isCanvas=n,this._testing.isCrossOrigin=a,this._testing.determineMimeOfFileName=o},qq.Exif=function(e,t){"use strict";function n(e){for(var t=0,n=0;e.length>0;)t+=parseInt(e.substring(0,2),16)*Math.pow(2,n),e=e.substring(2,e.length),n+=8;return t}function i(t,n){var r=t,o=n;return void 0===r&&(r=2,o=new qq.Promise),qq.readBlobToHex(e,r,4).then(function(e){var t,n=/^ffe([0-9])/.exec(e);n?"1"!==n[1]?(t=parseInt(e.slice(4,8),16),i(r+t+2,o)):o.success(r):o.failure("No EXIF header to be found!")}),o}function r(){var t=new qq.Promise;return qq.readBlobToHex(e,0,6).then(function(e){0!==e.indexOf("ffd8")?t.failure("Not a valid JPEG!"):i().then(function(e){t.success(e)},function(e){t.failure(e)})}),t}function o(t){var n=new qq.Promise;return qq.readBlobToHex(e,t+10,2).then(function(e){n.success("4949"===e)}),n}function a(t,i){var r=new qq.Promise;return qq.readBlobToHex(e,t+18,2).then(function(e){return i?r.success(n(e)):void r.success(parseInt(e,16))}),r}function s(t,n){var i=t+20,r=12*n;return qq.readBlobToHex(e,i,r)}function u(e){for(var t=[],n=0;n+24<=e.length;)t.push(e.slice(n,n+24)),n+=24;return t}function l(e,t){var i=16,r=qq.extend([],c),o={};return qq.each(t,function(t,a){var s,u,l,c=a.slice(0,4),p=e?n(c):parseInt(c,16),f=r.indexOf(p);if(f>=0&&(u=d[p].name,l=d[p].bytes,s=a.slice(i,i+2*l),o[u]=e?n(s):parseInt(s,16),r.splice(f,1)),0===r.length)return!1}),o}var c=[274],d={274:{name:"Orientation",bytes:2}};qq.extend(this,{parse:function(){var n=new qq.Promise,i=function(e){t(qq.format("EXIF header parse failed: '{}' ",e)),n.failure(e)};return r().then(function(r){t(qq.format("Moving forward with EXIF header parsing for '{}'",void 0===e.name?"blob":e.name)),o(r).then(function(e){t(qq.format("EXIF Byte order is {} endian",e?"little":"big")),a(r,e).then(function(o){t(qq.format("Found {} APP1 directory entries",o)),s(r,o).then(function(i){var r=u(i),o=l(e,r);t("Successfully parsed some EXIF tags"),n.success(o)},i)},i)},i)},i),n}}),this._testing={},this._testing.parseLittleEndian=n},qq.Identify=function(e,t){"use strict";function n(e,t){var n=!1,i=[].concat(e);return qq.each(i,function(e,i){if(0===t.indexOf(i))return n=!0,!1}),n}qq.extend(this,{isPreviewable:function(){var i=this,r=new qq.Promise,o=!1,a=void 0===e.name?"blob":e.name;return t(qq.format("Attempting to determine if {} can be rendered in this browser",a)),t("First pass: check type attribute of blob object."),this.isPreviewableSync()?(t("Second pass: check for magic bytes in file header."),qq.readBlobToHex(e,0,4).then(function(e){qq.each(i.PREVIEWABLE_MIME_TYPES,function(t,i){if(n(i,e))return("image/tiff"!==t||qq.supportedFeatures.tiffPreviews)&&(o=!0,r.success(t)),!1}),t(qq.format("'{}' is {} able to be rendered in this browser",a,o?"":"NOT")),o||r.failure()},function(){t("Error reading file w/ name '"+a+"'.  Not able to be rendered in this browser."),r.failure()})):r.failure(),r},isPreviewableSync:function(){var n=e.type,i=qq.indexOf(Object.keys(this.PREVIEWABLE_MIME_TYPES),n)>=0,r=!1,o=void 0===e.name?"blob":e.name;return i&&(r="image/tiff"!==n||qq.supportedFeatures.tiffPreviews),!r&&t(o+" is not previewable in this browser per the blob's type attr"),r}})},qq.Identify.prototype.PREVIEWABLE_MIME_TYPES={"image/jpeg":"ffd8ff","image/gif":"474946","image/png":"89504e","image/bmp":"424d","image/tiff":["49492a00","4d4d002a"]},qq.ImageValidation=function(e,t){"use strict";function n(e){var t=!1;return qq.each(e,function(e,n){if(n>0)return t=!0,!1}),t}function i(){var n=new qq.Promise;return new qq.Identify(e,t).isPreviewable().then(function(){var i=new Image,r=window.URL&&window.URL.createObjectURL?window.URL:window.webkitURL&&window.webkitURL.createObjectURL?window.webkitURL:null;r?(i.onerror=function(){t("Cannot determine dimensions for image.  May be too large.","error"),n.failure()},i.onload=function(){n.success({width:this.width,height:this.height})},i.src=r.createObjectURL(e)):(t("No createObjectURL function available to generate image URL!","error"),n.failure())},n.failure),n}function r(e,t){var n;return qq.each(e,function(e,i){if(i>0){var r=/(max|min)(Width|Height)/.exec(e),o=r[2].charAt(0).toLowerCase()+r[2].slice(1),a=t[o];switch(r[1]){case"min":if(a<i)return n=e,!1;break;case"max":if(a>i)return n=e,!1}}}),n}this.validate=function(e){var o=new qq.Promise;return t("Attempting to validate image."),n(e)?i().then(function(t){var n=r(e,t);n?o.failure(n):o.success()},o.success):o.success(),o}},qq.Session=function(e){"use strict";function t(e){return!!qq.isArray(e)||void i.log("Session response is not an array.","error")}function n(e,n,r,o){var a=!1;n=n&&t(e),n&&qq.each(e,function(e,t){if(null==t.uuid)a=!0,i.log(qq.format("Session response item {} did not include a valid UUID - ignoring.",e),"error");else if(null==t.name)a=!0,i.log(qq.format("Session response item {} did not include a valid name - ignoring.",e),"error");else try{return i.addFileRecord(t),!0}catch(e){a=!0,i.log(e.message,"error")}return!1}),o[n&&!a?"success":"failure"](e,r)}var i={endpoint:null,params:{},customHeaders:{},cors:{},addFileRecord:function(e){},log:function(e,t){}};qq.extend(i,e,!0),this.refresh=function(){var e=new qq.Promise,t=function(t,i,r){n(t,i,r,e)},r=qq.extend({},i),o=new qq.SessionAjaxRequester(qq.extend(r,{onComplete:t}));return o.queryServer(),e}},qq.SessionAjaxRequester=function(e){"use strict";function t(e,t,n){var r=null;if(null!=t.responseText)try{r=qq.parseJson(t.responseText)}catch(e){i.log("Problem parsing session response: "+e.message,"error"),n=!0}i.onComplete(r,!n,t)}var n,i={endpoint:null,customHeaders:{},params:{},cors:{expected:!1,sendCredentials:!1},onComplete:function(e,t,n){},log:function(e,t){}};qq.extend(i,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",endpointStore:{get:function(){return i.endpoint}},customHeaders:i.customHeaders,log:i.log,onComplete:t,cors:i.cors})),qq.extend(this,{queryServer:function(){var e=qq.extend({},i.params);i.log("Session query request."),n.initTransport("sessionRefresh").withParams(e).withCacheBuster().send()}})},qq.Scaler=function(e,t){"use strict";var n=e.customResizer,i=e.sendOriginal,r=e.orient,o=e.defaultType,a=e.defaultQuality/100,s=e.failureText,u=e.includeExif,l=this._getSortedSizes(e.sizes);qq.extend(this,{enabled:qq.supportedFeatures.scaling&&l.length>0,getFileRecords:function(e,c,d){var p=this,f=[],h=d.blob?d.blob:d,q=new qq.Identify(h,t);return q.isPreviewableSync()?(qq.each(l,function(e,i){var l=p._determineOutputType({defaultType:o,requestedType:i.type,refType:h.type});f.push({uuid:qq.getUniqueId(),name:p._getName(c,{name:i.name,type:l,refType:h.type}),blob:new qq.BlobProxy(h,qq.bind(p._generateScaledImage,p,{customResizeFunction:n,maxSize:i.maxSize,orient:r,type:l,quality:a,failedText:s,includeExif:u,log:t}))})}),f.push({uuid:e,name:c,size:h.size,blob:i?h:null})):f.push({uuid:e,name:c,size:h.size,blob:h}),f},handleNewFile:function(e,t,n,i,r,o,a,s){var u=this,l=(e.qqButtonId||e.blob&&e.blob.qqButtonId,[]),c=null,d=s.addFileToHandler,p=s.uploadData,f=s.paramsStore,h=qq.getUniqueId();qq.each(u.getFileRecords(n,t,e),function(e,t){var n,i=t.size;t.blob instanceof qq.BlobProxy&&(i=-1),n=p.addFile({uuid:t.uuid,name:t.name,size:i,batchId:o,proxyGroupId:h}),t.blob instanceof qq.BlobProxy?l.push(n):c=n,t.blob?(d(n,t.blob),r.push({id:n,file:t.blob})):p.setStatus(n,qq.status.REJECTED)}),null!==c&&(qq.each(l,function(e,t){var n={qqparentuuid:p.retrieve({id:c}).uuid,qqparentsize:p.retrieve({id:c}).size};n[a]=p.retrieve({id:t}).uuid,p.setParentId(t,c),f.addReadOnly(t,n)}),l.length&&!function(){var e={};e[a]=p.retrieve({id:c}).uuid,f.addReadOnly(c,e)}())}})},qq.extend(qq.Scaler.prototype,{scaleImage:function(e,t,n){"use strict";if(!qq.supportedFeatures.scaling)throw new qq.Error("Scaling is not supported in this browser!");var i=new qq.Promise,r=n.log,o=n.getFile(e),a=n.uploadData.retrieve({id:e}),s=a&&a.name,u=a&&a.uuid,l={customResizer:t.customResizer,sendOriginal:!1,orient:t.orient,defaultType:t.type||null,defaultQuality:t.quality,failedToScaleText:"Unable to scale",sizes:[{name:"",maxSize:t.maxSize}]},c=new qq.Scaler(l,r);return qq.Scaler&&qq.supportedFeatures.imagePreviews&&o?qq.bind(function(){var t=c.getFileRecords(u,s,o)[0];t&&t.blob instanceof qq.BlobProxy?t.blob.create().then(i.success,i.failure):(r(e+" is not a scalable image!","error"),i.failure())},this)():(i.failure(),r("Could not generate requested scaled image for "+e+".  Scaling is either not possible in this browser, or the file could not be located.","error")),i},_determineOutputType:function(e){"use strict";var t=e.requestedType,n=e.defaultType,i=e.refType;return n||t?t&&qq.indexOf(Object.keys(qq.Identify.prototype.PREVIEWABLE_MIME_TYPES),t)>=0?"image/tiff"===t?qq.supportedFeatures.tiffPreviews?t:n:t:n:"image/jpeg"!==i?"image/png":i},_getName:function(e,t){"use strict";var n=e.lastIndexOf("."),i=t.type||"image/png",r=t.refType,o="",a=qq.getExtension(e),s="";return t.name&&t.name.trim().length&&(s=" ("+t.name+")"),n>=0?(o=e.substr(0,n),r!==i&&(a=i.split("/")[1]),o+=s+"."+a):o=e+s,o},_getSortedSizes:function(e){"use strict";return e=qq.extend([],e),e.sort(function(e,t){return e.maxSize>t.maxSize?1:e.maxSize<t.maxSize?-1:0})},_generateScaledImage:function(e,t){"use strict";var n=this,i=e.customResizeFunction,r=e.log,o=e.maxSize,a=e.orient,s=e.type,u=e.quality,l=e.failedText,c=e.includeExif&&"image/jpeg"===t.type&&"image/jpeg"===s,d=new qq.Promise,p=new qq.ImageGenerator(r),f=document.createElement("canvas");return r("Attempting to generate scaled version for "+t.name),p.generate(t,f,{maxSize:o,orient:a,customResizeFunction:i}).then(function(){var e=f.toDataURL(s,u),i=function(){r("Success generating scaled version for "+t.name);var n=qq.dataUriToBlob(e);d.success(n)};c?n._insertExifHeader(t,e,r).then(function(t){e=t,i()},function(){r("Problem inserting EXIF header into scaled image.  Using scaled image w/out EXIF data.","error"),i()}):i()},function(){r("Failed attempt to generate scaled version for "+t.name,"error"),d.failure(l)}),d},_insertExifHeader:function(e,t,n){"use strict";var i=new FileReader,r=new qq.Promise,o="";return i.onload=function(){o=i.result,r.success(qq.ExifRestorer.restore(o,t))},i.onerror=function(){n("Problem reading "+e.name+" during attempt to transfer EXIF data to scaled version.","error"),r.failure()},i.readAsDataURL(e),r},_dataUriToBlob:function(e){"use strict";var t,n,i,r;return t=e.split(",")[0].indexOf("base64")>=0?atob(e.split(",")[1]):decodeURI(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],i=new ArrayBuffer(t.length),r=new Uint8Array(i),qq.each(t,function(e,t){r[e]=t.charCodeAt(0)}),this._createBlob(i,n)},_createBlob:function(e,t){"use strict";var n=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,i=n&&new n;return i?(i.append(e),i.getBlob(t)):new Blob([e],{type:t})}}),qq.ExifRestorer=function(){var e={};return e.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e.encode64=function(e){var t,n,i,r,o,a="",s="",u="",l=0;do t=e[l++],n=e[l++],s=e[l++],i=t>>2,r=(3&t)<<4|n>>4,o=(15&n)<<2|s>>6,u=63&s,isNaN(n)?o=u=64:isNaN(s)&&(u=64),a=a+this.KEY_STR.charAt(i)+this.KEY_STR.charAt(r)+this.KEY_STR.charAt(o)+this.KEY_STR.charAt(u),t=n=s="",i=r=o=u="";while(l<e.length);return a},e.restore=function(e,t){var n="data:image/jpeg;base64,";if(!e.match(n))return t;var i=this.decode64(e.replace(n,"")),r=this.slice2Segments(i),o=this.exifManipulation(t,r);return n+this.encode64(o)},e.exifManipulation=function(e,t){var n=this.getExifArray(t),i=this.insertExif(e,n),r=new Uint8Array(i);return r},e.getExifArray=function(e){for(var t,n=0;n<e.length;n++)if(t=e[n],255==t[0]&225==t[1])return t;return[]},e.insertExif=function(e,t){var n=e.replace("data:image/jpeg;base64,",""),i=this.decode64(n),r=i.indexOf(255,3),o=i.slice(0,r),a=i.slice(r),s=o;return s=s.concat(t),s=s.concat(a)},e.slice2Segments=function(e){for(var t=0,n=[];;){if(255==e[t]&218==e[t+1])break;if(255==e[t]&216==e[t+1])t+=2;else{var i=256*e[t+2]+e[t+3],r=t+i+2,o=e.slice(t,r);n.push(o),t=r}if(t>e.length)break}return n},e.decode64=function(e){var t,n,i,r,o,a="",s="",u=0,l=[],c=/[^A-Za-z0-9\+\/\=]/g;if(c.exec(e))throw new Error("There were invalid base64 characters in the input text.  Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='");e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");do i=this.KEY_STR.indexOf(e.charAt(u++)),r=this.KEY_STR.indexOf(e.charAt(u++)),o=this.KEY_STR.indexOf(e.charAt(u++)),s=this.KEY_STR.indexOf(e.charAt(u++)),t=i<<2|r>>4,n=(15&r)<<4|o>>2,a=(3&o)<<6|s,l.push(t),64!=o&&l.push(n),64!=s&&l.push(a),t=n=a="",i=r=o=s="";while(u<e.length);return l},e}(),qq.TotalProgress=function(e,t){"use strict";var n={},i=0,r=0,o=-1,a=-1,s=function(t,n){t===o&&n===a||e(t,n),o=t,a=n},u=function(e,t){var n=!0;return qq.each(e,function(e,i){if(qq.indexOf(t,i)>=0)return n=!1,!1}),n},l=function(e){p(e,-1,-1),delete n[e]},c=function(e,t,n){(0===t.length||u(t,n))&&(s(r,r),this.reset())},d=function(e){var i=t(e);i>0&&(p(e,0,i),n[e]={loaded:0,total:i})},p=function(e,t,o){var a=n[e]?n[e].loaded:0,u=n[e]?n[e].total:0;t===-1&&o===-1?(i-=a,r-=u):(t&&(i+=t-a),o&&(r+=o-u)),s(i,r)};qq.extend(this,{onAllComplete:c,onStatusChange:function(e,t,n){n===qq.status.CANCELED||n===qq.status.REJECTED?l(e):n===qq.status.SUBMITTING&&d(e)},onIndividualProgress:function(e,t,i){p(e,t,i),n[e]={loaded:t,total:i}},onNewSize:function(e){d(e)},reset:function(){n={},i=0,r=0}})},qq.PasteSupport=function(e){"use strict";function t(e){return e.type&&0===e.type.indexOf("image/")}function n(){o=qq(r.targetElement).attach("paste",function(e){var n=e.clipboardData;n&&qq.each(n.items,function(e,n){if(t(n)){var i=n.getAsFile();r.callbacks.pasteReceived(i)}})})}function i(){o&&o()}var r,o;r={targetElement:null,callbacks:{log:function(e,t){},pasteReceived:function(e){}}},qq.extend(r,e),n(),qq.extend(this,{reset:function(){i()}})},qq.FormSupport=function(e,t,n){"use strict";function i(e){e.getAttribute("action")&&(s.newEndpoint=e.getAttribute("action"))}function r(e,t){return!(e.checkValidity&&!e.checkValidity())||(n("Form did not pass validation checks - will not upload.","error"),void t())}function o(e){var n=e.submit;qq(e).attach("submit",function(i){i=i||window.event,i.preventDefault?i.preventDefault():i.returnValue=!1,r(e,n)&&t()}),e.submit=function(){r(e,n)&&t()}}function a(e){return e&&(qq.isString(e)&&(e=document.getElementById(e)),e&&(n("Attaching to form element."),i(e),u&&o(e))),e}var s=this,u=e.interceptSubmit,l=e.element,c=e.autoUpload;qq.extend(this,{newEndpoint:null,newAutoUpload:c,attachedToForm:!1,getFormInputsAsObject:function(){return null==l?null:s._form2Obj(l)}}),l=a(l),this.attachedToForm=!!l},qq.extend(qq.FormSupport.prototype,{_form2Obj:function(e){"use strict";var t={},n=function(e){var t=["button","image","reset","submit"];return qq.indexOf(t,e.toLowerCase())<0},i=function(e){return qq.indexOf(["checkbox","radio"],e.toLowerCase())>=0},r=function(e){return!(!i(e.type)||e.checked)||e.disabled&&"hidden"!==e.type.toLowerCase()},o=function(e){var t=null;return qq.each(qq(e).children(),function(e,n){if("option"===n.tagName.toLowerCase()&&n.selected)return t=n.value,!1}),t};return qq.each(e.elements,function(e,i){if(!qq.isInput(i,!0)&&"textarea"!==i.tagName.toLowerCase()||!n(i.type)||r(i)){if("select"===i.tagName.toLowerCase()&&!r(i)){var a=o(i);null!==a&&(t[i.name]=a)}}else t[i.name]=i.value}),t}}),qq.traditional=qq.traditional||{},qq.traditional.FormUploadHandler=function(e,t){"use strict";function n(e,t){var n,i,o;try{i=t.contentDocument||t.contentWindow.document,o=i.body.innerHTML,s("converting iframe's innerHTML to JSON"),s("innerHTML = "+o),o&&o.match(/^<pre/i)&&(o=i.body.firstChild.firstChild.nodeValue),n=r._parseJsonResponse(o)}catch(e){s("Error when attempting to parse form upload response ("+e.message+")","error"),n={success:!1}}return n}function i(t,n){var i=e.paramsStore.get(t),s="get"===e.method.toLowerCase()?"GET":"POST",u=e.endpointStore.get(t),l=o(t);return i[e.uuidName]=a(t),i[e.filenameParam]=l,r._initFormForUpload({method:s,endpoint:u,params:i,paramsInBody:e.paramsInBody,targetName:n.name})}var r=this,o=t.getName,a=t.getUuid,s=t.log;this.uploadFile=function(t){var o,a=r.getInput(t),u=r._createIframe(t),l=new qq.Promise;return o=i(t,u),o.appendChild(a),r._attachLoadEvent(u,function(i){s("iframe loaded");var o=i?i:n(t,u);r._detachLoadEvent(t),e.cors.expected||qq(u).remove(),o.success?l.success(o):l.failure(o)}),s("Sending upload request for "+t),o.submit(),qq(o).remove(),l},qq.extend(this,new qq.FormUploadHandler({options:{isCors:e.cors.expected,inputName:e.inputName},proxy:{onCancel:e.onCancel,getName:o,getUuid:a,log:s}}))},qq.traditional=qq.traditional||{},qq.traditional.XhrUploadHandler=function(e,t){"use strict";var n=this,i=t.getName,r=t.getSize,o=t.getUuid,a=t.log,s=e.forceMultipart||e.paramsInBody,u=function(t,n,o){var a=r(t),u=i(t);n[e.chunking.paramNames.partIndex]=o.part,n[e.chunking.paramNames.partByteOffset]=o.start,n[e.chunking.paramNames.chunkSize]=o.size,n[e.chunking.paramNames.totalParts]=o.count,n[e.totalFileSizeName]=a,s&&(n[e.filenameParam]=u)},l=new qq.traditional.AllChunksDoneAjaxRequester({cors:e.cors,endpoint:e.chunking.success.endpoint,log:a}),c=function(e,t){var n=new qq.Promise;return t.onreadystatechange=function(){if(4===t.readyState){var i=f(e,t);i.success?n.success(i.response,t):n.failure(i.response,t)}},n},d=function(t){var a=e.paramsStore.get(t),s=i(t),u=r(t);return a[e.uuidName]=o(t),a[e.filenameParam]=s,a[e.totalFileSizeName]=u,a[e.chunking.paramNames.totalParts]=n._getTotalChunks(t),a},p=function(e,t){return qq.indexOf([200,201,202,203,204],e.status)<0||!t.success||t.reset},f=function(e,t){var n;return a("xhr - server response received for "+e),a("responseText = "+t.responseText),n=h(!0,t),{success:!p(t,n),response:n}},h=function(e,t){var n={};try{a(qq.format("Received response status {} with body: {}",t.status,t.responseText)),n=qq.parseJson(t.responseText)}catch(t){e&&a("Error when attempting to parse xhr response text ("+t.message+")","error")}return n},q=function(t){var i=new qq.Promise;return l.complete(t,n._createXhr(t),d(t),e.customHeaders.get(t)).then(function(e){i.success(h(!1,e),e)},function(e){i.failure(h(!1,e),e)}),i},m=function(t,n,a,u){var l=new FormData,c=e.method,d=e.endpointStore.get(u),p=i(u),f=r(u);return t[e.uuidName]=o(u),t[e.filenameParam]=p,s&&(t[e.totalFileSizeName]=f),e.paramsInBody||(s||(t[e.inputName]=p),d=qq.obj2url(t,d)),n.open(c,d,!0),e.cors.expected&&e.cors.sendCredentials&&(n.withCredentials=!0),s?(e.paramsInBody&&qq.obj2FormData(t,l),l.append(e.inputName,a),l):a},g=function(t,i){var r=e.customHeaders.get(t),o=n.getFile(t);i.setRequestHeader("Accept","application/json"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.setRequestHeader("Cache-Control","no-cache"),s||(i.setRequestHeader("Content-Type","application/octet-stream"),i.setRequestHeader("X-Mime-Type",o.type)),qq.each(r,function(e,t){i.setRequestHeader(e,t)})};qq.extend(this,{uploadChunk:function(t,i,o){var a,s,l,d=n._getChunkData(t,i),p=n._createXhr(t,i);r(t);return a=c(t,p),n._registerProgressHandler(t,i,d.size),l=e.paramsStore.get(t),u(t,l,d),o&&(l[e.resume.paramNames.resuming]=!0),s=m(l,p,d.blob,t),g(t,p),p.send(s),a},uploadFile:function(t){var i,r,o,a,s=n.getFile(t);return r=n._createXhr(t),n._registerProgressHandler(t),i=c(t,r),o=e.paramsStore.get(t),a=m(o,r,s,t),g(t,r),r.send(a),i}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"traditional"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(t){return{finalizeChunks:function(n){return e.chunking.success.endpoint?q(n):t.finalizeChunks(n,qq.bind(h,this,!0))}}})},qq.traditional.AllChunksDoneAjaxRequester=function(e){"use strict";var t,n="POST",i={cors:{allowXdr:!1,expected:!1,sendCredentials:!1},endpoint:null,log:function(e,t){}},r={},o={get:function(e){return i.endpoint}};qq.extend(i,e),t=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:[n],method:n,endpointStore:o,allowXRequestedWithAndCacheControl:!1,cors:i.cors,log:i.log,onComplete:function(e,t,n){var i=r[e];delete r[e],n?i.failure(t):i.success(t)}})),qq.extend(this,{complete:function(e,n,o,a){var s=new qq.Promise;return i.log("Submitting All Chunks Done request for "+e),r[e]=s,t.initTransport(e).withParams(o).withHeaders(a).send(n),s}})},qq.DragAndDrop=function(e){"use strict";function t(e,t){var n=Array.prototype.slice.call(e);l.callbacks.dropLog("Grabbed "+e.length+" dropped files."),t.dropDisabled(!1),l.callbacks.processingDroppedFilesComplete(n,t.getElement())}function n(e){var t=new qq.Promise;return e.isFile?e.file(function(n){var i=e.name,r=e.fullPath,o=r.indexOf(i);r=r.substr(0,o),"/"===r.charAt(0)&&(r=r.substr(1)),n.qqPath=r,f.push(n),t.success()},function(n){l.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+n.code+".","error"),t.failure()}):e.isDirectory&&i(e).then(function(e){var i=e.length;qq.each(e,function(e,r){n(r).done(function(){i-=1,0===i&&t.success()})}),e.length||t.success()},function(n){l.callbacks.dropLog("Problem parsing '"+e.fullPath+"'.  FileError code "+n.code+".","error"),t.failure()}),t}function i(e,t,n,r){var o=r||new qq.Promise,a=t||e.createReader();return a.readEntries(function(t){var r=n?n.concat(t):t;t.length?setTimeout(function(){i(e,a,r,o)},0):o.success(r)},o.failure),o}function r(e,t){var i=[],r=new qq.Promise;return l.callbacks.processingDroppedFiles(),t.dropDisabled(!0),e.files.length>1&&!l.allowMultipleItems?(l.callbacks.processingDroppedFilesComplete([]),l.callbacks.dropError("tooManyFilesError",""),t.dropDisabled(!1),r.failure()):(f=[],qq.isFolderDropSupported(e)?qq.each(e.items,function(e,t){var o=t.webkitGetAsEntry();o&&(o.isFile?f.push(t.getAsFile()):i.push(n(o).done(function(){i.pop(),0===i.length&&r.success()})))}):f=e.files,0===i.length&&r.success()),r}function o(e){var n=new qq.UploadDropZone({HIDE_ZONES_EVENT_NAME:c,element:e,onEnter:function(t){qq(e).addClass(l.classes.dropActive),t.stopPropagation()},onLeaveNotDescendants:function(t){qq(e).removeClass(l.classes.dropActive)},onDrop:function(e){r(e.dataTransfer,n).then(function(){t(f,n)},function(){l.callbacks.dropLog("Drop event DataTransfer parsing failed.  No files will be uploaded.","error")})}});return h.addDisposer(function(){n.dispose()}),qq(e).hasAttribute(d)&&qq(e).hide(),p.push(n),n}function a(e){var t;return qq.each(e.dataTransfer.types,function(e,n){if("Files"===n)return t=!0,!1}),t}function s(e){return qq.firefox()?!e.relatedTarget:qq.safari()?e.x<0||e.y<0:0===e.x&&0===e.y}function u(){var e=l.dropZoneElements,t=function(){setTimeout(function(){qq.each(e,function(e,t){qq(t).hasAttribute(d)&&qq(t).hide(),qq(t).removeClass(l.classes.dropActive)})},10)};qq.each(e,function(t,n){var i=o(n);e.length&&qq.supportedFeatures.fileDrop&&h.attach(document,"dragenter",function(t){!i.dropDisabled()&&a(t)&&qq.each(e,function(e,t){t instanceof HTMLElement&&qq(t).hasAttribute(d)&&qq(t).css({display:"block"})})})}),h.attach(document,"dragleave",function(e){s(e)&&t()}),h.attach(qq(document).children()[0],"mouseenter",function(e){t()}),h.attach(document,"drop",function(e){e.preventDefault(),t()}),h.attach(document,c,t)}var l,c="qq-hidezones",d="qq-hide-dropzone",p=[],f=[],h=new qq.DisposeSupport;l={dropZoneElements:[],allowMultipleItems:!0,classes:{dropActive:null},callbacks:new qq.DragAndDrop.callbacks},qq.extend(l,e,!0),u(),qq.extend(this,{setupExtraDropzone:function(e){l.dropZoneElements.push(e),o(e)},removeDropzone:function(e){var t,n=l.dropZoneElements;for(t in n)if(n[t]===e)return n.splice(t,1)},dispose:function(){h.dispose(),qq.each(p,function(e,t){t.dispose()})}})},qq.DragAndDrop.callbacks=function(){"use strict";return{processingDroppedFiles:function(){},processingDroppedFilesComplete:function(e,t){},dropError:function(e,t){qq.log("Drag & drop error code '"+e+" with these specifics: '"+t+"'","error")},dropLog:function(e,t){qq.log(e,t)}}},qq.UploadDropZone=function(e){"use strict";function t(){return qq.safari()||qq.firefox()&&qq.windows()}function n(e){c||(t?d.attach(document,"dragover",function(e){e.preventDefault()}):d.attach(document,"dragover",function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="none",e.preventDefault())}),c=!0)}function i(e){if(!qq.supportedFeatures.fileDrop)return!1;var t,n=e.dataTransfer,i=qq.safari();return t=!(!qq.ie()||!qq.supportedFeatures.fileDrop)||"none"!==n.effectAllowed,n&&t&&(n.files||!i&&n.types.contains&&n.types.contains("Files"))}function r(e){return void 0!==e&&(l=e),l}function o(){function e(){t=document.createEvent("Event"),t.initEvent(s.HIDE_ZONES_EVENT_NAME,!0,!0)}var t;if(window.CustomEvent)try{t=new CustomEvent(s.HIDE_ZONES_EVENT_NAME)}catch(t){e()}else e();document.dispatchEvent(t)}function a(){d.attach(u,"dragover",function(e){if(i(e)){var t=qq.ie()&&qq.supportedFeatures.fileDrop?null:e.dataTransfer.effectAllowed;"move"===t||"linkMove"===t?e.dataTransfer.dropEffect="move":e.dataTransfer.dropEffect="copy",e.stopPropagation(),e.preventDefault()}}),d.attach(u,"dragenter",function(e){if(!r()){if(!i(e))return;s.onEnter(e)}}),d.attach(u,"dragleave",function(e){if(i(e)){s.onLeave(e);var t=document.elementFromPoint(e.clientX,e.clientY);qq(this).contains(t)||s.onLeaveNotDescendants(e)}}),d.attach(u,"drop",function(e){if(!r()){if(!i(e))return;e.preventDefault(),e.stopPropagation(),s.onDrop(e),o()}})}var s,u,l,c,d=new qq.DisposeSupport;s={element:null,onEnter:function(e){},onLeave:function(e){},onLeaveNotDescendants:function(e){},onDrop:function(e){}},qq.extend(s,e),u=s.element,n(),a(),qq.extend(this,{dropDisabled:function(e){return r(e)},dispose:function(){d.dispose()},getElement:function(){return u}})},function(){"use strict";qq.uiPublicApi={addInitialFiles:function(e){this._parent.prototype.addInitialFiles.apply(this,arguments),this._templating.addCacheToDom()},clearStoredFiles:function(){this._parent.prototype.clearStoredFiles.apply(this,arguments),this._templating.clearFiles()},addExtraDropzone:function(e){this._dnd&&this._dnd.setupExtraDropzone(e)},removeExtraDropzone:function(e){if(this._dnd)return this._dnd.removeDropzone(e)},getItemByFileId:function(e){if(!this._templating.isHiddenForever(e))return this._templating.getFileContainer(e)},reset:function(){this._parent.prototype.reset.apply(this,arguments),this._templating.reset(),!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._dnd&&(this._dnd.dispose(),this._dnd=this._setupDragAndDrop()),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0,this._setupClickAndEditEventHandlers()},setName:function(e,t){var n=this._options.formatFileName(t);this._parent.prototype.setName.apply(this,arguments),this._templating.updateFilename(e,n)},pauseUpload:function(e){var t=this._parent.prototype.pauseUpload.apply(this,arguments);return t&&this._templating.uploadPaused(e),t},continueUpload:function(e){var t=this._parent.prototype.continueUpload.apply(this,arguments);return t&&this._templating.uploadContinued(e),t},getId:function(e){return this._templating.getFileId(e)},getDropTarget:function(e){var t=this.getFile(e);return t.qqDropTarget}},qq.uiPrivateApi={_getButton:function(e){var t=this._parent.prototype._getButton.apply(this,arguments);return t||e===this._defaultButtonId&&(t=this._templating.getButton()),t},_removeFileItem:function(e){this._templating.removeFile(e)},_setupClickAndEditEventHandlers:function(){this._fileButtonsClickHandler=qq.FileButtonsClickHandler&&this._bindFileButtonsClickEvent(),this._focusinEventSupported=!qq.firefox(),this._isEditFilenameEnabled()&&(this._filenameClickHandler=this._bindFilenameClickEvent(),this._filenameInputFocusInHandler=this._bindFilenameInputFocusInEvent(),this._filenameInputFocusHandler=this._bindFilenameInputFocusEvent())},_setupDragAndDrop:function(){var e=this,t=this._options.dragAndDrop.extraDropzones,n=this._templating,i=n.getDropZone();return i&&t.push(i),new qq.DragAndDrop({dropZoneElements:t,allowMultipleItems:this._options.multiple,classes:{dropActive:this._options.classes.dropActive},callbacks:{processingDroppedFiles:function(){n.showDropProcessing()},processingDroppedFilesComplete:function(t,i){n.hideDropProcessing(),qq.each(t,function(e,t){t.qqDropTarget=i}),t.length&&e.addFiles(t,null,null)},dropError:function(t,n){e._itemError(t,n)},dropLog:function(t,n){e.log(t,n)}}})},_bindFileButtonsClickEvent:function(){var e=this;return new qq.FileButtonsClickHandler({templating:this._templating,log:function(t,n){e.log(t,n)},onDeleteFile:function(t){e.deleteFile(t)},onCancel:function(t){e.cancel(t)},onRetry:function(t){e.retry(t)},onPause:function(t){e.pauseUpload(t)},onContinue:function(t){e.continueUpload(t)},onGetName:function(t){return e.getName(t)}})},_isEditFilenameEnabled:function(){return this._templating.isEditFilenamePossible()&&!this._options.autoUpload&&qq.FilenameClickHandler&&qq.FilenameInputFocusHandler&&qq.FilenameInputFocusHandler},_filenameEditHandler:function(){var e=this,t=this._templating;return{templating:t,log:function(t,n){e.log(t,n)},onGetUploadStatus:function(t){return e.getUploads({id:t}).status},onGetName:function(t){return e.getName(t)},onSetName:function(t,n){e.setName(t,n)},onEditingStatusChange:function(e,n){var i=qq(t.getEditInput(e)),r=qq(t.getFileContainer(e));n?(i.addClass("qq-editing"),t.hideFilename(e),t.hideEditIcon(e)):(i.removeClass("qq-editing"),t.showFilename(e),t.showEditIcon(e)),r.addClass("qq-temp").removeClass("qq-temp");
}}},_onUploadStatusChange:function(e,t,n){this._parent.prototype._onUploadStatusChange.apply(this,arguments),this._isEditFilenameEnabled()&&this._templating.getFileContainer(e)&&n!==qq.status.SUBMITTED&&(this._templating.markFilenameEditable(e),this._templating.hideEditIcon(e)),t===qq.status.UPLOAD_RETRYING&&n===qq.status.UPLOADING?(this._templating.hideRetry(e),this._templating.setStatusText(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.retrying)):n===qq.status.UPLOAD_FAILED&&this._templating.hidePause(e)},_bindFilenameInputFocusInEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusInHandler(e)},_bindFilenameInputFocusEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameInputFocusHandler(e)},_bindFilenameClickEvent:function(){var e=qq.extend({},this._filenameEditHandler());return new qq.FilenameClickHandler(e)},_storeForLater:function(e){this._parent.prototype._storeForLater.apply(this,arguments),this._templating.hideSpinner(e)},_onAllComplete:function(e,t){this._parent.prototype._onAllComplete.apply(this,arguments),this._templating.resetTotalProgress()},_onSubmit:function(e,t){var n=this.getFile(e);n&&n.qqPath&&this._options.dragAndDrop.reportDirectoryPaths&&this._paramsStore.addReadOnly(e,{qqpath:n.qqPath}),this._parent.prototype._onSubmit.apply(this,arguments),this._addToList(e,t)},_onSubmitted:function(e){this._isEditFilenameEnabled()&&(this._templating.markFilenameEditable(e),this._templating.showEditIcon(e),this._focusinEventSupported||this._filenameInputFocusHandler.addHandler(this._templating.getEditInput(e)))},_onProgress:function(e,t,n,i){this._parent.prototype._onProgress.apply(this,arguments),this._templating.updateProgress(e,n,i),100===Math.round(n/i*100)?(this._templating.hideCancel(e),this._templating.hidePause(e),this._templating.hideProgress(e),this._templating.setStatusText(e,this._options.text.waitingForResponse),this._displayFileSize(e)):this._displayFileSize(e,n,i)},_onTotalProgress:function(e,t){this._parent.prototype._onTotalProgress.apply(this,arguments),this._templating.updateTotalProgress(e,t)},_onComplete:function(e,t,n,i){function r(t){s&&(a.setStatusText(e),qq(s).removeClass(u._classes.retrying),a.hideProgress(e),u.getUploads({id:e}).status!==qq.status.UPLOAD_FAILED&&a.hideCancel(e),a.hideSpinner(e),t.success?u._markFileAsSuccessful(e):(qq(s).addClass(u._classes.fail),a.showCancel(e),a.isRetryPossible()&&!u._preventRetries[e]&&(qq(s).addClass(u._classes.retryable),a.showRetry(e)),u._controlFailureTextDisplay(e,t)))}var o=this._parent.prototype._onComplete.apply(this,arguments),a=this._templating,s=a.getFileContainer(e),u=this;return o instanceof qq.Promise?o.done(function(e){r(e)}):r(n),o},_markFileAsSuccessful:function(e){var t=this._templating;this._isDeletePossible()&&t.showDeleteButton(e),qq(t.getFileContainer(e)).addClass(this._classes.success),this._maybeUpdateThumbnail(e)},_onUploadPrep:function(e){this._parent.prototype._onUploadPrep.apply(this,arguments),this._templating.showSpinner(e)},_onUpload:function(e,t){var n=this._parent.prototype._onUpload.apply(this,arguments);return this._templating.showSpinner(e),n},_onUploadChunk:function(e,t){this._parent.prototype._onUploadChunk.apply(this,arguments),t.partIndex>0&&this._handler.isResumable(e)&&this._templating.allowPause(e)},_onCancel:function(e,t){this._parent.prototype._onCancel.apply(this,arguments),this._removeFileItem(e),0===this._getNotFinished()&&this._templating.resetTotalProgress()},_onBeforeAutoRetry:function(e){var t,n,i;this._parent.prototype._onBeforeAutoRetry.apply(this,arguments),this._showCancelLink(e),this._options.retry.showAutoRetryNote&&(t=this._autoRetries[e],n=this._options.retry.maxAutoAttempts,i=this._options.retry.autoRetryNote.replace(/\{retryNum\}/g,t),i=i.replace(/\{maxAuto\}/g,n),this._templating.setStatusText(e,i),qq(this._templating.getFileContainer(e)).addClass(this._classes.retrying))},_onBeforeManualRetry:function(e){return this._parent.prototype._onBeforeManualRetry.apply(this,arguments)?(this._templating.resetProgress(e),qq(this._templating.getFileContainer(e)).removeClass(this._classes.fail),this._templating.setStatusText(e),this._templating.showSpinner(e),this._showCancelLink(e),!0):(qq(this._templating.getFileContainer(e)).addClass(this._classes.retryable),this._templating.showRetry(e),!1)},_onSubmitDelete:function(e){var t=qq.bind(this._onSubmitDeleteSuccess,this);this._parent.prototype._onSubmitDelete.call(this,e,t)},_onSubmitDeleteSuccess:function(e,t,n){this._options.deleteFile.forceConfirm?this._showDeleteConfirm.apply(this,arguments):this._sendDeleteRequest.apply(this,arguments)},_onDeleteComplete:function(e,t,n){this._parent.prototype._onDeleteComplete.apply(this,arguments),this._templating.hideSpinner(e),n?(this._templating.setStatusText(e,this._options.deleteFile.deletingFailedText),this._templating.showDeleteButton(e)):this._removeFileItem(e)},_sendDeleteRequest:function(e,t,n){this._templating.hideDeleteButton(e),this._templating.showSpinner(e),this._templating.setStatusText(e,this._options.deleteFile.deletingStatusText),this._deleteHandler.sendDelete.apply(this,arguments)},_showDeleteConfirm:function(e,t,n){var i,r=this.getName(e),o=this._options.deleteFile.confirmMessage.replace(/\{filename\}/g,r),a=(this.getUuid(e),arguments),s=this;i=this._options.showConfirm(o),qq.isGenericPromise(i)?i.then(function(){s._sendDeleteRequest.apply(s,a)}):i!==!1&&s._sendDeleteRequest.apply(s,a)},_addToList:function(e,t,n){var i,r,o=0,a=this._handler.isProxied(e)&&this._options.scaling.hideScaled;this._options.display.prependFiles&&(this._totalFilesInBatch>1&&this._filesInBatchAddedToUi>0&&(o=this._filesInBatchAddedToUi-1),i={index:o}),n||(this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading&&this._templating.disableCancel(),this._options.multiple||(r=this.getUploads({id:e}),this._handledProxyGroup=this._handledProxyGroup||r.proxyGroupId,r.proxyGroupId===this._handledProxyGroup&&r.proxyGroupId||(this._handler.cancelAll(),this._clearList(),this._handledProxyGroup=null))),n?(this._templating.addFileToCache(e,this._options.formatFileName(t),i,a),this._templating.updateThumbnail(e,this._thumbnailUrls[e],!0,this._options.thumbnails.customResizer)):(this._templating.addFile(e,this._options.formatFileName(t),i,a),this._templating.generatePreview(e,this.getFile(e),this._options.thumbnails.customResizer)),this._filesInBatchAddedToUi+=1,(n||this._options.display.fileSizeOnSubmit&&qq.supportedFeatures.ajaxUploading)&&this._displayFileSize(e)},_clearList:function(){this._templating.clearFiles(),this.clearStoredFiles()},_displayFileSize:function(e,t,n){var i=this.getSize(e),r=this._formatSize(i);i>=0&&(void 0!==t&&void 0!==n&&(r=this._formatProgress(t,n)),this._templating.updateSize(e,r))},_formatProgress:function(e,t){function n(e,t){i=i.replace(e,t)}var i=this._options.text.formatProgress;return n("{percent}",Math.round(e/t*100)),n("{total_size}",this._formatSize(t)),i},_controlFailureTextDisplay:function(e,t){var n,i,r;n=this._options.failedUploadTextDisplay.mode,i=this._options.failedUploadTextDisplay.responseProperty,"custom"===n?(r=t[i],r||(r=this._options.text.failUpload),this._templating.setStatusText(e,r),this._options.failedUploadTextDisplay.enableTooltip&&this._showTooltip(e,r)):"default"===n?this._templating.setStatusText(e,this._options.text.failUpload):"none"!==n&&this.log("failedUploadTextDisplay.mode value of '"+n+"' is not valid","warn")},_showTooltip:function(e,t){this._templating.getFileContainer(e).title=t},_showCancelLink:function(e){this._options.disableCancelForFormUploads&&!qq.supportedFeatures.ajaxUploading||this._templating.showCancel(e)},_itemError:function(e,t,n){var i=this._parent.prototype._itemError.apply(this,arguments);this._options.showMessage(i)},_batchError:function(e){this._parent.prototype._batchError.apply(this,arguments),this._options.showMessage(e)},_setupPastePrompt:function(){var e=this;this._options.callbacks.onPasteReceived=function(){var t=e._options.paste.namePromptMessage,n=e._options.paste.defaultName;return e._options.showPrompt(t,n)}},_fileOrBlobRejected:function(e,t){this._totalFilesInBatch-=1,this._parent.prototype._fileOrBlobRejected.apply(this,arguments)},_prepareItemsForUpload:function(e,t,n){this._totalFilesInBatch=e.length,this._filesInBatchAddedToUi=0,this._parent.prototype._prepareItemsForUpload.apply(this,arguments)},_maybeUpdateThumbnail:function(e){var t=this._thumbnailUrls[e],n=this.getUploads({id:e}).status;n===qq.status.DELETED||!t&&!this._options.thumbnails.placeholders.waitUntilResponse&&qq.supportedFeatures.imagePreviews||this._templating.updateThumbnail(e,t,this._options.thumbnails.customResizer)},_addCannedFile:function(e){var t=this._parent.prototype._addCannedFile.apply(this,arguments);return this._addToList(t,this.getName(t),!0),this._templating.hideSpinner(t),this._templating.hideCancel(t),this._markFileAsSuccessful(t),t},_setSize:function(e,t){this._parent.prototype._setSize.apply(this,arguments),this._templating.updateSize(e,this._formatSize(t))},_sessionRequestComplete:function(){this._templating.addCacheToDom(),this._parent.prototype._sessionRequestComplete.apply(this,arguments)}}}(),qq.FineUploader=function(e,t){"use strict";var n=this;this._parent=t?qq[t].FineUploaderBasic:qq.FineUploaderBasic,this._parent.apply(this,arguments),qq.extend(this._options,{element:null,button:null,listElement:null,dragAndDrop:{extraDropzones:[],reportDirectoryPaths:!1},text:{formatProgress:"{percent}% of {total_size}",failUpload:"Upload failed",waitingForResponse:"Processing...",paused:"Paused"},template:"qq-template",classes:{retrying:"qq-upload-retrying",retryable:"qq-upload-retryable",success:"qq-upload-success",fail:"qq-upload-fail",editable:"qq-editable",hide:"qq-hide",dropActive:"qq-upload-drop-area-active"},failedUploadTextDisplay:{mode:"default",responseProperty:"error",enableTooltip:!0},messages:{tooManyFilesError:"You may only drop one file",unsupportedBrowser:"Unrecoverable error - this browser does not permit file uploading of any kind."},retry:{showAutoRetryNote:!0,autoRetryNote:"Retrying {retryNum}/{maxAuto}..."},deleteFile:{forceConfirm:!1,confirmMessage:"Are you sure you want to delete {filename}?",deletingStatusText:"Deleting...",deletingFailedText:"Delete failed"},display:{fileSizeOnSubmit:!1,prependFiles:!1},paste:{promptForName:!1,namePromptMessage:"Please name this image"},thumbnails:{customResizer:null,maxCount:0,placeholders:{waitUntilResponse:!1,notAvailablePath:null,waitingPath:null},timeBetweenThumbs:750},scaling:{hideScaled:!1},showMessage:function(e){return n._templating.hasDialog("alert")?n._templating.showDialog("alert",e):void setTimeout(function(){window.alert(e)},0)},showConfirm:function(e){return n._templating.hasDialog("confirm")?n._templating.showDialog("confirm",e):window.confirm(e)},showPrompt:function(e,t){return n._templating.hasDialog("prompt")?n._templating.showDialog("prompt",e,t):window.prompt(e,t)}},!0),qq.extend(this._options,e,!0),this._templating=new qq.Templating({log:qq.bind(this.log,this),templateIdOrEl:this._options.template,containerEl:this._options.element,fileContainerEl:this._options.listElement,button:this._options.button,imageGenerator:this._imageGenerator,classes:{hide:this._options.classes.hide,editable:this._options.classes.editable},limits:{maxThumbs:this._options.thumbnails.maxCount,timeBetweenThumbs:this._options.thumbnails.timeBetweenThumbs},placeholders:{waitUntilUpdate:this._options.thumbnails.placeholders.waitUntilResponse,thumbnailNotAvailable:this._options.thumbnails.placeholders.notAvailablePath,waitingForThumbnail:this._options.thumbnails.placeholders.waitingPath},text:this._options.text}),this._options.workarounds.ios8SafariUploads&&qq.ios800()&&qq.iosSafari()?this._templating.renderFailure(this._options.messages.unsupportedBrowserIos8Safari):!qq.supportedFeatures.uploading||this._options.cors.expected&&!qq.supportedFeatures.uploadCors?this._templating.renderFailure(this._options.messages.unsupportedBrowser):(this._wrapCallbacks(),this._templating.render(),this._classes=this._options.classes,!this._options.button&&this._templating.getButton()&&(this._defaultButtonId=this._createUploadButton({element:this._templating.getButton(),title:this._options.text.fileInputTitle}).getButtonId()),this._setupClickAndEditEventHandlers(),qq.DragAndDrop&&qq.supportedFeatures.fileDrop&&(this._dnd=this._setupDragAndDrop()),this._options.paste.targetElement&&this._options.paste.promptForName&&(qq.PasteSupport?this._setupPastePrompt():this.log("Paste support module not found.","error")),this._totalFilesInBatch=0,this._filesInBatchAddedToUi=0)},qq.extend(qq.FineUploader.prototype,qq.basePublicApi),qq.extend(qq.FineUploader.prototype,qq.basePrivateApi),qq.extend(qq.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.FineUploader.prototype,qq.uiPrivateApi),qq.Templating=function(e){"use strict";var t,n,i,r,o,a,s,u,l="qq-file-id",c="qq-file-id-",d="qq-max-size",p="qq-server-scale",f="qq-hide-dropzone",h="qq-drop-area-text",q="qq-in-progress",m="qq-hidden-forever",g={content:document.createDocumentFragment(),map:{}},v=!1,_=0,y=!1,b=[],S=-1,w={log:null,limits:{maxThumbs:0,timeBetweenThumbs:750},templateIdOrEl:"qq-template",containerEl:null,fileContainerEl:null,button:null,imageGenerator:null,classes:{hide:"qq-hide",editable:"qq-editable"},placeholders:{waitUntilUpdate:!1,thumbnailNotAvailable:null,waitingForThumbnail:null},text:{paused:"Paused"}},x={button:"qq-upload-button-selector",alertDialog:"qq-alert-dialog-selector",dialogCancelButton:"qq-cancel-button-selector",confirmDialog:"qq-confirm-dialog-selector",dialogMessage:"qq-dialog-message-selector",dialogOkButton:"qq-ok-button-selector",promptDialog:"qq-prompt-dialog-selector",uploader:"qq-uploader-selector",drop:"qq-upload-drop-area-selector",list:"qq-upload-list-selector",progressBarContainer:"qq-progress-bar-container-selector",progressBar:"qq-progress-bar-selector",totalProgressBarContainer:"qq-total-progress-bar-container-selector",totalProgressBar:"qq-total-progress-bar-selector",file:"qq-upload-file-selector",spinner:"qq-upload-spinner-selector",size:"qq-upload-size-selector",cancel:"qq-upload-cancel-selector",pause:"qq-upload-pause-selector",continueButton:"qq-upload-continue-selector",deleteButton:"qq-upload-delete-selector",retry:"qq-upload-retry-selector",statusText:"qq-upload-status-text-selector",editFilenameInput:"qq-edit-filename-selector",editNameIcon:"qq-edit-filename-icon-selector",dropText:"qq-upload-drop-area-text-selector",dropProcessing:"qq-drop-processing-selector",dropProcessingSpinner:"qq-drop-processing-spinner-selector",thumbnail:"qq-thumbnail-selector"},C={},E=new qq.Promise,A=new qq.Promise,P=function(){var e=w.placeholders.thumbnailNotAvailable,n=w.placeholders.waitingForThumbnail,i={maxSize:S,scale:u};s&&(e?w.imageGenerator.generate(e,new Image,i).then(function(e){E.success(e)},function(){E.failure(),t("Problem loading 'not available' placeholder image at "+e,"error")}):E.failure(),n?w.imageGenerator.generate(n,new Image,i).then(function(e){A.success(e)},function(){A.failure(),t("Problem loading 'waiting for thumbnail' placeholder image at "+n,"error")}):A.failure())},F=function(e){var t=new qq.Promise;return A.then(function(n){X(n,e),e.src?t.success():(e.src=n.src,e.onload=function(){e.onload=null,te(e),t.success()})},function(){W(e),t.success()}),t},T=function(e,n,i){var r=G(e);return t("Generating new thumbnail for "+e),n.qqThumbnailId=e,w.imageGenerator.generate(n,r,i).then(function(){_++,te(r),C[e].success()},function(){C[e].failure(),w.placeholders.waitUntilUpdate||K(e,r)})},k=function(){if(b.length){y=!0;var e=b.shift();e.update?Z(e):Q(e)}else y=!1},I=function(e){return V(N(e),x.cancel)},D=function(e){return V(N(e),x.continueButton)},R=function(e){return V(o,x[e+"Dialog"])},U=function(e){return V(N(e),x.deleteButton)},B=function(){return V(o,x.dropProcessing)},O=function(e){return V(N(e),x.editNameIcon)},N=function(e){return g.map[e]||qq(a).getFirstByClass(c+e)},M=function(e){return V(N(e),x.file)},H=function(e){return V(N(e),x.pause)},L=function(e){return null==e?V(o,x.totalProgressBarContainer)||V(o,x.totalProgressBar):V(N(e),x.progressBarContainer)||V(N(e),x.progressBar)},z=function(e){return V(N(e),x.retry)},j=function(e){return V(N(e),x.size)},$=function(e){return V(N(e),x.spinner)},V=function(e,t){return e&&qq(e).getFirstByClass(t)},G=function(e){return s&&V(N(e),x.thumbnail)},W=function(e){e&&qq(e).addClass(w.classes.hide)},X=function(e,t){var n=e.style.maxWidth,i=e.style.maxHeight;i&&n&&!t.style.maxWidth&&!t.style.maxHeight&&qq(t).css({maxWidth:n,maxHeight:i})},K=function(e,t){var n=C[e]||(new qq.Promise).failure(),i=new qq.Promise;return E.then(function(e){n.then(function(){i.success()},function(){X(e,t),t.onload=function(){t.onload=null,i.success()},t.src=e.src,te(t)})}),i},J=function(){var e,r,o,a,l,c,q,m,g,v,_;if(t("Parsing template"),null==w.templateIdOrEl)throw new Error("You MUST specify either a template element or ID!");if(qq.isString(w.templateIdOrEl)){if(e=document.getElementById(w.templateIdOrEl),null===e)throw new Error(qq.format("Cannot find template script at ID '{}'!",w.templateIdOrEl));r=e.innerHTML}else{if(void 0===w.templateIdOrEl.innerHTML)throw new Error("You have specified an invalid value for the template option!  It must be an ID or an Element.");r=w.templateIdOrEl.innerHTML}if(r=qq.trimStr(r),a=document.createElement("div"),a.appendChild(qq.toElement(r)),_=qq(a).getFirstByClass(x.uploader),w.button&&(c=qq(a).getFirstByClass(x.button),c&&qq(c).remove()),qq.DragAndDrop&&qq.supportedFeatures.fileDrop||(g=qq(a).getFirstByClass(x.dropProcessing),g&&qq(g).remove()),q=qq(a).getFirstByClass(x.drop),q&&!qq.DragAndDrop&&(t("DnD module unavailable.","info"),qq(q).remove()),qq.supportedFeatures.fileDrop?qq(_).hasAttribute(h)&&q&&(v=qq(q).getFirstByClass(x.dropText),v&&qq(v).remove()):(_.removeAttribute(h),q&&qq(q).hasAttribute(f)&&qq(q).css({display:"none"})),m=qq(a).getFirstByClass(x.thumbnail),s?m&&(S=parseInt(m.getAttribute(d)),S=S>0?S:null,u=qq(m).hasAttribute(p)):m&&qq(m).remove(),s=s&&m,n=qq(a).getByClass(x.editFilenameInput).length>0,i=qq(a).getByClass(x.retry).length>0,o=qq(a).getFirstByClass(x.list),null==o)throw new Error("Could not find the file list container in the template!");return l=o.innerHTML,o.innerHTML="",a.getElementsByTagName("DIALOG").length&&document.createElement("dialog"),t("Template parsing complete"),{template:qq.trimStr(a.innerHTML),fileTemplate:qq.trimStr(l)}},Y=function(e,t,n){var i=n,r=i.firstChild;t>0&&(r=qq(i).children()[t].nextSibling),i.insertBefore(e,r)},Q=function(e){var t=e.id,n=e.optFileOrBlob,i=n&&n.qqThumbnailId,r=G(t),o={customResizeFunction:e.customResizeFunction,maxSize:S,orient:!0,scale:!0};qq.supportedFeatures.imagePreviews?r?w.limits.maxThumbs&&w.limits.maxThumbs<=_?(K(t,r),k()):F(r).done(function(){C[t]=new qq.Promise,C[t].done(function(){setTimeout(k,w.limits.timeBetweenThumbs)}),null!=i?ne(t,i):T(t,n,o)}):k():r&&(F(r),k())},Z=function(e){var t=e.id,n=e.thumbnailUrl,i=e.showWaitingImg,r=G(t),o={customResizeFunction:e.customResizeFunction,scale:u,maxSize:S};if(r)if(n){if(!(w.limits.maxThumbs&&w.limits.maxThumbs<=_))return i&&F(r),w.imageGenerator.generate(n,r,o).then(function(){te(r),_++,setTimeout(k,w.limits.timeBetweenThumbs)},function(){K(t,r),setTimeout(k,w.limits.timeBetweenThumbs)});K(t,r),k()}else K(t,r),k()},ee=function(e,t){var n=L(e),i=null==e?x.totalProgressBar:x.progressBar;n&&!qq(n).hasClass(i)&&(n=qq(n).getFirstByClass(i)),n&&(qq(n).css({width:t+"%"}),n.setAttribute("aria-valuenow",t))},te=function(e){e&&qq(e).removeClass(w.classes.hide)},ne=function(e,n){var i=G(e),r=G(n);t(qq.format("ID {} is the same file as ID {}.  Will use generated thumbnail from ID {} instead.",e,n,n)),C[n].then(function(){_++,C[e].success(),t(qq.format("Now using previously generated thumbnail created for ID {} on ID {}.",n,e)),i.src=r.src,te(i)},function(){C[e].failure(),w.placeholders.waitUntilUpdate||K(e,i)})};qq.extend(w,e),t=w.log,qq.supportedFeatures.imagePreviews||(w.limits.timeBetweenThumbs=0,w.limits.maxThumbs=0),o=w.containerEl,s=void 0!==w.imageGenerator,r=J(),P(),qq.extend(this,{render:function(){t("Rendering template in DOM."),_=0,o.innerHTML=r.template,W(B()),this.hideTotalProgress(),a=w.fileContainerEl||V(o,x.list),t("Template rendering complete")},renderFailure:function(e){var t=qq.toElement(e);o.innerHTML="",o.appendChild(t)},reset:function(){this.render()},clearFiles:function(){a.innerHTML=""},disableCancel:function(){v=!0},addFile:function(e,t,n,i,s){var u,d=qq.toElement(r.fileTemplate),p=V(d,x.file),f=V(o,x.uploader),q=s?g.content:a;s&&(g.map[e]=d),qq(d).addClass(c+e),f.removeAttribute(h),p&&(qq(p).setText(t),p.setAttribute("title",t)),d.setAttribute(l,e),n?Y(d,n.index,q):q.appendChild(d),i?(d.style.display="none",qq(d).addClass(m)):(W(L(e)),W(j(e)),W(U(e)),W(z(e)),W(H(e)),W(D(e)),v&&this.hideCancel(e),u=G(e),u&&!u.src&&A.then(function(e){u.src=e.src,e.style.maxHeight&&e.style.maxWidth&&qq(u).css({maxHeight:e.style.maxHeight,maxWidth:e.style.maxWidth}),te(u)}))},addFileToCache:function(e,t,n,i){this.addFile(e,t,n,i,!0)},addCacheToDom:function(){a.appendChild(g.content),g.content=document.createDocumentFragment(),g.map={}},removeFile:function(e){qq(N(e)).remove()},getFileId:function(e){var t=e;if(t){for(;null==t.getAttribute(l);)t=t.parentNode;return parseInt(t.getAttribute(l))}},getFileList:function(){return a},markFilenameEditable:function(e){var t=M(e);t&&qq(t).addClass(w.classes.editable)},updateFilename:function(e,t){var n=M(e);n&&(qq(n).setText(t),n.setAttribute("title",t))},hideFilename:function(e){W(M(e))},showFilename:function(e){te(M(e))},isFileName:function(e){return qq(e).hasClass(x.file)},getButton:function(){return w.button||V(o,x.button)},hideDropProcessing:function(){W(B())},showDropProcessing:function(){te(B())},getDropZone:function(){return V(o,x.drop)},isEditFilenamePossible:function(){return n},hideRetry:function(e){W(z(e))},isRetryPossible:function(){return i},showRetry:function(e){te(z(e))},getFileContainer:function(e){return N(e)},showEditIcon:function(e){var t=O(e);t&&qq(t).addClass(w.classes.editable)},isHiddenForever:function(e){return qq(N(e)).hasClass(m)},hideEditIcon:function(e){var t=O(e);t&&qq(t).removeClass(w.classes.editable)},isEditIcon:function(e){return qq(e).hasClass(x.editNameIcon,!0)},getEditInput:function(e){return V(N(e),x.editFilenameInput)},isEditInput:function(e){return qq(e).hasClass(x.editFilenameInput,!0)},updateProgress:function(e,t,n){var i,r=L(e);r&&n>0&&(i=Math.round(t/n*100),100===i?W(r):te(r),ee(e,i))},updateTotalProgress:function(e,t){this.updateProgress(null,e,t)},hideProgress:function(e){var t=L(e);t&&W(t)},hideTotalProgress:function(){this.hideProgress()},resetProgress:function(e){ee(e,0),this.hideTotalProgress(e)},resetTotalProgress:function(){this.resetProgress()},showCancel:function(e){if(!v){var t=I(e);t&&qq(t).removeClass(w.classes.hide)}},hideCancel:function(e){W(I(e))},isCancel:function(e){return qq(e).hasClass(x.cancel,!0)},allowPause:function(e){te(H(e)),W(D(e))},uploadPaused:function(e){this.setStatusText(e,w.text.paused),this.allowContinueButton(e),W($(e))},hidePause:function(e){W(H(e))},isPause:function(e){return qq(e).hasClass(x.pause,!0)},isContinueButton:function(e){return qq(e).hasClass(x.continueButton,!0)},allowContinueButton:function(e){te(D(e)),W(H(e))},uploadContinued:function(e){this.setStatusText(e,""),this.allowPause(e),te($(e))},showDeleteButton:function(e){te(U(e))},hideDeleteButton:function(e){W(U(e))},isDeleteButton:function(e){return qq(e).hasClass(x.deleteButton,!0)},isRetry:function(e){return qq(e).hasClass(x.retry,!0)},updateSize:function(e,t){var n=j(e);n&&(te(n),qq(n).setText(t))},setStatusText:function(e,t){var n=V(N(e),x.statusText);n&&(null==t?qq(n).clearText():qq(n).setText(t))},hideSpinner:function(e){qq(N(e)).removeClass(q),W($(e))},showSpinner:function(e){qq(N(e)).addClass(q),te($(e))},generatePreview:function(e,t,n){this.isHiddenForever(e)||(b.push({id:e,customResizeFunction:n,optFileOrBlob:t}),!y&&k())},updateThumbnail:function(e,t,n,i){this.isHiddenForever(e)||(b.push({customResizeFunction:i,update:!0,id:e,thumbnailUrl:t,showWaitingImg:n}),!y&&k())},hasDialog:function(e){return qq.supportedFeatures.dialogElement&&!!R(e)},showDialog:function(e,t,n){var i=R(e),r=V(i,x.dialogMessage),o=i.getElementsByTagName("INPUT")[0],a=V(i,x.dialogCancelButton),s=V(i,x.dialogOkButton),u=new qq.Promise,l=function(){a.removeEventListener("click",c),s&&s.removeEventListener("click",d),u.failure()},c=function(){a.removeEventListener("click",c),i.close()},d=function(){i.removeEventListener("close",l),s.removeEventListener("click",d),i.close(),u.success(o&&o.value)};return i.addEventListener("close",l),a.addEventListener("click",c),s&&s.addEventListener("click",d),o&&(o.value=n),r.textContent=t,i.showModal(),u}})},qq.UiEventHandler=function(e,t){"use strict";function n(e){i.attach(e,r.eventType,function(e){e=e||window.event;var t=e.target||e.srcElement;r.onHandled(t,e)})}var i=new qq.DisposeSupport,r={eventType:"click",attachTo:null,onHandled:function(e,t){}};qq.extend(this,{addHandler:function(e){n(e)},dispose:function(){i.dispose()}}),qq.extend(t,{getFileIdFromItem:function(e){return e.qqFileId},getDisposeSupport:function(){return i}}),qq.extend(r,e),r.attachTo&&n(r.attachTo)},qq.FileButtonsClickHandler=function(e){"use strict";function t(e,t){qq.each(r,function(n,r){var o,a=n.charAt(0).toUpperCase()+n.slice(1);if(i.templating["is"+a](e))return o=i.templating.getFileId(e),qq.preventDefault(t),i.log(qq.format("Detected valid file button click event on file '{}', ID: {}.",i.onGetName(o),o)),r(o),!1})}var n={},i={templating:null,log:function(e,t){},onDeleteFile:function(e){},onCancel:function(e){},onRetry:function(e){},onPause:function(e){},onContinue:function(e){},onGetName:function(e){}},r={cancel:function(e){i.onCancel(e)},retry:function(e){i.onRetry(e)},deleteButton:function(e){i.onDeleteFile(e)},pause:function(e){i.onPause(e)},continueButton:function(e){i.onContinue(e)}};qq.extend(i,e),i.eventType="click",i.onHandled=t,i.attachTo=i.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(i,n))},qq.FilenameClickHandler=function(e){"use strict";function t(e,t){if(i.templating.isFileName(e)||i.templating.isEditIcon(e)){var r=i.templating.getFileId(e),o=i.onGetUploadStatus(r);o===qq.status.SUBMITTED&&(i.log(qq.format("Detected valid filename click event on file '{}', ID: {}.",i.onGetName(r),r)),qq.preventDefault(t),n.handleFilenameEdit(r,e,!0))}}var n={},i={templating:null,log:function(e,t){},classes:{file:"qq-upload-file",editNameIcon:"qq-edit-filename-icon"},onGetUploadStatus:function(e){},onGetName:function(e){}};qq.extend(i,e),i.eventType="click",i.onHandled=t,qq.extend(this,new qq.FilenameEditHandler(i,n))},qq.FilenameInputFocusInHandler=function(e,t){"use strict";function n(e,n){if(i.templating.isEditInput(e)){var r=i.templating.getFileId(e),o=i.onGetUploadStatus(r);o===qq.status.SUBMITTED&&(i.log(qq.format("Detected valid filename input focus event on file '{}', ID: {}.",i.onGetName(r),r)),t.handleFilenameEdit(r,e))}}var i={templating:null,onGetUploadStatus:function(e){},log:function(e,t){}};t||(t={}),i.eventType="focusin",i.onHandled=n,qq.extend(i,e),qq.extend(this,new qq.FilenameEditHandler(i,t))},qq.FilenameInputFocusHandler=function(e){"use strict";e.eventType="focus",e.attachTo=null,qq.extend(this,new qq.FilenameInputFocusInHandler(e,{}))},qq.FilenameEditHandler=function(e,t){"use strict";function n(e){var t=s.onGetName(e),n=t.lastIndexOf(".");return n>0&&(t=t.substr(0,n)),t}function i(e){var t=s.onGetName(e);return qq.getExtension(t)}function r(e,t){var n,r=e.value;void 0!==r&&qq.trimStr(r).length>0&&(n=i(t),void 0!==n&&(r=r+"."+n),s.onSetName(t,r)),s.onEditingStatusChange(t,!1)}function o(e,n){t.getDisposeSupport().attach(e,"blur",function(){r(e,n)})}function a(e,n){t.getDisposeSupport().attach(e,"keyup",function(t){var i=t.keyCode||t.which;13===i&&r(e,n)})}var s={templating:null,log:function(e,t){},onGetUploadStatus:function(e){},onGetName:function(e){},onSetName:function(e,t){},onEditingStatusChange:function(e,t){}};qq.extend(s,e),s.attachTo=s.templating.getFileList(),qq.extend(this,new qq.UiEventHandler(s,t)),qq.extend(t,{handleFilenameEdit:function(e,t,i){var r=s.templating.getEditInput(e);s.onEditingStatusChange(e,!0),r.value=n(e),i&&r.focus(),o(r,e),a(r,e)}})},qq.CryptoJS=function(e,t){var n={},i=n.lib={},r=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),o=i.WordArray=r.extend({init:function(e,n){e=this.words=e||[],n!=t?this.sigBytes=n:this.sigBytes=4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,r=e.sigBytes;if(this.clamp(),i%4)for(var o=0;o<r;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[i+o>>>2]|=a<<24-(i+o)%4*8}else if(n.length>65535)for(var o=0;o<r;o+=4)t[i+o>>>2]=n[o>>>2];else t.push.apply(t,n);return this.sigBytes+=r,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new o.init(n,t)}}),a=n.enc={},s=a.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push((o>>>4).toString(16)),i.push((15&o).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new o.init(n,t/2)}},u=a.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],r=0;r<n;r++){var o=t[r>>>2]>>>24-r%4*8&255;i.push(String.fromCharCode(o))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new o.init(n,t)}},l=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},c=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,a=this.blockSize,s=4*a,u=r/s;u=t?e.ceil(u):e.max((0|u)-this._minBufferSize,0);var l=u*a,c=e.min(4*l,r);if(l){for(var d=0;d<l;d+=a)this._doProcessBlock(i,d);var p=i.splice(0,l);n.sigBytes-=c}return new o.init(p,c)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(i.Hasher=c.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){c.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){e&&this._append(e);var t=this._doFinalize();return t},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),n.algo={});return n}(Math),function(){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,i=e.enc;i.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp();for(var r=[],o=0;o<n;o+=3)for(var a=t[o>>>2]>>>24-o%4*8&255,s=t[o+1>>>2]>>>24-(o+1)%4*8&255,u=t[o+2>>>2]>>>24-(o+2)%4*8&255,l=a<<16|s<<8|u,c=0;c<4&&o+.75*c<n;c++)r.push(i.charAt(l>>>6*(3-c)&63));
var d=i.charAt(64);if(d)for(;r.length%4;)r.push(d);return r.join("")},parse:function(e){var t=e.length,i=this._map,r=i.charAt(64);if(r){var o=e.indexOf(r);o!=-1&&(t=o)}for(var a=[],s=0,u=0;u<t;u++)if(u%4){var l=i.indexOf(e.charAt(u-1))<<u%4*2,c=i.indexOf(e.charAt(u))>>>6-u%4*2;a[s>>>2]|=(l|c)<<24-s%4*8,s++}return n.create(a,s)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(){var e=qq.CryptoJS,t=e.lib,n=t.Base,i=e.enc,r=i.Utf8,o=e.algo;o.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=r.parse(t));var n=e.blockSize,i=4*n;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,u=a.words,l=0;l<n;l++)s[l]^=1549556828,u[l]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);t.reset();var i=t.finalize(this._oKey.clone().concat(n));return i}})}(),function(){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,i=t.Hasher,r=e.algo,o=[],a=r.SHA1=i.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],a=n[2],s=n[3],u=n[4],l=0;l<80;l++){if(l<16)o[l]=0|e[t+l];else{var c=o[l-3]^o[l-8]^o[l-14]^o[l-16];o[l]=c<<1|c>>>31}var d=(i<<5|i>>>27)+u+o[l];d+=l<20?(r&a|~r&s)+1518500249:l<40?(r^a^s)+1859775393:l<60?(r&a|r&s|a&s)-1894007588:(r^a^s)-899497514,u=s,s=a,a=r<<30|r>>>2,r=i,i=d}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+a|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;return t[i>>>5]|=128<<24-i%32,t[(i+64>>>9<<4)+14]=Math.floor(n/4294967296),t[(i+64>>>9<<4)+15]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});e.SHA1=i._createHelper(a),e.HmacSHA1=i._createHmacHelper(a)}(),function(e){var t=qq.CryptoJS,n=t.lib,i=n.WordArray,r=n.Hasher,o=t.algo,a=[],s=[];!function(){function t(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var i=2,r=0;r<64;)t(i)&&(r<8&&(a[r]=n(e.pow(i,.5))),s[r]=n(e.pow(i,1/3)),r++),i++}();var u=[],l=o.SHA256=r.extend({_doReset:function(){this._hash=new i.init(a.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],o=n[2],a=n[3],l=n[4],c=n[5],d=n[6],p=n[7],f=0;f<64;f++){if(f<16)u[f]=0|e[t+f];else{var h=u[f-15],q=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=u[f-2],g=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[f]=q+u[f-7]+g+u[f-16]}var v=l&c^~l&d,_=i&r^i&o^r&o,y=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),b=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),S=p+b+v+s[f]+u[f],w=y+_;p=d,d=c,c=l,l=a+S|0,a=o,o=r,r=i,i=S+w|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+l|0,n[5]=n[5]+c|0,n[6]=n[6]+d|0,n[7]=n[7]+p|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[(r+64>>>9<<4)+14]=e.floor(i/4294967296),n[(r+64>>>9<<4)+15]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=r._createHelper(l),t.HmacSHA256=r._createHmacHelper(l)}(Math),function(){if("function"==typeof ArrayBuffer){var e=qq.CryptoJS,t=e.lib,n=t.WordArray,i=n.init,r=n.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var t=e.byteLength,n=[],r=0;r<t;r++)n[r>>>2]|=e[r]<<24-r%4*8;i.call(this,n,t)}else i.apply(this,arguments)};r.prototype=n}}(),qq.s3=qq.s3||{},qq.s3.util=qq.s3.util||function(){"use strict";return{ALGORITHM_PARAM_NAME:"x-amz-algorithm",AWS_PARAM_PREFIX:"x-amz-meta-",CREDENTIAL_PARAM_NAME:"x-amz-credential",DATE_PARAM_NAME:"x-amz-date",REDUCED_REDUNDANCY_PARAM_NAME:"x-amz-storage-class",REDUCED_REDUNDANCY_PARAM_VALUE:"REDUCED_REDUNDANCY",SERVER_SIDE_ENCRYPTION_PARAM_NAME:"x-amz-server-side-encryption",SERVER_SIDE_ENCRYPTION_PARAM_VALUE:"AES256",SESSION_TOKEN_PARAM_NAME:"x-amz-security-token",V4_ALGORITHM_PARAM_VALUE:"AWS4-HMAC-SHA256",V4_SIGNATURE_PARAM_NAME:"x-amz-signature",CASE_SENSITIVE_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNSIGNABLE_REST_HEADER_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5"],UNPREFIXED_PARAM_NAMES:["Cache-Control","Content-Disposition","Content-Encoding","Content-MD5","x-amz-server-side-encryption-customer-algorithm","x-amz-server-side-encryption-customer-key","x-amz-server-side-encryption-customer-key-MD5"],getBucket:function(e){var t,n=[/^(?:https?:\/\/)?([a-z0-9.\-_]+)\.s3(?:-[a-z0-9\-]+)?\.amazonaws\.com/i,/^(?:https?:\/\/)?s3(?:-[a-z0-9\-]+)?\.amazonaws\.com\/([a-z0-9.\-_]+)/i,/^(?:https?:\/\/)?([a-z0-9.\-_]+)/i];return qq.each(n,function(n,i){var r=i.exec(e);if(r)return t=r[1],!1}),t},_getPrefixedParamName:function(e){return qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,e)>=0?e:qq.s3.util.AWS_PARAM_PREFIX+e},getPolicy:function(e){var t={},n=[],i=e.bucket,r=e.date,o=e.clockDrift,a=e.key,s=e.accessKey,u=e.acl,l=e.type,c=e.expectedStatus,d=e.sessionToken,p=e.params,f=qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),h=e.minFileSize,q=e.maxFileSize,m=e.reducedRedundancy,g=e.region,v=e.serverSideEncryption,_=e.signatureVersion;return t.expiration=qq.s3.util.getPolicyExpirationDate(r,o),n.push({acl:u}),n.push({bucket:i}),l&&n.push({"Content-Type":l}),c&&n.push({success_action_status:c.toString()}),f&&n.push({success_action_redirect:f}),m&&(n.push({}),n[n.length-1][qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),d&&(n.push({}),n[n.length-1][qq.s3.util.SESSION_TOKEN_PARAM_NAME]=d),v&&(n.push({}),n[n.length-1][qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),2===_?n.push({key:a}):4===_&&(n.push({}),n[n.length-1][qq.s3.util.ALGORITHM_PARAM_NAME]=qq.s3.util.V4_ALGORITHM_PARAM_VALUE,n.push({}),n[n.length-1].key=a,n.push({}),n[n.length-1][qq.s3.util.CREDENTIAL_PARAM_NAME]=qq.s3.util.getV4CredentialsString({date:r,key:s,region:g}),n.push({}),n[n.length-1][qq.s3.util.DATE_PARAM_NAME]=qq.s3.util.getV4PolicyDate(r,o)),qq.each(p,function(e,t){var i=qq.s3.util._getPrefixedParamName(e),r={};qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,i)>=0?r[i]=t:r[i]=encodeURIComponent(t),n.push(r)}),t.conditions=n,qq.s3.util.enforceSizeLimits(t,h,q),t},refreshPolicyCredentials:function(e,t){var n=!1;qq.each(e.conditions,function(e,i){qq.each(i,function(e,r){e===qq.s3.util.SESSION_TOKEN_PARAM_NAME&&(i[e]=t,n=!0)})}),n||(e.conditions.push({}),e.conditions[e.conditions.length-1][qq.s3.util.SESSION_TOKEN_PARAM_NAME]=t)},generateAwsParams:function(e,t){var n,i={},r=e.params,o=new qq.Promise,a=e.sessionToken,s=e.clockDrift,u=e.type,l=e.key,c=e.accessKey,d=e.acl,p=e.expectedStatus,f=qq.s3.util.getSuccessRedirectAbsoluteUrl(e.successRedirectUrl),h=e.reducedRedundancy,q=e.region,m=e.serverSideEncryption,g=e.signatureVersion,v=new Date,_=e.log;return e.date=v,n=qq.s3.util.getPolicy(e),i.key=l,u&&(i["Content-Type"]=u),p&&(i.success_action_status=p),f&&(i.success_action_redirect=f),h&&(i[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),m&&(i[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),a&&(i[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=a),i.acl=d,qq.each(r,function(e,t){var n=qq.s3.util._getPrefixedParamName(e);qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,n)>=0?i[n]=t:i[n]=encodeURIComponent(t)}),2===g?i.AWSAccessKeyId=c:4===g&&(i[qq.s3.util.ALGORITHM_PARAM_NAME]=qq.s3.util.V4_ALGORITHM_PARAM_VALUE,i[qq.s3.util.CREDENTIAL_PARAM_NAME]=qq.s3.util.getV4CredentialsString({date:v,key:c,region:q}),i[qq.s3.util.DATE_PARAM_NAME]=qq.s3.util.getV4PolicyDate(v,s)),t(n).then(function(t,n,r){i.policy=t.policy,2===e.signatureVersion?(i.signature=t.signature,n&&(i.AWSAccessKeyId=n)):4===e.signatureVersion&&(i[qq.s3.util.V4_SIGNATURE_PARAM_NAME]=t.signature),r&&(i[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=r),o.success(i)},function(e){e=e||"Can't continue further with request to S3 as we did not receive a valid signature and policy from the server.",_("Policy signing failed.  "+e,"error"),o.failure(e)}),o},enforceSizeLimits:function(e,t,n){var i=t<0?0:t,r=n<=0?9007199254740992:n;(t>0||n>0)&&e.conditions.push(["content-length-range",i.toString(),r.toString()])},getPolicyExpirationDate:function(e,t){var n=new Date(e.getTime()+t);return qq.s3.util.getPolicyDate(n,5)},getCredentialsDate:function(e){return e.getUTCFullYear()+""+("0"+(e.getUTCMonth()+1)).slice(-2)+("0"+e.getUTCDate()).slice(-2)},getPolicyDate:function(e,t){var n,i,r=t||0;return e.setMinutes(e.getMinutes()+(r||0)),Date.prototype.toISOString?e.toISOString():(n=function(e){return i=String(e),1===i.length&&(i="0"+i),i},e.getUTCFullYear()+"-"+n(e.getUTCMonth()+1)+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+String((e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z")},parseIframeResponse:function(e){var t=e.contentDocument||e.contentWindow.document,n=t.location.search,i=/bucket=(.+)&key=(.+)&etag=(.+)/.exec(n);if(i)return{bucket:i[1],key:i[2],etag:i[3].replace(/%22/g,"")}},getSuccessRedirectAbsoluteUrl:function(e){if(e){var t,n=document.createElement("div");return qq.ie7()?(n.innerHTML="<a href='"+e+"'></a>",t=n.firstChild,t.href):(t=document.createElement("a"),t.href=e,t.href=t.href,t.href)}},getV4CredentialsString:function(e){return e.key+"/"+qq.s3.util.getCredentialsDate(e.date)+"/"+e.region+"/s3/aws4_request"},getV4PolicyDate:function(e,t){var n=new Date(e.getTime()+t);return qq.s3.util.getCredentialsDate(n)+"T"+("0"+n.getUTCHours()).slice(-2)+("0"+n.getUTCMinutes()).slice(-2)+("0"+n.getUTCSeconds()).slice(-2)+"Z"},encodeQueryStringParam:function(e){var t=encodeURIComponent(e);return t=t.replace(/[!'()]/g,escape),t=t.replace(/\*/g,"%2A"),t.replace(/%20/g,"+")},uriEscape:function(e){var t=encodeURIComponent(e);return t=t.replace(/[^A-Za-z0-9_.~\-%]+/g,escape),t=t.replace(/[*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},uriEscapePath:function(e){var t=[];return qq.each(e.split("/"),function(e,n){t.push(qq.s3.util.uriEscape(n))}),t.join("/")}}}(),function(){"use strict";qq.nonTraditionalBasePublicApi={setUploadSuccessParams:function(e,t){this._uploadSuccessParamsStore.set(e,t)},setUploadSuccessEndpoint:function(e,t){this._uploadSuccessEndpointStore.set(e,t)}},qq.nonTraditionalBasePrivateApi={_onComplete:function(e,t,n,i){var r,o,a=!!n.success,s=this,u=arguments,l=this._uploadSuccessEndpointStore.get(e),c=this._options.uploadSuccess.customHeaders,d=this._options.uploadSuccess.method,p=this._options.cors,f=new qq.Promise,h=this._uploadSuccessParamsStore.get(e),q=this._paramsStore.get(e),m=function(t){delete s._failedSuccessRequestCallbacks[e],qq.extend(n,t),qq.FineUploaderBasic.prototype._onComplete.apply(s,u),f.success(t)},g=function(o){var a=r;qq.extend(n,o),n&&n.reset&&(a=null),a?s._failedSuccessRequestCallbacks[e]=a:delete s._failedSuccessRequestCallbacks[e],s._onAutoRetry(e,t,n,i,a)||(qq.FineUploaderBasic.prototype._onComplete.apply(s,u),f.failure(o))};return a&&l?(o=new qq.UploadSuccessAjaxRequester({endpoint:l,method:d,customHeaders:c,cors:p,log:qq.bind(this.log,this)}),qq.extend(h,s._getEndpointSpecificParams(e,n,i),!0),q&&qq.extend(h,q,!0),r=qq.bind(function(){o.sendSuccessRequest(e,h).then(m,g)},s),r(),f):qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments)},_manualRetry:function(e){var t=this._failedSuccessRequestCallbacks[e];return qq.FineUploaderBasic.prototype._manualRetry.call(this,e,t)}}}(),function(){"use strict";qq.s3.FineUploaderBasic=function(e){var t={request:{accessKey:null,clockDrift:0},objectProperties:{acl:"private",bucket:qq.bind(function(e){return qq.s3.util.getBucket(this.getEndpoint(e))},this),host:qq.bind(function(e){return/(?:http|https):\/\/(.+)(?:\/.+)?/.exec(this._endpointStore.get(e))[1]},this),key:"uuid",reducedRedundancy:!1,region:"us-east-1",serverSideEncryption:!1},credentials:{accessKey:null,secretKey:null,expiration:null,sessionToken:null},signature:{customHeaders:{},endpoint:null,version:2},uploadSuccess:{endpoint:null,method:"POST",params:{},customHeaders:{}},iframeSupport:{localBlankPagePath:null},chunking:{partSize:5242880},cors:{allowXdr:!0},callbacks:{onCredentialsExpired:function(){}}};qq.extend(t,e,!0),this.setCredentials(t.credentials,!0)||(this._currentCredentials.accessKey=t.request.accessKey),this._aclStore=this._createStore(t.objectProperties.acl),qq.FineUploaderBasic.call(this,t),this._uploadSuccessParamsStore=this._createStore(this._options.uploadSuccess.params),this._uploadSuccessEndpointStore=this._createStore(this._options.uploadSuccess.endpoint),this._failedSuccessRequestCallbacks={},this._cannedKeys={},this._cannedBuckets={},this._buckets={},this._hosts={}},qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.basePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.nonTraditionalBasePublicApi),qq.extend(qq.s3.FineUploaderBasic.prototype,qq.nonTraditionalBasePrivateApi),qq.extend(qq.s3.FineUploaderBasic.prototype,{getBucket:function(e){return null==this._cannedBuckets[e]?this._buckets[e]:this._cannedBuckets[e]},getKey:function(e){return null==this._cannedKeys[e]?this._handler.getThirdPartyFileId(e):this._cannedKeys[e]},reset:function(){qq.FineUploaderBasic.prototype.reset.call(this),this._failedSuccessRequestCallbacks=[],this._buckets={},this._hosts={}},setCredentials:function(e,t){if(e&&e.secretKey){if(!e.accessKey)throw new qq.Error("Invalid credentials: no accessKey");if(!e.expiration)throw new qq.Error("Invalid credentials: no expiration");return this._currentCredentials=qq.extend({},e),qq.isString(e.expiration)&&(this._currentCredentials.expiration=new Date(e.expiration)),!0}if(!t)throw new qq.Error("Invalid credentials parameter!");this._currentCredentials={}},setAcl:function(e,t){this._aclStore.set(e,t)},_createUploadHandler:function(){var e=this,t={aclStore:this._aclStore,getBucket:qq.bind(this._determineBucket,this),getHost:qq.bind(this._determineHost,this),getKeyName:qq.bind(this._determineKeyName,this),iframeSupport:this._options.iframeSupport,objectProperties:this._options.objectProperties,signature:this._options.signature,clockDrift:this._options.request.clockDrift,validation:{minSizeLimit:this._options.validation.minSizeLimit,maxSizeLimit:this._options.validation.sizeLimit}};return qq.override(this._endpointStore,function(e){return{get:function(t){var n=e.get(t);return n.indexOf("http")<0?"http://"+n:n}}}),qq.override(this._paramsStore,function(e){return{get:function(t){var n=e.get(t),i={};return qq.each(n,function(e,t){var n=e;qq.indexOf(qq.s3.util.CASE_SENSITIVE_PARAM_NAMES,n)<0&&(n=n.toLowerCase()),i[n]=qq.isFunction(t)?t():t}),i}}}),t.signature.credentialsProvider={get:function(){return e._currentCredentials},onExpired:function(){var t=new qq.Promise,n=e._options.callbacks.onCredentialsExpired();return qq.isGenericPromise(n)?n.then(function(n){try{e.setCredentials(n),t.success()}catch(n){e.log("Invalid credentials returned from onCredentialsExpired callback! ("+n.message+")","error"),t.failure("onCredentialsExpired did not return valid credentials.")}},function(n){e.log("onCredentialsExpired callback indicated failure! ("+n+")","error"),t.failure("onCredentialsExpired callback failed.")}):(e.log("onCredentialsExpired callback did not return a promise!","error"),t.failure("Unexpected return value for onCredentialsExpired.")),t}},qq.FineUploaderBasic.prototype._createUploadHandler.call(this,t,"s3")},_determineObjectPropertyValue:function(e,t){var n=this._options.objectProperties[t],i=new qq.Promise,r=this;return qq.isFunction(n)?(n=n(e),qq.isGenericPromise(n)?i=n:i.success(n)):qq.isString(n)&&i.success(n),i.then(function(n){r["_"+t+"s"][e]=n},function(n){qq.log("Problem determining "+t+" for ID "+e+" ("+n+")","error")}),i},_determineBucket:function(e){return this._determineObjectPropertyValue(e,"bucket")},_determineHost:function(e){return this._determineObjectPropertyValue(e,"host")},_determineKeyName:function(e,t){var n=new qq.Promise,i=this._options.objectProperties.key,r=qq.getExtension(t),o=n.failure,a=function(e,t){var i=e;void 0!==t&&(i+="."+t),n.success(i)};switch(i){case"uuid":a(this.getUuid(e),r);break;case"filename":a(t);break;default:qq.isFunction(i)?this._handleKeynameFunction(i,e,a,o):(this.log(i+" is not a valid value for the s3.keyname option!","error"),o())}return n},_handleKeynameFunction:function(e,t,n,i){var r=this,o=function(e){n(e)},a=function(e){r.log(qq.format("Failed to retrieve key name for {}.  Reason: {}",t,e||"null"),"error"),i(e)},s=e.call(this,t);qq.isGenericPromise(s)?s.then(o,a):null==s?a():o(s)},_getEndpointSpecificParams:function(e,t,n){var i={key:this.getKey(e),uuid:this.getUuid(e),name:this.getName(e),bucket:this.getBucket(e)};return n&&n.getResponseHeader("ETag")?i.etag=n.getResponseHeader("ETag"):t.etag&&(i.etag=t.etag),i},_onSubmitDelete:function(e,t){var n={key:this.getKey(e),bucket:this.getBucket(e)};return qq.FineUploaderBasic.prototype._onSubmitDelete.call(this,e,t,n)},_addCannedFile:function(e){var t;if(null==e.s3Key)throw new qq.Error("Did not find s3Key property in server session response.  This is required!");return t=qq.FineUploaderBasic.prototype._addCannedFile.apply(this,arguments),this._cannedKeys[t]=e.s3Key,this._cannedBuckets[t]=e.s3Bucket,t}})}(),window.Uint8ClampedArray||(window.Uint8ClampedArray=function(){}),qq.s3.RequestSigner=function(e){"use strict";function t(e,t,n){var i,r,o=t.responseText,a=l[e],s=a.promise,u=a.signatureConstructor;if(delete l[e],o)try{r=qq.parseJson(o)}catch(e){c.log("Error attempting to parse signature response: "+e,"error")}r&&r.invalid?(n=!0,i="Invalid policy document or request headers!"):r?c.expectingPolicy&&!r.policy?(n=!0,i="Response does not include the base64 encoded policy!"):r.signature||(n=!0,i="Response does not include the signature!"):(n=!0,i="Received an empty or invalid response from the server!"),n?(i&&c.log(i,"error"),s.failure(i)):u?d(u,r.signature,s):s.success(r)}function n(e,t,n){var i,r,o,a=new qq.Promise,s="POST",l=[],d="",h=new Date,q=function(e){var n,a=[];return qq.each(e.headers,function(e){l.push(e)}),l.sort(),qq.each(l,function(t,i){qq.indexOf(qq.s3.util.UNSIGNABLE_REST_HEADER_NAMES,i)<0?d+=i.toLowerCase()+":"+e.headers[i].trim()+"\n":"Content-MD5"===i?n=e.headers[i]:a.unshift(t)}),qq.each(a,function(e,t){l.splice(t,1)}),r={bucket:e.bucket,contentMd5:n,contentType:e.contentType,date:h,drift:c.signatureSpec.drift,endOfUrl:i,hashedContent:e.hashedContent,headerNames:l,headersStr:d,method:s},o=2===t?p.getStringToSign(r):f.getStringToSign(r),{date:h,endOfUrl:i,signedHeaders:4===t?f.getSignedHeaders(r.headerNames):null,toSign:4===t?o.hashed:o,toSignRaw:4===t?o.raw:o}};switch(n.type){case u.REQUEST_TYPE.MULTIPART_ABORT:s="DELETE",i=qq.format("uploadId={}",n.uploadId);break;case u.REQUEST_TYPE.MULTIPART_INITIATE:i="uploads";break;case u.REQUEST_TYPE.MULTIPART_COMPLETE:i=qq.format("uploadId={}",n.uploadId);break;case u.REQUEST_TYPE.MULTIPART_UPLOAD:s="PUT",i=qq.format("partNumber={}&uploadId={}",n.partNum,n.uploadId)}return i=n.key+"?"+i,4===t?f.getEncodedHashedPayload(n.content).then(function(e){n.headers["x-amz-content-sha256"]=e,n.headers.Host=n.host,n.headers["x-amz-date"]=qq.s3.util.getV4PolicyDate(h,c.signatureSpec.drift),n.hashedContent=e,a.success(q(n))},function(e){a.failure(e)}):a.success(q(n)),a}function i(e,t,n,i,a){var s;t.signatureConstructor?(a&&(s=t.signatureConstructor.getHeaders(),s[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=a,t.signatureConstructor.withHeaders(s)),t.signatureConstructor.getToSign(e).then(function(e){o(t.signatureConstructor,e.stringToSign,n)},function(e){n.failure(e)})):(a&&qq.s3.util.refreshPolicyCredentials(t,a),r(t,n,i,a))}function r(e,t,n,i){4===c.signatureSpec.version?f.signPolicy(e,t,n,i):p.signPolicy(e,t,n,i)}function o(e,t,n){4===c.signatureSpec.version?f.signApiRequest(e,t,n):p.signApiRequest(e,t,n)}var a,s,u=this,l={},c={expectingPolicy:!1,method:"POST",signatureSpec:{drift:0,credentialsProvider:{},endpoint:null,customHeaders:{},version:2},maxConnections:3,endpointStore:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){}},d=function(e,t,n){var i=e.getHeaders();4===c.signatureSpec.version?i.Authorization=qq.s3.util.V4_ALGORITHM_PARAM_VALUE+" Credential="+c.signatureSpec.credentialsProvider.get().accessKey+"/"+qq.s3.util.getCredentialsDate(e.getRequestDate())+"/"+c.signatureSpec.region+"/s3/aws4_request,SignedHeaders="+e.getSignedHeaders()+",Signature="+t:i.Authorization="AWS "+c.signatureSpec.credentialsProvider.get().accessKey+":"+t,n.success(i,e.getEndOfUrl())},p={getStringToSign:function(e){return qq.format("{}\n{}\n{}\n\n{}/{}/{}",e.method,e.contentMd5||"",e.contentType||"",e.headersStr||"\n",e.bucket,e.endOfUrl)},signApiRequest:function(e,t,n){var i=qq.CryptoJS.enc.Utf8.parse(t),r=qq.CryptoJS.HmacSHA1(i,s.get().secretKey),o=qq.CryptoJS.enc.Base64.stringify(r);d(e,o,n)},signPolicy:function(e,t,n,i){var r=JSON.stringify(e),o=qq.CryptoJS.enc.Utf8.parse(r),a=qq.CryptoJS.enc.Base64.stringify(o),u=qq.CryptoJS.HmacSHA1(a,s.get().secretKey),l=qq.CryptoJS.enc.Base64.stringify(u);t.success({policy:a,signature:l},n,i)}},f={getCanonicalQueryString:function(e){var t,n,i,r=e.indexOf("?"),o="";return r>=0&&(t={},i=e.substr(r+1).split("&"),qq.each(i,function(e,n){var i=n.split("="),r=i[1];null==r&&(r=""),t[encodeURIComponent(i[0])]=encodeURIComponent(r)}),n=Object.keys(t).sort(),n.forEach(function(e,i){o+=e+"="+t[e],i<n.length-1&&(o+="&")})),o},getCanonicalRequest:function(e){return qq.format("{}\n{}\n{}\n{}\n{}\n{}",e.method,f.getCanonicalUri(e.endOfUrl),f.getCanonicalQueryString(e.endOfUrl),e.headersStr||"\n",f.getSignedHeaders(e.headerNames),e.hashedContent)},getCanonicalUri:function(e){var t=e,n=e.indexOf("?");return n>0&&(t=e.substr(0,n)),"/"+t},getEncodedHashedPayload:function(e){var t,n=new qq.Promise;return qq.isBlob(e)?(t=new FileReader,t.onloadend=function(e){if(e.target.readyState===FileReader.DONE)if(e.target.error)n.failure(e.target.error);else{var t=qq.CryptoJS.lib.WordArray.create(e.target.result);n.success(qq.CryptoJS.SHA256(t).toString())}},t.readAsArrayBuffer(e)):(e=e||"",n.success(qq.CryptoJS.SHA256(e).toString())),n},getScope:function(e,t){return qq.s3.util.getCredentialsDate(e)+"/"+t+"/s3/aws4_request"},getStringToSign:function(e){var t=f.getCanonicalRequest(e),n=qq.s3.util.getV4PolicyDate(e.date,e.drift),i=qq.CryptoJS.SHA256(t).toString(),r=f.getScope(e.date,c.signatureSpec.region),o="AWS4-HMAC-SHA256\n{}\n{}\n{}";return{hashed:qq.format(o,n,r,i),raw:qq.format(o,n,r,t)}},getSignedHeaders:function(e){var t="";return e.forEach(function(n,i){t+=n.toLowerCase(),i<e.length-1&&(t+=";")}),t},signApiRequest:function(e,t,n){var i,r,o,a,u=s.get().secretKey,l=/.+\n.+\n(\d+)\/(.+)\/s3\/.+\n(.+)/,c=l.exec(t);i=qq.CryptoJS.HmacSHA256(c[1],"AWS4"+u),r=qq.CryptoJS.HmacSHA256(c[2],i),o=qq.CryptoJS.HmacSHA256("s3",r),a=qq.CryptoJS.HmacSHA256("aws4_request",o),d(e,qq.CryptoJS.HmacSHA256(t,a),n)},signPolicy:function(e,t,n,i){var r,o,a,u,l,c=JSON.stringify(e),d=qq.CryptoJS.enc.Utf8.parse(c),p=qq.CryptoJS.enc.Base64.stringify(d),f=s.get().secretKey,h=/.+\/(.+)\/(.+)\/s3\/aws4_request/,q=function(){var t=null;return qq.each(e.conditions,function(e,n){var i=n["x-amz-credential"];if(i)return t=i,!1}),t}();r=h.exec(q),o=qq.CryptoJS.HmacSHA256(r[1],"AWS4"+f),a=qq.CryptoJS.HmacSHA256(r[2],o),u=qq.CryptoJS.HmacSHA256("s3",a),l=qq.CryptoJS.HmacSHA256("aws4_request",u),t.success({policy:p,signature:qq.CryptoJS.HmacSHA256(p,l).toString()},n,i)}};qq.extend(c,e,!0),s=c.signatureSpec.credentialsProvider,a=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:c.method,contentType:"application/json; charset=utf-8",endpointStore:{get:function(){return c.signatureSpec.endpoint}},paramsStore:c.paramsStore,maxConnections:c.maxConnections,customHeaders:c.signatureSpec.customHeaders,log:c.log,onComplete:t,cors:c.cors})),qq.extend(this,{getSignature:function(e,t){var n,r=t,o=t.signatureConstructor,u=new qq.Promise;return 4===c.signatureSpec.version&&(n={v4:!0}),s.get().secretKey&&qq.CryptoJS?s.get().expiration.getTime()>Date.now()?i(e,t,u):s.onExpired().then(function(){i(e,t,u,s.get().accessKey,s.get().sessionToken)},function(e){c.log("Attempt to update expired credentials apparently failed! Unable to sign request.  ","error"),u.failure("Unable to sign request - expired credentials.")}):(c.log("Submitting S3 signature request for "+e),o?o.getToSign(e).then(function(t){r={headers:t.stringToSignRaw},a.initTransport(e).withParams(r).withQueryParams(n).send()},function(e){c.log("Failed to construct signature. ","error"),u.failure("Failed to construct signature.")}):a.initTransport(e).withParams(r).withQueryParams(n).send(),l[e]={promise:u,signatureConstructor:o}),u},constructStringToSign:function(e,t,i,r){var o,a,u,l,d,p={};return{withHeaders:function(e){return p=e,this},withUploadId:function(e){return o=e,this},withContent:function(e){return a=e,this},withContentType:function(e){return u=e,this},withPartNum:function(e){return l=e,this},getToSign:function(f){var h=s.get().sessionToken,q=new qq.Promise,m=new Date(Date.now()+c.signatureSpec.drift);return p["x-amz-date"]=m.toUTCString(),h&&(p[qq.s3.util.SESSION_TOKEN_PARAM_NAME]=h),n(f,c.signatureSpec.version,{bucket:t,content:a,contentType:u,headers:p,host:i,key:r,partNum:l,type:e,uploadId:o}).then(function(e){d=e,q.success({headers:function(){return u&&(p["Content-Type"]=u),delete p.Host,p}(),date:d.date,endOfUrl:d.endOfUrl,signedHeaders:d.signedHeaders,stringToSign:d.toSign,stringToSignRaw:d.toSignRaw})},function(e){q.failure(e)}),q},getHeaders:function(){return qq.extend({},p)},getEndOfUrl:function(){return d&&d.endOfUrl},getRequestDate:function(){return d&&d.date},getSignedHeaders:function(){return d&&d.signedHeaders}}}})},qq.s3.RequestSigner.prototype.REQUEST_TYPE={MULTIPART_INITIATE:"multipart_initiate",MULTIPART_COMPLETE:"multipart_complete",MULTIPART_ABORT:"multipart_abort",MULTIPART_UPLOAD:"multipart_upload"},qq.UploadSuccessAjaxRequester=function(e){"use strict";function t(e,t,n){var o,a=i[e],s=t.responseText,u={success:!0},l={success:!1};delete i[e],r.log(qq.format("Received the following response body to an upload success request for id {}: {}",e,s));try{o=qq.parseJson(s),n||o&&(o.error||o.success===!1)?(r.log("Upload success request was rejected by the server.","error"),a.failure(qq.extend(o,l))):(r.log("Upload success was acknowledged by the server."),a.success(qq.extend(o,u)))}catch(t){n?(r.log(qq.format("Your server indicated failure in its upload success request response for id {}!",e),"error"),a.failure(l)):(r.log("Upload success was acknowledged by the server."),a.success(u))}}var n,i=[],r={method:"POST",endpoint:null,maxConnections:3,customHeaders:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){}};qq.extend(r,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:r.method,endpointStore:{get:function(){return r.endpoint}},paramsStore:r.paramsStore,maxConnections:r.maxConnections,customHeaders:r.customHeaders,log:r.log,onComplete:t,cors:r.cors})),qq.extend(this,{sendSuccessRequest:function(e,t){var o=new qq.Promise;return r.log("Submitting upload success request/notification for "+e),n.initTransport(e).withParams(t).send(),i[e]=o,o}})},qq.s3.InitiateMultipartAjaxRequester=function(e){"use strict";function t(e){var t,n=a.getBucket(e),i=a.getHost(e),o={},s=new qq.Promise,u=a.getKey(e);return o["x-amz-acl"]=a.aclStore.get(e),a.reducedRedundancy&&(o[qq.s3.util.REDUCED_REDUNDANCY_PARAM_NAME]=qq.s3.util.REDUCED_REDUNDANCY_PARAM_VALUE),a.serverSideEncryption&&(o[qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_NAME]=qq.s3.util.SERVER_SIDE_ENCRYPTION_PARAM_VALUE),o[qq.s3.util.AWS_PARAM_PREFIX+a.filenameParam]=encodeURIComponent(a.getName(e)),qq.each(a.paramsStore.get(e),function(e,t){qq.indexOf(qq.s3.util.UNPREFIXED_PARAM_NAMES,e)>=0?o[e]=t:o[qq.s3.util.AWS_PARAM_PREFIX+e]=encodeURIComponent(t)}),t=r.constructStringToSign(r.REQUEST_TYPE.MULTIPART_INITIATE,n,i,u).withContentType(a.getContentType(e)).withHeaders(o),r.getSignature(e,{signatureConstructor:t}).then(s.success,s.failure),s}function n(e,t,n){var i,r,s,u,l,c=o[e],d=new DOMParser,p=d.parseFromString(t.responseText,"application/xml");delete o[e],n?(l=t.status,r=p.getElementsByTagName("Message"),r.length>0&&(u=r[0].textContent)):(i=p.getElementsByTagName("UploadId"),i.length>0?s=i[0].textContent:u="Upload ID missing from request"),void 0===s?(u?a.log(qq.format("Specific problem detected initiating multipart upload request for {}: '{}'.",e,u),"error"):a.log(qq.format("Unexplained error with initiate multipart upload request for {}.  Status code {}.",e,l),"error"),c.failure("Problem initiating upload request.",t)):(a.log(qq.format("Initiate multipart upload request successful for {}.  Upload ID is {}",e,s)),c.success(s,t))}var i,r,o={},a={filenameParam:"qqfilename",method:"POST",endpointStore:null,paramsStore:null,signatureSpec:null,aclStore:null,reducedRedundancy:!1,serverSideEncryption:!1,maxConnections:3,getContentType:function(e){},getBucket:function(e){},getHost:function(e){},getKey:function(e){},getName:function(e){},log:function(e,t){}};qq.extend(a,e),r=new qq.s3.RequestSigner({endpointStore:a.endpointStore,signatureSpec:a.signatureSpec,cors:a.cors,log:a.log}),i=qq.extend(this,new qq.AjaxRequester({method:a.method,contentType:null,endpointStore:a.endpointStore,maxConnections:a.maxConnections,allowXRequestedWithAndCacheControl:!1,log:a.log,onComplete:n,successfulResponseCodes:{POST:[200]}})),qq.extend(this,{send:function(e){var n=new qq.Promise;return t(e).then(function(t,r){a.log("Submitting S3 initiate multipart upload request for "+e),o[e]=n,i.initTransport(e).withPath(r).withHeaders(t).send()},n.failure),n}})},qq.s3.CompleteMultipartAjaxRequester=function(e){"use strict";function t(e,t,n){var i=new qq.Promise,r=s.getBucket(e),a=s.getHost(e),u=o.constructStringToSign(o.REQUEST_TYPE.MULTIPART_COMPLETE,r,a,s.getKey(e)).withUploadId(t).withContent(n).withContentType("application/xml; charset=UTF-8");return o.getSignature(e,{signatureConstructor:u}).then(i.success,i.failure),i}function n(e,t,n){var i=a[e],r=new DOMParser,o=s.getBucket(e),u=(s.getKey(e),r.parseFromString(t.responseText,"application/xml")),l=u.getElementsByTagName("Bucket"),c=u.getElementsByTagName("Key");delete a[e],s.log(qq.format("Complete response status {}, body = {}",t.status,t.responseText)),n?s.log(qq.format("Complete Multipart Upload request for {} failed with status {}.",e,t.status),"error"):l.length&&c.length?l[0].textContent!==o&&(n=!0,s.log(qq.format("Wrong bucket in response to Complete Multipart Upload request for {}.",e),"error")):(n=!0,s.log(qq.format("Missing bucket and/or key in response to Complete Multipart Upload request for {}.",e),"error")),n?i.failure("Problem combining the file parts!",t):i.success({},t)}function i(e){var t=document.implementation.createDocument(null,"CompleteMultipartUpload",null);return e.sort(function(e,t){return e.part-t.part}),qq.each(e,function(e,n){var i=n.part,r=n.etag,o=t.createElement("Part"),a=t.createElement("PartNumber"),s=t.createTextNode(i),u=t.createTextNode(r),l=t.createElement("ETag");l.appendChild(u),a.appendChild(s),o.appendChild(a),o.appendChild(l),qq(t).children()[0].appendChild(o)}),(new XMLSerializer).serializeToString(t)}var r,o,a={},s={method:"POST",contentType:"text/xml",endpointStore:null,
signatureSpec:null,maxConnections:3,getBucket:function(e){},getHost:function(e){},getKey:function(e){},log:function(e,t){}};qq.extend(s,e),o=new qq.s3.RequestSigner({endpointStore:s.endpointStore,signatureSpec:s.signatureSpec,cors:s.cors,log:s.log}),r=qq.extend(this,new qq.AjaxRequester({method:s.method,contentType:"application/xml; charset=UTF-8",endpointStore:s.endpointStore,maxConnections:s.maxConnections,allowXRequestedWithAndCacheControl:!1,log:s.log,onComplete:n,successfulResponseCodes:{POST:[200]}})),qq.extend(this,{send:function(e,n,o){var u=new qq.Promise,l=i(o);return t(e,n,l).then(function(t,n){s.log("Submitting S3 complete multipart upload request for "+e),a[e]=u,delete t["Content-Type"],r.initTransport(e).withPath(n).withHeaders(t).withPayload(l).send()},u.failure),u}})},qq.s3.AbortMultipartAjaxRequester=function(e){"use strict";function t(e,t){var n=new qq.Promise,i=o.getBucket(e),a=o.getHost(e),s=r.constructStringToSign(r.REQUEST_TYPE.MULTIPART_ABORT,i,a,o.getKey(e)).withUploadId(t);return r.getSignature(e,{signatureConstructor:s}).then(n.success,n.failure),n}function n(e,t,n){var i,r=new DOMParser,a=r.parseFromString(t.responseText,"application/xml"),s=a.getElementsByTagName("Error");o.log(qq.format("Abort response status {}, body = {}",t.status,t.responseText)),n?o.log(qq.format("Abort Multipart Upload request for {} failed with status {}.",e,t.status),"error"):s.length?(n=!0,i=a.getElementsByTagName("Message")[0].textContent,o.log(qq.format("Failed to Abort Multipart Upload request for {}.  Error: {}",e,i),"error")):o.log(qq.format("Abort MPU request succeeded for file ID {}.",e))}var i,r,o={method:"DELETE",endpointStore:null,signatureSpec:null,maxConnections:3,getBucket:function(e){},getHost:function(e){},getKey:function(e){},log:function(e,t){}};qq.extend(o,e),r=new qq.s3.RequestSigner({endpointStore:o.endpointStore,signatureSpec:o.signatureSpec,cors:o.cors,log:o.log}),i=qq.extend(this,new qq.AjaxRequester({validMethods:["DELETE"],method:o.method,contentType:null,endpointStore:o.endpointStore,maxConnections:o.maxConnections,allowXRequestedWithAndCacheControl:!1,log:o.log,onComplete:n,successfulResponseCodes:{DELETE:[204]}})),qq.extend(this,{send:function(e,n){t(e,n).then(function(t,n){o.log("Submitting S3 Abort multipart upload request for "+e),i.initTransport(e).withPath(n).withHeaders(t).send()})}})},qq.s3.XhrUploadHandler=function(e,t){"use strict";var n=t.getName,i=t.log,r=e.clockDrift,o=200,a=e.getBucket,s=e.getHost,u=e.getKeyName,l=e.filenameParam,c=e.paramsStore,d=e.endpointStore,p=e.aclStore,f=e.objectProperties.reducedRedundancy,h=e.objectProperties.region,q=e.objectProperties.serverSideEncryption,m=e.validation,g=qq.extend({region:h,drift:r},e.signature),v=this,_=e.signature.credentialsProvider,y={combine:function(e){var t=v._getPersistableData(e).uploadId,n=v._getPersistableData(e).etags,i=new qq.Promise;return b.completeMultipart.send(e,t,n).then(i.success,function(t,n){i.failure(w.done(e,n).response,n)}),i},done:function(e,t,n){var i,r=w.response.parse(e,t);r.success&&(i=t.getResponseHeader("ETag"),v._getPersistableData(e).etags||(v._getPersistableData(e).etags=[]),v._getPersistableData(e).etags.push({part:n+1,etag:i}))},initHeaders:function(e,t,n){var i=w.bucket.getName(e),r=w.host.getName(e),o=w.key.urlSafe(e),a=new qq.Promise,s=b.restSignature.constructStringToSign(b.restSignature.REQUEST_TYPE.MULTIPART_UPLOAD,i,r,o).withPartNum(t+1).withContent(n).withUploadId(v._getPersistableData(e).uploadId);return b.restSignature.getSignature(e+"."+t,{signatureConstructor:s}).then(a.success,a.failure),a},put:function(t,n){var r=v._createXhr(t,n),o=v._getChunkData(t,n),a=e.endpointStore.get(t),s=new qq.Promise;return y.initHeaders(t,n,o.blob).then(function(e,u){if(r._cancelled)i(qq.format("Upload of item {}.{} cancelled. Upload will not start after successful signature request.",t,n)),s.failure({error:"Chunk upload cancelled"});else{var l=a+"/"+u;v._registerProgressHandler(t,n,o.size),w.track(t,r,n).then(s.success,s.failure),r.open("PUT",l,!0),qq.each(e,function(e,t){r.setRequestHeader(e,t)}),r.send(o.blob)}},function(){s.failure({error:"Problem signing the chunk!"},r)}),s},send:function(e,t){var n=new qq.Promise;return y.setup(e).then(function(){y.put(e,t).then(n.success,n.failure)},function(e,t){n.failure({error:e},t)}),n},setup:function(e){var t=new qq.Promise,n=v._getPersistableData(e).uploadId,i=new qq.Promise;return n?n instanceof qq.Promise?n.then(function(e){t.success(e)}):t.success(n):(v._getPersistableData(e).uploadId=i,b.initiateMultipart.send(e).then(function(n){v._getPersistableData(e).uploadId=n,i.success(n),t.success(n)},function(n,r){v._getPersistableData(e).uploadId=null,t.failure(n,r),i.failure(n,r)})),t}},b={abortMultipart:new qq.s3.AbortMultipartAjaxRequester({endpointStore:d,signatureSpec:g,cors:e.cors,log:i,getBucket:function(e){return w.bucket.getName(e)},getHost:function(e){return w.host.getName(e)},getKey:function(e){return w.key.urlSafe(e)}}),completeMultipart:new qq.s3.CompleteMultipartAjaxRequester({endpointStore:d,signatureSpec:g,cors:e.cors,log:i,getBucket:function(e){return w.bucket.getName(e)},getHost:function(e){return w.host.getName(e)},getKey:function(e){return w.key.urlSafe(e)}}),initiateMultipart:new qq.s3.InitiateMultipartAjaxRequester({filenameParam:l,endpointStore:d,paramsStore:c,signatureSpec:g,aclStore:p,reducedRedundancy:f,serverSideEncryption:q,cors:e.cors,log:i,getContentType:function(e){return v._getMimeType(e)},getBucket:function(e){return w.bucket.getName(e)},getHost:function(e){return w.host.getName(e)},getKey:function(e){return w.key.urlSafe(e)},getName:function(e){return n(e)}}),policySignature:new qq.s3.RequestSigner({expectingPolicy:!0,signatureSpec:g,cors:e.cors,log:i}),restSignature:new qq.s3.RequestSigner({endpointStore:d,signatureSpec:g,cors:e.cors,log:i})},S={initParams:function(e){var t=c.get(e);return t[l]=n(e),qq.s3.util.generateAwsParams({endpoint:d.get(e),clockDrift:r,params:t,type:v._getMimeType(e),bucket:w.bucket.getName(e),key:v.getThirdPartyFileId(e),accessKey:_.get().accessKey,sessionToken:_.get().sessionToken,acl:p.get(e),expectedStatus:o,minFileSize:m.minSizeLimit,maxFileSize:m.maxSizeLimit,reducedRedundancy:f,region:h,serverSideEncryption:q,signatureVersion:g.version,log:i},qq.bind(b.policySignature.getSignature,this,e))},send:function(e){var t=new qq.Promise,n=v._createXhr(e),r=v.getFile(e);return v._registerProgressHandler(e),w.track(e,n).then(t.success,t.failure),S.setup(e,n,r).then(function(t){i("Sending upload request for "+e),n.send(t)},t.failure),t},setup:function(e,t,n){var i=new FormData,r=d.get(e),o=r,a=new qq.Promise;return S.initParams(e).then(function(e){t.open("POST",o,!0),qq.obj2FormData(e,i),i.append("file",n),a.success(i)},function(e){a.failure({error:e})}),a}},w={bucket:{promise:function(e){var t=new qq.Promise,n=v._getFileState(e).bucket;return n?t.success(n):a(e).then(function(n){v._getFileState(e).bucket=n,t.success(n)},t.failure),t},getName:function(e){return v._getFileState(e).bucket}},host:{promise:function(e){var t=new qq.Promise,n=v._getFileState(e).host;return n?t.success(n):s(e).then(function(n){v._getFileState(e).host=n,t.success(n)},t.failure),t},getName:function(e){return v._getFileState(e).host}},done:function(e,t){var n=w.response.parse(e,t),r=n.success!==!0;return r&&w.response.shouldReset(n.code)&&(i("This is an unrecoverable error, we must restart the upload entirely on the next retry attempt.","error"),n.reset=!0),{success:!r,response:n}},key:{promise:function(e){var t=new qq.Promise,i=v.getThirdPartyFileId(e);return null==i?(v._setThirdPartyFileId(e,t),u(e,n(e)).then(function(n){v._setThirdPartyFileId(e,n),t.success(n)},function(n){v._setThirdPartyFileId(e,null),t.failure(n)})):qq.isGenericPromise(i)?i.then(t.success,t.failure):t.success(i),t},urlSafe:function(e){var t=v.getThirdPartyFileId(e);return qq.s3.util.uriEscapePath(t)}},response:{parse:function(e,t){var n,r={};try{i(qq.format("Received response status {} with body: {}",t.status,t.responseText)),t.status===o?r.success=!0:(n=w.response.parseError(t.responseText),n&&(r.error=n.message,r.code=n.code))}catch(e){i("Error when attempting to parse xhr response text ("+e.message+")","error")}return r},parseError:function(e){var t,n,i=new DOMParser,r=i.parseFromString(e,"application/xml"),o=r.getElementsByTagName("Error"),a={};if(o.length)return t=r.getElementsByTagName("Code"),n=r.getElementsByTagName("Message"),n.length&&(a.message=n[0].textContent),t.length&&(a.code=t[0].textContent),a},shouldReset:function(e){return"EntityTooSmall"===e||"InvalidPart"===e||"InvalidPartOrder"===e||"NoSuchUpload"===e}},start:function(e,t){var n=new qq.Promise;return w.key.promise(e).then(function(){w.bucket.promise(e).then(function(){w.host.promise(e).then(function(){null==t?S.send(e).then(n.success,n.failure):y.send(e,t).then(n.success,n.failure)})})},function(e){n.failure({error:e})}),n},track:function(e,t,n){var i=new qq.Promise;return t.onreadystatechange=function(){if(4===t.readyState){var r;null==n?(r=w.done(e,t),i[r.success?"success":"failure"](r.response,t)):(y.done(e,t,n),r=w.done(e,t),i[r.success?"success":"failure"](r.response,t))}},i}};qq.extend(this,{uploadChunk:w.start,uploadFile:w.start}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"s3"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(e){return{expunge:function(t){var n=v._getPersistableData(t)&&v._getPersistableData(t).uploadId,i=v._maybeDeletePersistedChunkData(t);void 0!==n&&i&&b.abortMultipart.send(t,n),e.expunge(t)},finalizeChunks:function(e){return y.combine(e)},_getLocalStorageId:function(t){var n=e._getLocalStorageId(t),i=w.bucket.getName(t);return n+"-"+i}}})},qq.s3.FormUploadHandler=function(e,t){"use strict";function n(t,n){var i,r,o,a=(e.endpointStore.get(t),s._getFileState(t).bucket);try{if(i=n.contentDocument||n.contentWindow.document,r=i.body.innerHTML,o=qq.s3.util.parseIframeResponse(n),o.bucket===a&&o.key===qq.s3.util.encodeQueryStringParam(s.getThirdPartyFileId(t)))return!0;p("Response from AWS included an unexpected bucket or key name.","error")}catch(e){p("Error when attempting to parse form upload response ("+e.message+")","error")}return!1}function i(e){var t=m.get(e);return t[q]=c(e),qq.s3.util.generateAwsParams({endpoint:g.get(e),clockDrift:u,params:t,bucket:s._getFileState(e).bucket,key:s.getThirdPartyFileId(e),accessKey:C.get().accessKey,sessionToken:C.get().sessionToken,acl:v.get(e),minFileSize:S.minSizeLimit,maxFileSize:S.maxSizeLimit,successRedirectUrl:x,reducedRedundancy:_,region:y,serverSideEncryption:b,signatureVersion:w.version,log:p},qq.bind(E.getSignature,this,e))}function r(t,n){var r=new qq.Promise,o="POST",u=e.endpointStore.get(t),l=c(t);return i(t).then(function(e){var t=s._initFormForUpload({method:o,endpoint:u,params:e,paramsInBody:!0,targetName:n.name});r.success(t)},function(e){r.failure(e),a(t,n,l,{error:e})}),r}function o(e){var t=s._createIframe(e),i=s.getInput(e),o=new qq.Promise;return r(e,t).then(function(r){r.appendChild(i),s._attachLoadEvent(t,function(i){p("iframe loaded"),i?i.success===!1&&(p("Amazon likely rejected the upload request","error"),o.failure(i)):(i={},i.success=n(e,t),i.success===!1?(p("A success response was received by Amazon, but it was invalid in some way.","error"),o.failure(i)):(qq.extend(i,qq.s3.util.parseIframeResponse(t)),o.success(i))),a(e,t)}),p("Sending upload request for "+e),r.submit(),qq(r).remove()},o.failure),o}function a(e,t){s._detachLoadEvent(e),t&&qq(t).remove()}var s=this,u=e.clockDrift,l=t.onUuidChanged,c=t.getName,d=t.getUuid,p=t.log,f=e.getBucket,h=e.getKeyName,q=e.filenameParam,m=e.paramsStore,g=e.endpointStore,v=e.aclStore,_=e.objectProperties.reducedRedundancy,y=e.objectProperties.region,b=e.objectProperties.serverSideEncryption,S=e.validation,w=e.signature,x=e.iframeSupport.localBlankPagePath,C=e.signature.credentialsProvider,E=new qq.s3.RequestSigner({signatureSpec:w,cors:e.cors,log:p});if(void 0===x)throw new Error("successRedirectEndpoint MUST be defined if you intend to use browsers that do not support the File API!");qq.extend(this,new qq.FormUploadHandler({options:{isCors:!1,inputName:"file"},proxy:{onCancel:e.onCancel,onUuidChanged:l,getName:c,getUuid:d,log:p}})),qq.extend(this,{uploadFile:function(e){var t=c(e),n=new qq.Promise;return s.getThirdPartyFileId(e)?s._getFileState(e).bucket?o(e).then(n.success,n.failure):f(e).then(function(t){s._getFileState(e).bucket=t,o(e).then(n.success,n.failure)}):h(e,t).then(function(t){f(e).then(function(i){s._getFileState(e).bucket=i,s._setThirdPartyFileId(e,t),o(e).then(n.success,n.failure)},function(e){n.failure({error:e})})},function(e){n.failure({error:e})}),n}})},function(){"use strict";qq.s3.FineUploader=function(e){var t={failedUploadTextDisplay:{mode:"custom"}};qq.extend(t,e,!0),qq.FineUploader.call(this,t,"s3"),qq.supportedFeatures.ajaxUploading||void 0!==t.iframeSupport.localBlankPagePath||(this._options.element.innerHTML="<div>You MUST set the <code>localBlankPagePath</code> property of the <code>iframeSupport</code> option since this browser does not support the File API!</div>")},qq.extend(qq.s3.FineUploader.prototype,qq.s3.FineUploaderBasic.prototype),qq.extend(qq.s3.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.s3.FineUploader.prototype,qq.uiPrivateApi)}(),qq.azure=qq.azure||{},qq.azure.util=qq.azure.util||function(){"use strict";return{AZURE_PARAM_PREFIX:"x-ms-meta-",_paramNameMatchesAzureParameter:function(e){switch(e){case"Cache-Control":case"Content-Disposition":case"Content-Encoding":case"Content-MD5":case"x-ms-blob-content-encoding":case"x-ms-blob-content-disposition":case"x-ms-blob-content-md5":case"x-ms-blob-cache-control":return!0;default:return!1}},_getPrefixedParamName:function(e){return qq.azure.util._paramNameMatchesAzureParameter(e)?e:qq.azure.util.AZURE_PARAM_PREFIX+e},getParamsAsHeaders:function(e){var t={};return qq.each(e,function(e,n){var i=qq.azure.util._getPrefixedParamName(e),r=null;qq.isFunction(n)?r=String(n()):qq.isObject(n)?qq.extend(t,qq.azure.util.getParamsAsHeaders(n)):r=String(n),null!==r&&(qq.azure.util._paramNameMatchesAzureParameter(e)?t[i]=r:t[i]=encodeURIComponent(r))}),t},parseAzureError:function(e,t){var n,i,r=new DOMParser,o=r.parseFromString(e,"application/xml"),a=o.getElementsByTagName("Error")[0],s={};if(t("Received error response: "+e,"error"),a)return i=a.getElementsByTagName("Message")[0],i&&(s.message=i.textContent),n=a.getElementsByTagName("Code")[0],n&&(s.code=n.textContent),t("Parsed Azure error: "+JSON.stringify(s),"error"),s}}}(),function(){"use strict";qq.nonTraditionalBasePublicApi={setUploadSuccessParams:function(e,t){this._uploadSuccessParamsStore.set(e,t)},setUploadSuccessEndpoint:function(e,t){this._uploadSuccessEndpointStore.set(e,t)}},qq.nonTraditionalBasePrivateApi={_onComplete:function(e,t,n,i){var r,o,a=!!n.success,s=this,u=arguments,l=this._uploadSuccessEndpointStore.get(e),c=this._options.uploadSuccess.customHeaders,d=this._options.uploadSuccess.method,p=this._options.cors,f=new qq.Promise,h=this._uploadSuccessParamsStore.get(e),q=this._paramsStore.get(e),m=function(t){delete s._failedSuccessRequestCallbacks[e],qq.extend(n,t),qq.FineUploaderBasic.prototype._onComplete.apply(s,u),f.success(t)},g=function(o){var a=r;qq.extend(n,o),n&&n.reset&&(a=null),a?s._failedSuccessRequestCallbacks[e]=a:delete s._failedSuccessRequestCallbacks[e],s._onAutoRetry(e,t,n,i,a)||(qq.FineUploaderBasic.prototype._onComplete.apply(s,u),f.failure(o))};return a&&l?(o=new qq.UploadSuccessAjaxRequester({endpoint:l,method:d,customHeaders:c,cors:p,log:qq.bind(this.log,this)}),qq.extend(h,s._getEndpointSpecificParams(e,n,i),!0),q&&qq.extend(h,q,!0),r=qq.bind(function(){o.sendSuccessRequest(e,h).then(m,g)},s),r(),f):qq.FineUploaderBasic.prototype._onComplete.apply(this,arguments)},_manualRetry:function(e){var t=this._failedSuccessRequestCallbacks[e];return qq.FineUploaderBasic.prototype._manualRetry.call(this,e,t)}}}(),function(){"use strict";qq.azure.FineUploaderBasic=function(e){if(!qq.supportedFeatures.ajaxUploading)throw new qq.Error("Uploading directly to Azure is not possible in this browser.");var t={signature:{endpoint:null,customHeaders:{}},blobProperties:{name:"uuid"},uploadSuccess:{endpoint:null,method:"POST",params:{},customHeaders:{}},chunking:{partSize:4e6,minFileSize:4000001}};qq.extend(t,e,!0),qq.FineUploaderBasic.call(this,t),this._uploadSuccessParamsStore=this._createStore(this._options.uploadSuccess.params),this._uploadSuccessEndpointStore=this._createStore(this._options.uploadSuccess.endpoint),this._failedSuccessRequestCallbacks={},this._cannedBlobNames={}},qq.extend(qq.azure.FineUploaderBasic.prototype,qq.basePublicApi),qq.extend(qq.azure.FineUploaderBasic.prototype,qq.basePrivateApi),qq.extend(qq.azure.FineUploaderBasic.prototype,qq.nonTraditionalBasePublicApi),qq.extend(qq.azure.FineUploaderBasic.prototype,qq.nonTraditionalBasePrivateApi),qq.extend(qq.azure.FineUploaderBasic.prototype,{getBlobName:function(e){return null==this._cannedBlobNames[e]?this._handler.getThirdPartyFileId(e):this._cannedBlobNames[e]},_getEndpointSpecificParams:function(e){return{blob:this.getBlobName(e),uuid:this.getUuid(e),name:this.getName(e),container:this._endpointStore.get(e)}},_createUploadHandler:function(){return qq.FineUploaderBasic.prototype._createUploadHandler.call(this,{signature:this._options.signature,onGetBlobName:qq.bind(this._determineBlobName,this),deleteBlob:qq.bind(this._deleteBlob,this,!0)},"azure")},_determineBlobName:function(e){var t=this._options.blobProperties.name,n=this.getUuid(e),i=this.getName(e),r=qq.getExtension(i),o=n;if(!qq.isString(t))return t.call(this,e);switch(t){case"uuid":return void 0!==r&&(o+="."+r),(new qq.Promise).success(o);case"filename":return(new qq.Promise).success(i);default:return new qq.Promise.failure("Invalid blobName option value - "+t)}},_addCannedFile:function(e){var t;if(null==e.blobName)throw new qq.Error("Did not find blob name property in server session response.  This is required!");return t=qq.FineUploaderBasic.prototype._addCannedFile.apply(this,arguments),this._cannedBlobNames[t]=e.blobName,t},_deleteBlob:function(e,t){var n=this,i={},r={get:function(e){return n._endpointStore.get(e)+"/"+n.getBlobName(e)}},o={get:function(e){return i[e]}},a=function(e,t){i[e]=t,u.send(e)},s=function(t,i,r){e?(n.log("Will cancel upload, but cannot remove uncommitted parts from Azure due to issue retrieving SAS","error"),qq.FineUploaderBasic.prototype._onCancel.call(n,t,n.getName(t))):(n._onDeleteComplete(t,r,!0),n._options.callbacks.onDeleteComplete(t,r,!0))},u=new qq.azure.DeleteBlob({endpointStore:o,log:qq.bind(n.log,n),onDelete:function(e){n._onDelete(e),n._options.callbacks.onDelete(e)},onDeleteComplete:function(t,r,o){delete i[t],o&&(e?n.log("Will cancel upload, but failed to remove uncommitted parts from Azure.","error"):qq.azure.util.parseAzureError(r.responseText,qq.bind(n.log,n))),e?(qq.FineUploaderBasic.prototype._onCancel.call(n,t,n.getName(t)),n.log("Deleted uncommitted blob chunks for "+t)):(n._onDeleteComplete(t,r,o),n._options.callbacks.onDeleteComplete(t,r,o))}}),l=new qq.azure.GetSas({cors:this._options.cors,customHeaders:this._options.signature.customHeaders,endpointStore:{get:function(){return n._options.signature.endpoint}},restRequestVerb:u.method,log:qq.bind(n.log,n)});l.request(t,r.get(t)).then(qq.bind(a,n,t),qq.bind(s,n,t))},_createDeleteHandler:function(){var e=this;return{sendDelete:function(t,n){e._deleteBlob(!1,t)}}}})}(),qq.azure.XhrUploadHandler=function(e,t){"use strict";function n(e){var t=new qq.Promise;return r(e).then(function(n){var i=a._getMimeType(e),r=a._getPersistableData(e).blockIdEntries;_.putBlockList.send(e,n,r,i,function(t){a._registerXhr(e,null,t,_.putBlockList)}).then(function(n){s("Success combining chunks for id "+e),t.success({},n)},function(n){s("Attempt to combine chunks failed for id "+e,"error"),o(n,t)})},t.failure),t}function i(e){var t=l.get(e),n=new qq.Promise,i=function(i){a._setThirdPartyFileId(e,i),n.success(t+"/"+i)},r=function(e){n.failure(e)};return q(e).then(i,r),n}function r(e,t){var n=null==t?e:e+"."+t,r=new qq.Promise,o=function(e){s("GET SAS request succeeded."),r.success(e)},a=function(e,t){s("GET SAS request failed: "+e,"error"),r.failure({error:"Problem communicating with local server"},t)},u=function(e){_.getSasForPutBlobOrBlock.request(n,e).then(o,a)},l=function(t){s(qq.format("Failed to determine blob name for ID {} - {}",e,t),"error"),r.failure({error:t})};return i(e).then(u,l),r}function o(e,t){var n=qq.azure.util.parseAzureError(e.responseText,s),i="Problem sending file to Azure";t.failure({error:i,azureError:n&&n.message,reset:403===e.status})}var a=this,s=t.log,u=e.cors,l=e.endpointStore,c=e.paramsStore,d=e.signature,p=e.filenameParam,f=e.chunking.minFileSize,h=e.deleteBlob,q=e.onGetBlobName,m=t.getName,g=t.getSize,v=function(e){var t=c.get(e);return t[p]=m(e),t},_={putBlob:new qq.azure.PutBlob({getBlobMetadata:v,log:s}),putBlock:new qq.azure.PutBlock({log:s}),putBlockList:new qq.azure.PutBlockList({getBlobMetadata:v,log:s}),getSasForPutBlobOrBlock:new qq.azure.GetSas({cors:u,customHeaders:d.customHeaders,endpointStore:{get:function(){return d.endpoint}},log:s,restRequestVerb:"PUT"})};qq.extend(this,{uploadChunk:function(e,t){var n=new qq.Promise;return r(e,t).then(function(i){var r=a._createXhr(e,t),u=a._getChunkData(e,t);a._registerProgressHandler(e,t,u.size),a._registerXhr(e,t,r,_.putBlock),_.putBlock.upload(e+"."+t,r,i,t,u.blob).then(function(t){a._getPersistableData(e).blockIdEntries||(a._getPersistableData(e).blockIdEntries=[]),a._getPersistableData(e).blockIdEntries.push(t),s("Put Block call succeeded for "+e),n.success({},r)},function(){s(qq.format("Put Block call failed for ID {} on part {}",e,t),"error"),o(r,n)})},n.failure),n},uploadFile:function(e){var t=new qq.Promise,n=a.getFile(e);return r(e).then(function(i){var r=a._createXhr(e);a._registerProgressHandler(e),_.putBlob.upload(e,r,i,n).then(function(){s("Put Blob call succeeded for "+e),t.success({},r)},function(){s("Put Blob call failed for "+e,"error"),o(r,t)})},t.failure),t}}),qq.extend(this,new qq.XhrUploadHandler({options:qq.extend({namespace:"azure"},e),proxy:qq.extend({getEndpoint:e.endpointStore.get},t)})),qq.override(this,function(e){return{expunge:function(t){var n=a._wasCanceled(t),i=a._getPersistableData(t),r=i&&i.blockIdEntries||[];n&&r.length>0&&h(t),e.expunge(t)},finalizeChunks:function(e){return n(e)},_shouldChunkThisFile:function(t){var n=e._shouldChunkThisFile(t);return n&&g(t)>=f}}})},qq.azure.GetSas=function(e){"use strict";function t(e,t,n){var i=r[e];n?i.failure("Received response code "+t.status,t):t.responseText.length?i.success(t.responseText):i.failure("Empty response.",t),delete r[e]}var n,i={cors:{expected:!1,sendCredentials:!1},customHeaders:{},restRequestVerb:"PUT",endpointStore:null,log:function(e,t){}},r={};qq.extend(i,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",validMethods:["GET"],method:"GET",successfulResponseCodes:{GET:[200]},contentType:null,customHeaders:i.customHeaders,endpointStore:i.endpointStore,cors:i.cors,log:i.log,onComplete:t})),qq.extend(this,{request:function(e,t){var o=new qq.Promise,a=i.restRequestVerb;return i.log(qq.format("Submitting GET SAS request for a {} REST request related to file ID {}.",a,e)),r[e]=o,n.initTransport(e).withParams({bloburi:t,_method:a}).withCacheBuster().send(),o}})},qq.UploadSuccessAjaxRequester=function(e){"use strict";function t(e,t,n){var o,a=i[e],s=t.responseText,u={success:!0},l={success:!1};delete i[e],r.log(qq.format("Received the following response body to an upload success request for id {}: {}",e,s));try{o=qq.parseJson(s),n||o&&(o.error||o.success===!1)?(r.log("Upload success request was rejected by the server.","error"),a.failure(qq.extend(o,l))):(r.log("Upload success was acknowledged by the server."),a.success(qq.extend(o,u)))}catch(t){n?(r.log(qq.format("Your server indicated failure in its upload success request response for id {}!",e),"error"),a.failure(l)):(r.log("Upload success was acknowledged by the server."),a.success(u))}}var n,i=[],r={method:"POST",endpoint:null,maxConnections:3,customHeaders:{},paramsStore:{},cors:{expected:!1,sendCredentials:!1},log:function(e,t){}};qq.extend(r,e),n=qq.extend(this,new qq.AjaxRequester({acceptHeader:"application/json",method:r.method,endpointStore:{get:function(){return r.endpoint}},paramsStore:r.paramsStore,maxConnections:r.maxConnections,customHeaders:r.customHeaders,log:r.log,onComplete:t,cors:r.cors})),qq.extend(this,{sendSuccessRequest:function(e,t){var o=new qq.Promise;return r.log("Submitting upload success request/notification for "+e),n.initTransport(e).withParams(t).send(),i[e]=o,o}})},qq.azure.DeleteBlob=function(e){"use strict";var t,n="DELETE",i={endpointStore:{},onDelete:function(e){},onDeleteComplete:function(e,t,n){},log:function(e,t){}};qq.extend(i,e),t=qq.extend(this,new qq.AjaxRequester({validMethods:[n],method:n,successfulResponseCodes:function(){var e={};return e[n]=[202],e}(),contentType:null,endpointStore:i.endpointStore,allowXRequestedWithAndCacheControl:!1,cors:{expected:!0},log:i.log,onSend:i.onDelete,onComplete:i.onDeleteComplete})),qq.extend(this,{method:n,send:function(e){return i.log("Submitting Delete Blob request for "+e),t.initTransport(e).send()}})},qq.azure.PutBlob=function(e){"use strict";var t,n="PUT",i={getBlobMetadata:function(e){},log:function(e,t){}},r={},o={},a={get:function(e){return r[e]}};qq.extend(i,e),t=qq.extend(this,new qq.AjaxRequester({validMethods:[n],method:n,successfulResponseCodes:function(){var e={};return e[n]=[201],e}(),contentType:null,customHeaders:function(e){var t=i.getBlobMetadata(e),n=qq.azure.util.getParamsAsHeaders(t);return n["x-ms-blob-type"]="BlockBlob",n},endpointStore:a,allowXRequestedWithAndCacheControl:!1,cors:{expected:!0},log:i.log,onComplete:function(e,t,n){var i=o[e];delete r[e],delete o[e],n?i.failure():i.success()}})),qq.extend(this,{method:n,upload:function(e,n,a,s){var u=new qq.Promise;return i.log("Submitting Put Blob request for "+e),o[e]=u,r[e]=a,t.initTransport(e).withPayload(s).withHeaders({"Content-Type":s.type}).send(n),u}})},qq.azure.PutBlock=function(e){"use strict";function t(e){var t=5,n=new Array(t+1).join("0"),i=(n+e).slice(-t);return btoa(i)}var n,i="PUT",r={},o={},a={log:function(e,t){}},s={},u={get:function(e){return s[e]}};qq.extend(a,e),n=qq.extend(this,new qq.AjaxRequester({validMethods:[i],method:i,successfulResponseCodes:function(){var e={};return e[i]=[201],e}(),contentType:null,endpointStore:u,allowXRequestedWithAndCacheControl:!1,cors:{expected:!0},log:a.log,onComplete:function(e,t,n){var i=o[e],a=r[e];delete s[e],delete o[e],delete r[e],n?i.failure():i.success(a)}})),qq.extend(this,{method:i,upload:function(e,i,u,l,c){var d=new qq.Promise,p=t(l);return o[e]=d,a.log(qq.format("Submitting Put Block request for {} = part {}",e,l)),s[e]=qq.format("{}&comp=block&blockid={}",u,encodeURIComponent(p)),r[e]={part:l,id:p},n.initTransport(e).withPayload(c).send(i),d}})},qq.azure.PutBlockList=function(e){"use strict";function t(e){var t=document.implementation.createDocument(null,"BlockList",null);return e.sort(function(e,t){return e.part-t.part}),qq.each(e,function(e,n){var i=t.createElement("Latest"),r=t.createTextNode(n.id);i.appendChild(r),qq(t).children()[0].appendChild(i)}),(new XMLSerializer).serializeToString(t)}var n,i="PUT",r={},o={getBlobMetadata:function(e){},log:function(e,t){}},a={},s={get:function(e){return a[e]}};qq.extend(o,e),n=qq.extend(this,new qq.AjaxRequester({validMethods:[i],method:i,successfulResponseCodes:function(){var e={};return e[i]=[201],e}(),customHeaders:function(e){var t=o.getBlobMetadata(e);return qq.azure.util.getParamsAsHeaders(t)},contentType:"text/plain",endpointStore:s,allowXRequestedWithAndCacheControl:!1,cors:{expected:!0},log:o.log,onSend:function(){},onComplete:function(e,t,n){var i=r[e];delete a[e],delete r[e],n?i.failure(t):i.success(t)}})),qq.extend(this,{method:i,send:function(e,i,s,u,l){var c,d=new qq.Promise,p=t(s);return r[e]=d,o.log(qq.format("Submitting Put Block List request for {}",e)),a[e]=qq.format("{}&comp=blocklist",i),c=n.initTransport(e).withPayload(p).withHeaders({"x-ms-blob-content-type":u}).send(),l(c),d}})},function(){"use strict";qq.azure.FineUploader=function(e){var t={failedUploadTextDisplay:{mode:"custom"}};qq.extend(t,e,!0),qq.FineUploader.call(this,t,"azure")},qq.extend(qq.azure.FineUploader.prototype,qq.azure.FineUploaderBasic.prototype),qq.extend(qq.azure.FineUploader.prototype,qq.uiPublicApi),qq.extend(qq.azure.FineUploader.prototype,qq.uiPrivateApi),qq.extend(qq.azure.FineUploader.prototype,{})}()}(window)},function(e,t,n){"use strict";e.exports=n(70)},,,,,function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<t.length;r++){var a=t[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(e,t,n){function i(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=d[i.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](i.parts[o]);for(;o<i.parts.length;o++)r.parts.push(u(i.parts[o],t))}else{for(var a=[],o=0;o<i.parts.length;o++)a.push(u(i.parts[o],t));d[i.id]={id:i.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},i=0;i<e.length;i++){var r=e[i],o=r[0],a=r[1],s=r[2],u=r[3],l={css:a,media:s,sourceMap:u};n[o]?n[o].parts.push(l):t.push(n[o]={id:o,parts:[l]})}return t}function o(e,t){var n=h(),i=g[g.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),g.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function a(e){e.parentNode.removeChild(e);var t=g.indexOf(e);t>=0&&g.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",o(e,t),t}function u(e,t){var n,i,r;if(t.singleton){var o=m++;n=q||(q=s(t)),i=l.bind(null,n,o,!1),r=l.bind(null,n,o,!0)}else n=s(t),i=c.bind(null,n),r=function(){a(n)};return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}function l(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=v(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function c(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},f=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),q=null,m=0,g=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=f()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var n=r(e);return i(n,t),function(e){for(var o=[],a=0;a<n.length;a++){var s=n[a],u=d[s.id];u.refs--,o.push(u)}if(e){var l=r(e);i(l,t)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete d[u.id]}}}};var v=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()}]);
//# sourceMappingURL=vendor.3e1f2576aadeeb10b05b.js.map